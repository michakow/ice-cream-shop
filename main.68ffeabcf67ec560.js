"use strict";(self.webpackChunkice_cream_shop=self.webpackChunkice_cream_shop||[]).push([[179],{2011:(ne,z,A)=>{A.d(z,{hO:()=>De,xv:()=>W,Dh:()=>J,GT:()=>te,cc:()=>be,on:()=>L,pX:()=>U});var a=A(5e3),$=A(127),k=A(6351);ne=A.hmd(ne);const ee=["ngOnDestroy"],U=(fe,He,Le,Ie={})=>new Proxy(fe,{get:(ye,Ae)=>Le.runOutsideAngular(()=>{var qe;if(fe[Ae])return(null===(qe=null==Ie?void 0:Ie.spy)||void 0===qe?void 0:qe.get)&&Ie.spy.get(Ae,fe[Ae]),fe[Ae];if(ee.indexOf(Ae)>-1)return()=>{};const Ke=He.toPromise().then(ue=>{const nt=ue&&ue[Ae];return"function"==typeof nt?nt.bind(ue):nt&&nt.then?nt.then(le=>Le.run(()=>le)):Le.run(()=>nt)});return new Proxy(()=>{},{get:(ue,nt)=>Ke[nt],apply:(ue,nt,le)=>Ke.then(_e=>{var de;const Oe=_e&&_e(...le);return(null===(de=null==Ie?void 0:Ie.spy)||void 0===de?void 0:de.apply)&&Ie.spy.apply(Ae,le,Oe),Oe})})})}),te=(fe,He)=>{He.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Ie=>{Object.defineProperty(fe.prototype,Ie,Object.getOwnPropertyDescriptor(Le.prototype||Le,Ie))})})};class q{constructor(He){return He}}const J=new a.OlP("angularfire2.app.options"),W=new a.OlP("angularfire2.app.name");function L(fe,He,Le){const ye="object"==typeof Le&&Le||{};ye.name=ye.name||"string"==typeof Le&&Le||"[DEFAULT]";const qe=$.Z.apps.filter(Ke=>Ke&&Ke.name===ye.name)[0]||He.runOutsideAngular(()=>$.Z.initializeApp(fe,ye));try{JSON.stringify(fe)!==JSON.stringify(qe.options)&&V("error",`${qe.name} Firebase App already initialized with different options${ne.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new q(qe)}const V=(fe,...He)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[fe](...He)},K={provide:q,useFactory:L,deps:[J,a.R0b,[new a.FiY,W]]};let De=(()=>{class fe{constructor(Le){$.Z.registerVersion("angularfire",k.q4.full,"core"),$.Z.registerVersion("angularfire",k.q4.full,"app-compat"),$.Z.registerVersion("angular",a.q4F.full,Le.toString())}static initializeApp(Le,Ie){return{ngModule:fe,providers:[{provide:J,useValue:Le},{provide:W,useValue:Ie}]}}}return fe.\u0275fac=function(Le){return new(Le||fe)(a.LFG(a.Lbi))},fe.\u0275mod=a.oAB({type:fe}),fe.\u0275inj=a.cJS({providers:[K]}),fe})();function be(fe,He,Le,Ie,ye){const[,Ae,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===fe)||[];if(Ae)return function xe(fe,He){try{return fe.toString()===He.toString()}catch(Le){return fe===He}}(ye,qe)||(he("error",`${He} was already initialized on the ${Le} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:ye,was:qe})),Ae;{const Ke=Ie();return globalThis.\u0275AngularfireInstanceCache.push([fe,Ke,ye]),Ke}}const ke=!!ne.hot,he=(fe,...He)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[fe](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(ne,z,A)=>{A.d(z,{q4:()=>Uo,iC:()=>nl,HU:()=>ga,vb:()=>rg,JM:()=>tn});var a=A(5e3),$=A(5867),k=A(5861),ee=A(9681),U=A(2090),te=A(4859),q=A(1877);const J="@firebase/installations",W="0.5.8",V=`w:${W}`,K="FIS_v2",fe=new U.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(D){return D instanceof U.ZR&&D.code.includes("request-failed")}function Le({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ie(D){return{token:D.token,requestStatus:2,expiresIn:le(D.expiresIn),creationTime:Date.now()}}function ye(D,I){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,k.Z)(function*(D,I){const B=(yield I.json()).error;return fe.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function qe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ke(D,{refreshToken:I}){const R=qe(D);return R.append("Authorization",function _e(D){return`${K} ${D}`}(I)),R}function ue(D){return nt.apply(this,arguments)}function nt(){return(nt=(0,k.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function le(D){return Number(D.replace("s","000"))}function de(D,I){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:R}){const B=Le(D),se=qe(D),me=I.getImmediate({optional:!0});if(me){const At=yield me.getHeartbeatsHeader();At&&se.append("x-firebase-client",At)}const ct={method:"POST",headers:se,body:JSON.stringify({fid:R,authVersion:K,appId:D.appId,sdkVersion:V})},kt=yield ue(()=>fetch(B,ct));if(kt.ok){const At=yield kt.json();return{fid:At.fid||R,registrationStatus:2,refreshToken:At.refreshToken,authToken:Ie(At.authToken)}}throw yield ye("Create Installation",kt)})).apply(this,arguments)}function Ce(D){return new Promise(I=>{setTimeout(I,D)})}const Mt=/^[cdef][\w-]{21}$/;function dn(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function tt(D){return function $e(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Mt.test(R)?R:""}catch(D){return""}}function Xt(D){return`${D.appName}!${D.appId}`}const ei=new Map;function xn(D,I){const R=Xt(D);sn(R,I),function en(D,I){const R=function Fi(){return!Nn&&"BroadcastChannel"in self&&(Nn=new BroadcastChannel("[Firebase] FID Change"),Nn.onmessage=D=>{sn(D.data.key,D.data.fid)}),Nn}();R&&R.postMessage({key:D,fid:I}),function Vr(){0===ei.size&&Nn&&(Nn.close(),Nn=null)}()}(R,I)}function sn(D,I){const R=ei.get(D);if(R)for(const B of R)B(I)}let Nn=null;const Di="firebase-installations-store";let Kr=null;function rr(){return Kr||(Kr=(0,U.X3)("firebase-installations-database",1,(D,I)=>{0===I&&D.createObjectStore(Di)})),Kr}function yt(D,I){return Li.apply(this,arguments)}function Li(){return(Li=(0,k.Z)(function*(D,I){const R=Xt(D),se=(yield rr()).transaction(Di,"readwrite"),me=se.objectStore(Di),Be=yield me.get(R);return yield me.put(I,R),yield se.complete,(!Be||Be.fid!==I.fid)&&xn(D,I.fid),I})).apply(this,arguments)}function Ln(D){return ti.apply(this,arguments)}function ti(){return(ti=(0,k.Z)(function*(D){const I=Xt(D),B=(yield rr()).transaction(Di,"readwrite");yield B.objectStore(Di).delete(I),yield B.complete})).apply(this,arguments)}function Ti(D,I){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,k.Z)(function*(D,I){const R=Xt(D),se=(yield rr()).transaction(Di,"readwrite"),me=se.objectStore(Di),Be=yield me.get(R),ct=I(Be);return void 0===ct?yield me.delete(R):yield me.put(ct,R),yield se.complete,ct&&(!Be||Be.fid!==ct.fid)&&xn(D,ct.fid),ct})).apply(this,arguments)}function yn(D){return ni.apply(this,arguments)}function ni(){return(ni=(0,k.Z)(function*(D){let I;const R=yield Ti(D.appConfig,B=>{const se=ls(B),me=Io(D,se);return I=me.registrationPromise,me.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function ls(D){return Yt(D||{fid:dn(),registrationStatus:0})}function Io(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(fe.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},B=function Gt(D,I){return _t.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:B}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:St(D)}:{installationEntry:I}}function _t(){return(_t=(0,k.Z)(function*(D,I){try{const R=yield de(D,I);return yt(D.appConfig,R)}catch(R){throw He(R)&&409===R.customData.serverCode?yield Ln(D.appConfig):yield yt(D.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function St(D){return ii.apply(this,arguments)}function ii(){return(ii=(0,k.Z)(function*(D){let I=yield Er(D.appConfig);for(;1===I.registrationStatus;)yield Ce(100),I=yield Er(D.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:B}=yield yn(D);return B||R}return I})).apply(this,arguments)}function Er(D){return Ti(D,I=>{if(!I)throw fe.create("installation-not-found");return Yt(I)})}function Yt(D){return function cs(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Ii(D,I){return pi.apply(this,arguments)}function pi(){return(pi=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:I},R){const B=bt(D,R),se=Ke(D,R),me=I.getImmediate({optional:!0});if(me){const At=yield me.getHeartbeatsHeader();At&&se.append("x-firebase-client",At)}const ct={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:V,appId:D.appId}})},kt=yield ue(()=>fetch(B,ct));if(kt.ok)return Ie(yield kt.json());throw yield ye("Generate Auth Token",kt)})).apply(this,arguments)}function bt(D,{fid:I}){return`${Le(D)}/${I}/authTokens:generate`}function mi(D){return $t.apply(this,arguments)}function $t(){return($t=(0,k.Z)(function*(D,I=!1){let R;const B=yield Ti(D.appConfig,me=>{if(!Wt(me))throw fe.create("not-registered");const Be=me.authToken;if(!I&&Q(Be))return me;if(1===Be.requestStatus)return R=rt(D,I),me;{if(!navigator.onLine)throw fe.create("app-offline");const ct=X(me);return R=wt(D,ct),ct}});return R?yield R:B.authToken})).apply(this,arguments)}function rt(D,I){return Re.apply(this,arguments)}function Re(){return(Re=(0,k.Z)(function*(D,I){let R=yield at(D.appConfig);for(;1===R.authToken.requestStatus;)yield Ce(100),R=yield at(D.appConfig);const B=R.authToken;return 0===B.requestStatus?mi(D,I):B})).apply(this,arguments)}function at(D){return Ti(D,I=>{if(!Wt(I))throw fe.create("not-registered");return function Ee(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function wt(D,I){return zt.apply(this,arguments)}function zt(){return(zt=(0,k.Z)(function*(D,I){try{const R=yield Ii(D,I),B=Object.assign(Object.assign({},I),{authToken:R});return yield yt(D.appConfig,B),R}catch(R){if(!He(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const B=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield yt(D.appConfig,B)}else yield Ln(D.appConfig);throw R}})).apply(this,arguments)}function Wt(D){return void 0!==D&&2===D.registrationStatus}function Q(D){return 2===D.requestStatus&&!function j(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function X(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Ye(){return(Ye=(0,k.Z)(function*(D){const I=D,{installationEntry:R,registrationPromise:B}=yield yn(I);return B?B.catch(console.error):mi(I).catch(console.error),R.fid})).apply(this,arguments)}function an(){return(an=(0,k.Z)(function*(D,I=!1){const R=D;return yield Ai(R),(yield mi(R,I)).token})).apply(this,arguments)}function Ai(D){return on.apply(this,arguments)}function on(){return(on=(0,k.Z)(function*(D){const{registrationPromise:I}=yield yn(D);I&&(yield I)})).apply(this,arguments)}function ri(D){return fe.create("missing-app-config-values",{valueName:D})}const Ao="installations",Ue=D=>{const I=D.getProvider("app").getImmediate(),R=function Yr(D){if(!D||!D.options)throw ri("App Configuration");if(!D.name)throw ri("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!D.options[R])throw ri(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,ee._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ut=D=>{const I=D.getProvider("app").getImmediate(),R=(0,ee._getProvider)(I,Ao).getImmediate();return{getId:()=>function ae(D){return Ye.apply(this,arguments)}(R),getToken:se=>function Tt(D){return an.apply(this,arguments)}(R,se)}};(function bn(){(0,ee._registerComponent)(new te.wA(Ao,Ue,"PUBLIC")),(0,ee._registerComponent)(new te.wA("installations-internal",Ut,"PRIVATE"))})(),(0,ee.registerVersion)(J,W),(0,ee.registerVersion)(J,W,"esm2017");const ui="@firebase/remote-config",Vn=new U.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Dr{constructor(I,R,B,se){this.client=I,this.storage=R,this.storageCache=B,this.logger=se}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-R,se=B<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${se}.`),se}fetch(I){var R=this;return(0,k.Z)(function*(){const[B,se]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(se&&R.isCachedDataFresh(I.cacheMaxAgeMillis,B))return se;I.eTag=se&&se.eTag;const me=yield R.client.fetch(I),Be=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&Be.push(R.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(Be),me})()}}function El(D=navigator){return D.languages&&D.languages[0]||D.language}class xo{constructor(I,R,B,se,me,Be){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=B,this.projectId=se,this.apiKey=me,this.appId=Be}fetch(I){var R=this;return(0,k.Z)(function*(){const[B,se]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},kt={sdk_version:R.sdkVersion,app_instance_id:B,app_instance_id_token:se,app_id:R.appId,language_code:El()},At={method:"POST",headers:ct,body:JSON.stringify(kt)},Vt=fetch(Be,At),Je=new Promise((cr,Ns)=>{I.signal.addEventListener(()=>{const Ho=new Error("The operation was aborted.");Ho.name="AbortError",Ns(Ho)})});let yi;try{yield Promise.race([Vt,Je]),yi=yield Vt}catch(cr){let Ns="fetch-client-network";throw"AbortError"===cr.name&&(Ns="fetch-timeout"),Vn.create(Ns,{originalErrorMessage:cr.message})}let ln=yi.status;const rs=yi.headers.get("ETag")||void 0;let _a,go;if(200===yi.status){let cr;try{cr=yield yi.json()}catch(Ns){throw Vn.create("fetch-client-parse",{originalErrorMessage:Ns.message})}_a=cr.entries,go=cr.state}if("INSTANCE_STATE_UNSPECIFIED"===go?ln=500:"NO_CHANGE"===go?ln=304:("NO_TEMPLATE"===go||"EMPTY_CONFIG"===go)&&(_a={}),304!==ln&&200!==ln)throw Vn.create("fetch-status",{httpStatus:ln});return{status:ln,eTag:rs,config:_a}})()}}class qm{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,k.Z)(function*(){const B=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,B)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:B}){var se=this;return(0,k.Z)(function*(){yield function Bn(D,I){return new Promise((R,B)=>{const se=Math.max(I-Date.now(),0),me=setTimeout(R,se);D.addEventListener(()=>{clearTimeout(me),B(Vn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const me=yield se.client.fetch(I);return yield se.storage.deleteThrottleMetadata(),me}catch(me){if(!function bd(D){if(!(D instanceof U.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(me))throw me;const Be={throttleEndTimeMillis:Date.now()+(0,U.$s)(B),backoffCount:B+1};return yield se.storage.setThrottleMetadata(Be),se.attemptFetch(I,Be)}})()}}class fs{constructor(I,R,B,se,me){this.app=I,this._client=R,this._storageCache=B,this._storage=se,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nc(D,I){const R=D.target.error||void 0;return Vn.create(I,{originalErrorMessage:R&&R.message})}const Qs="app_namespace_store";class Qm{constructor(I,R,B,se=function Ym(){return new Promise((D,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=B=>{I(Nc(B,"storage-open"))},R.onsuccess=B=>{D(B.target.result)},R.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(Qs,{keyPath:"compositeKey"})}}catch(R){I(Vn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=B,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,k.Z)(function*(){const B=yield R.openDbPromise;return new Promise((se,me)=>{const ct=B.transaction([Qs],"readonly").objectStore(Qs),kt=R.createCompositeKey(I);try{const At=ct.get(kt);At.onerror=Vt=>{me(Nc(Vt,"storage-get"))},At.onsuccess=Vt=>{const Je=Vt.target.result;se(Je?Je.value:void 0)}}catch(At){me(Vn.create("storage-get",{originalErrorMessage:At&&At.message}))}})})()}set(I,R){var B=this;return(0,k.Z)(function*(){const se=yield B.openDbPromise;return new Promise((me,Be)=>{const kt=se.transaction([Qs],"readwrite").objectStore(Qs),At=B.createCompositeKey(I);try{const Vt=kt.put({compositeKey:At,value:R});Vt.onerror=Je=>{Be(Nc(Je,"storage-set"))},Vt.onsuccess=()=>{me()}}catch(Vt){Be(Vn.create("storage-set",{originalErrorMessage:Vt&&Vt.message}))}})})()}delete(I){var R=this;return(0,k.Z)(function*(){const B=yield R.openDbPromise;return new Promise((se,me)=>{const ct=B.transaction([Qs],"readwrite").objectStore(Qs),kt=R.createCompositeKey(I);try{const At=ct.delete(kt);At.onerror=Vt=>{me(Nc(Vt,"storage-delete"))},At.onsuccess=()=>{se()}}catch(At){me(Vn.create("storage-delete",{originalErrorMessage:At&&At.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class wd{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,k.Z)(function*(){const R=I.storage.getLastFetchStatus(),B=I.storage.getLastSuccessfulFetchTimestampMillis(),se=I.storage.getActiveConfig(),me=yield R;me&&(I.lastFetchStatus=me);const Be=yield B;Be&&(I.lastSuccessfulFetchTimestampMillis=Be);const ct=yield se;ct&&(I.activeConfig=ct)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Mo(){return Af.apply(this,arguments)}function Af(){return(Af=(0,k.Z)(function*(){if(!(0,U.hl)())return!1;try{return yield(0,U.eu)()}catch(D){return!1}})).apply(this,arguments)}!function ra(){(0,ee._registerComponent)(new te.wA("remote-config",function D(I,{instanceIdentifier:R}){const B=I.getProvider("app").getImmediate(),se=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vn.create("registration-window");if(!(0,U.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:me,apiKey:Be,appId:ct}=B.options;if(!me)throw Vn.create("registration-project-id");if(!Be)throw Vn.create("registration-api-key");if(!ct)throw Vn.create("registration-app-id");const kt=new Qm(ct,B.name,R=R||"firebase"),At=new wd(kt),Vt=new q.Yd(ui);Vt.logLevel=q.in.ERROR;const Je=new xo(se,ee.SDK_VERSION,R,me,Be,ct),yi=new qm(Je,kt),ln=new Dr(yi,kt,At,Vt),rs=new fs(B,ln,At,kt,Vt);return function pe(D){const I=(0,U.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(rs),rs},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(ui,"0.3.7"),(0,ee.registerVersion)(ui,"0.3.7","esm2017")}();const Vc="/firebase-messaging-sw.js",Js="/firebase-cloud-messaging-push-scope",Tr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Oo="google.c.a.c_id",Ha="google.c.a.c_l",Ed="google.c.a.ts",Jm="google.c.a.e";var Xs=(()=>{return(D=Xs||(Xs={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Xs;var D})();function Br(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dl(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(R),se=new Uint8Array(B.length);for(let me=0;me<B.length;++me)se[me]=B.charCodeAt(me);return se}const Tl="fcm_token_details_db",Vi="fcm_token_object_Store";function Sf(D){return Il.apply(this,arguments)}function Il(){return Il=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes(Tl))return null;let I=null;return(yield(0,U.X3)(Tl,5,function(){var B=(0,k.Z)(function*(se,me,Be,ct){var kt;if(me<2||!se.objectStoreNames.contains(Vi))return;const At=ct.objectStore(Vi),Vt=yield At.index("fcmSenderId").get(D);if(yield At.clear(),Vt)if(2===me){const Je=Vt;if(!Je.auth||!Je.p256dh||!Je.endpoint)return;I={token:Je.fcmToken,createTime:null!==(kt=Je.createTime)&&void 0!==kt?kt:Date.now(),subscriptionOptions:{auth:Je.auth,p256dh:Je.p256dh,endpoint:Je.endpoint,swScope:Je.swScope,vapidKey:"string"==typeof Je.vapidKey?Je.vapidKey:Br(Je.vapidKey)}}}else if(3===me){const Je=Vt;I={token:Je.fcmToken,createTime:Je.createTime,subscriptionOptions:{auth:Br(Je.auth),p256dh:Br(Je.p256dh),endpoint:Je.endpoint,swScope:Je.swScope,vapidKey:Br(Je.vapidKey)}}}else if(4===me){const Je=Vt;I={token:Je.fcmToken,createTime:Je.createTime,subscriptionOptions:{auth:Br(Je.auth),p256dh:Br(Je.p256dh),endpoint:Je.endpoint,swScope:Je.swScope,vapidKey:Br(Je.vapidKey)}}}});return function(se,me,Be,ct){return B.apply(this,arguments)}}())).close(),yield(0,U.Lj)(Tl),yield(0,U.Lj)("fcm_vapid_details_db"),yield(0,U.Lj)("undefined"),Cd(I)?I:null}),Il.apply(this,arguments)}function Cd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const xs="firebase-messaging-store";let Ga=null;function Bc(){return Ga||(Ga=(0,U.X3)("firebase-messaging-database",1,(D,I)=>{0===I&&D.createObjectStore(xs)})),Ga}function In(D){return oa.apply(this,arguments)}function oa(){return(oa=(0,k.Z)(function*(D){const I=ko(D),B=yield(yield Bc()).transaction(xs).objectStore(xs).get(I);if(B)return B;{const se=yield Sf(D.appConfig.senderId);if(se)return yield eo(D,se),se}})).apply(this,arguments)}function eo(D,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,k.Z)(function*(D,I){const R=ko(D),se=(yield Bc()).transaction(xs,"readwrite");return yield se.objectStore(xs).put(I,R),yield se.complete,I})).apply(this,arguments)}function Dd(D){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,k.Z)(function*(D){const I=ko(D),B=(yield Bc()).transaction(xs,"readwrite");yield B.objectStore(xs).delete(I),yield B.complete})).apply(this,arguments)}function ko({appConfig:D}){return D.appId}const si=new U.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $a(D,I){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,k.Z)(function*(D,I){const R=yield no(D),B=Ct(I),se={method:"POST",headers:R,body:JSON.stringify(B)};let me;try{me=yield(yield fetch(Ar(D.appConfig),se)).json()}catch(Be){throw si.create("token-subscribe-failed",{errorInfo:Be})}if(me.error)throw si.create("token-subscribe-failed",{errorInfo:me.error.message});if(!me.token)throw si.create("token-subscribe-no-token");return me.token})).apply(this,arguments)}function qi(D,I){return to.apply(this,arguments)}function to(){return(to=(0,k.Z)(function*(D,I){const R=yield no(D),B=Ct(I.subscriptionOptions),se={method:"PATCH",headers:R,body:JSON.stringify(B)};let me;try{me=yield(yield fetch(`${Ar(D.appConfig)}/${I.token}`,se)).json()}catch(Be){throw si.create("token-update-failed",{errorInfo:Be})}if(me.error)throw si.create("token-update-failed",{errorInfo:me.error.message});if(!me.token)throw si.create("token-update-no-token");return me.token})).apply(this,arguments)}function Ms(D,I){return xl.apply(this,arguments)}function xl(){return(xl=(0,k.Z)(function*(D,I){const B={method:"DELETE",headers:yield no(D)};try{const me=yield(yield fetch(`${Ar(D.appConfig)}/${I}`,B)).json();if(me.error)throw si.create("token-unsubscribe-failed",{errorInfo:me.error.message})}catch(se){throw si.create("token-unsubscribe-failed",{errorInfo:se})}})).apply(this,arguments)}function Ar({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function no(D){return io.apply(this,arguments)}function io(){return(io=(0,k.Z)(function*({appConfig:D,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ct({p256dh:D,auth:I,endpoint:R,vapidKey:B}){const se={web:{endpoint:R,auth:I,p256dh:D}};return B!==Tr&&(se.web.applicationPubKey=B),se}const Ml=6048e5;function za(D){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,k.Z)(function*(D){const I=yield Hc(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:Br(I.getKey("auth")),p256dh:Br(I.getKey("p256dh"))},B=yield In(D.firebaseDependencies);if(B){if(aa(B.subscriptionOptions,R))return Date.now()>=B.createTime+Ml?Uc(D,{token:B.token,createTime:Date.now(),subscriptionOptions:R}):B.token;try{yield Ms(D.firebaseDependencies,B.token)}catch(se){console.warn(se)}return Pe(D.firebaseDependencies,R)}return Pe(D.firebaseDependencies,R)})).apply(this,arguments)}function Rl(D){return kl.apply(this,arguments)}function kl(){return(kl=(0,k.Z)(function*(D){const I=yield In(D.firebaseDependencies);I&&(yield Ms(D.firebaseDependencies,I.token),yield Dd(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Uc(D,I){return jc.apply(this,arguments)}function jc(){return(jc=(0,k.Z)(function*(D,I){try{const R=yield qi(D.firebaseDependencies,I),B=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield eo(D.firebaseDependencies,B),R}catch(R){throw yield Rl(D),R}})).apply(this,arguments)}function Pe(D,I){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,k.Z)(function*(D,I){const B={token:yield $a(D,I),createTime:Date.now(),subscriptionOptions:I};return yield eo(D,B),B.token})).apply(this,arguments)}function Hc(D,I){return On.apply(this,arguments)}function On(){return(On=(0,k.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dl(I)})})).apply(this,arguments)}function aa(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function la(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Sr(D,I){if(!I.notification)return;D.notification={};const R=I.notification.title;R&&(D.notification.title=R);const B=I.notification.body;B&&(D.notification.body=B);const se=I.notification.image;se&&(D.notification.image=se)}(I,D),function Gc(D,I){!I.data||(D.data=I.data)}(I,D),function $c(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const R=I.fcmOptions.link;R&&(D.fcmOptions.link=R);const B=I.fcmOptions.analytics_label;B&&(D.fcmOptions.analyticsLabel=B)}(I,D),I}function Td(D){return"object"==typeof D&&!!D&&Oo in D}function zc(D,I){const R=[];for(let B=0;B<D.length;B++)R.push(D.charAt(B)),B<I.length&&R.push(I.charAt(B));return R.join("")}function ro(D){return si.create("missing-app-config-values",{valueName:D})}zc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bi{constructor(I,R,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function Pl(D){if(!D||!D.options)throw ro("App Configuration Object");if(!D.name)throw ro("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const B of I)if(!R[B])throw ro(B);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:se,installations:R,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Ur(D){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Vc,{scope:Js}),D.swRegistration.update().catch(()=>{})}catch(I){throw si.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function so(D,I){return es.apply(this,arguments)}function es(){return(es=(0,k.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield Ur(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw si.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Wc(D,I){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,k.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=Tr)})).apply(this,arguments)}function qc(){return(qc=(0,k.Z)(function*(D,I){if(!navigator)throw si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw si.create("permission-blocked");return yield Wc(D,null==I?void 0:I.vapidKey),yield so(D,null==I?void 0:I.serviceWorkerRegistration),za(D)})).apply(this,arguments)}function Wa(D,I,R){return ca.apply(this,arguments)}function ca(){return(ca=(0,k.Z)(function*(D,I,R){const B=Zc(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:R[Oo],message_name:R[Ha],message_time:R[Ed],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zc(D){switch(D){case Xs.NOTIFICATION_CLICKED:return"notification_open";case Xs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Id(){return(Id=(0,k.Z)(function*(D,I){const R=I.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===Xs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(la(R)):D.onMessageHandler.next(la(R)));const B=R.data;Td(B)&&"1"===B[Jm]&&(yield Wa(D,R.messageType,B))})).apply(this,arguments)}const Yc="@firebase/messaging",Ad=D=>{const I=new Bi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Kc(D,I){return Id.apply(this,arguments)}(I,R)),I},Fo=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:B=>function Ll(D,I){return qc.apply(this,arguments)}(I,B)}};function xd(){return No.apply(this,arguments)}function No(){return(No=(0,k.Z)(function*(){try{yield(0,U.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,U.hl)()&&(0,U.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sd(){(0,ee._registerComponent)(new te.wA("messaging",Ad,"PUBLIC")),(0,ee._registerComponent)(new te.wA("messaging-internal",Fo,"PRIVATE")),(0,ee.registerVersion)(Yc,"0.9.12"),(0,ee.registerVersion)(Yc,"0.9.12","esm2017")}();const Jc="analytics",Ty="firebase_id",qa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vl="https://www.googletagmanager.com/gtag/js",di=new q.Yd("@firebase/analytics");function Od(D){return Promise.all(D.map(I=>I.catch(R=>R)))}function Xm(D,I){const R=document.createElement("script");R.src=`${Vl}?l=${D}&id=${I}`,R.async=!0,document.head.appendChild(R)}function ua(D,I,R,B,se,me){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,k.Z)(function*(D,I,R,B,se,me){const Be=B[se];try{if(Be)yield I[Be];else{const kt=(yield Od(R)).find(At=>At.measurementId===se);kt&&(yield I[kt.appId])}}catch(ct){di.error(ct)}D("config",se,me)})).apply(this,arguments)}function eu(D,I,R,B,se){return ks.apply(this,arguments)}function ks(){return(ks=(0,k.Z)(function*(D,I,R,B,se){try{let me=[];if(se&&se.send_to){let Be=se.send_to;Array.isArray(Be)||(Be=[Be]);const ct=yield Od(R);for(const kt of Be){const At=ct.find(Je=>Je.measurementId===kt),Vt=At&&I[At.appId];if(!Vt){me=[];break}me.push(Vt)}}0===me.length&&(me=Object.values(I)),yield Promise.all(me),D("event",B,se||{})}catch(me){di.error(me)}})).apply(this,arguments)}function eg(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(Vl))return I;return null}const lt=new U.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Za=new class nu{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function da(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Pd(D){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,k.Z)(function*(D){var I;const{appId:R,apiKey:B}=D,se={method:"GET",headers:da(B)},me=qa.replace("{app-id}",R),Be=yield fetch(me,se);if(200!==Be.status&&304!==Be.status){let ct="";try{const kt=yield Be.json();(null===(I=kt.error)||void 0===I?void 0:I.message)&&(ct=kt.error.message)}catch(kt){}throw lt.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:ct})}return Be.json()})).apply(this,arguments)}function xf(D){return xr.apply(this,arguments)}function xr(){return(xr=(0,k.Z)(function*(D,I=Za,R){const{appId:B,apiKey:se,measurementId:me}=D.options;if(!B)throw lt.create("no-app-id");if(!se){if(me)return{measurementId:me,appId:B};throw lt.create("no-api-key")}const Be=I.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new Lo;return setTimeout((0,k.Z)(function*(){ct.abort()}),void 0!==R?R:6e4),pt({appId:B,apiKey:se,measurementId:me},Be,ct,I)})).apply(this,arguments)}function pt(D,I,R){return lo.apply(this,arguments)}function lo(){return(lo=(0,k.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:R},B,se=Za){const{appId:me,measurementId:Be}=D;try{yield tg(B,I)}catch(ct){if(Be)return di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${ct.message}]`),{appId:me,measurementId:Be};throw ct}try{const ct=yield Pd(D);return se.deleteThrottleMetadata(me),ct}catch(ct){if(!Bl(ct)){if(se.deleteThrottleMetadata(me),Be)return di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${ct.message}]`),{appId:me,measurementId:Be};throw ct}const kt=503===Number(ct.customData.httpStatus)?(0,U.$s)(R,se.intervalMillis,30):(0,U.$s)(R,se.intervalMillis),At={throttleEndTimeMillis:Date.now()+kt,backoffCount:R+1};return se.setThrottleMetadata(me,At),di.debug(`Calling attemptFetch again in ${kt} millis`),pt(D,At,B,se)}})).apply(this,arguments)}function tg(D,I){return new Promise((R,B)=>{const se=Math.max(I-Date.now(),0),me=setTimeout(R,se);D.addEventListener(()=>{clearTimeout(me),B(lt.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Bl(D){if(!(D instanceof U.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Lo{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Fd(){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,k.Z)(function*(){if(!(0,U.hl)())return di.warn(lt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,U.eu)()}catch(D){return di.warn(lt.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Ps(){return(Ps=(0,k.Z)(function*(D,I,R,B,se,me,Be){var ct;const kt=xf(D);kt.then(ln=>{R[ln.measurementId]=ln.appId,D.options.measurementId&&ln.measurementId!==D.options.measurementId&&di.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${ln.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ln=>di.error(ln)),I.push(kt);const At=Fd().then(ln=>{if(ln)return B.getId()}),[Vt,Je]=yield Promise.all([kt,At]);eg()||Xm(me,Vt.measurementId),se("js",new Date);const yi=null!==(ct=null==Be?void 0:Be.config)&&void 0!==ct?ct:{};return yi.origin="firebase",yi.update=!0,null!=Je&&(yi[Ty]=Je),se("config",Vt.measurementId,yi),Vt.measurementId})).apply(this,arguments)}class fa{constructor(I){this.app=I}_delete(){return delete Mr[this.app.options.appId],Promise.resolve()}}let Mr={},Ki=[];const pa={};let co,Bo,Vo="dataLayer",Ka=!1;function xi(D,I,R){!function Ya(){const D=[];if((0,U.ru)()&&D.push("This is a browser extension environment."),(0,U.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((B,se)=>`(${se+1}) ${B}`).join(" "),R=lt.create("invalid-analytics-context",{errorInfo:I});di.warn(R.message)}}();const B=D.options.appId;if(!B)throw lt.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw lt.create("no-api-key");di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mr[B])throw lt.create("already-exists",{id:B});if(!Ka){!function Rs(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(Vo);const{wrappedGtag:me,gtagCore:Be}=function kd(D,I,R,B,se){let me=function(...Be){window[B].push(arguments)};return window[se]&&"function"==typeof window[se]&&(me=window[se]),window[se]=function tu(D,I,R,B){function me(){return(me=(0,k.Z)(function*(Be,ct,kt){try{"event"===Be?yield eu(D,I,R,ct,kt):"config"===Be?yield ua(D,I,R,B,ct,kt):D("set",ct)}catch(At){di.error(At)}})).apply(this,arguments)}return function se(Be,ct,kt){return me.apply(this,arguments)}}(me,D,I,R),{gtagCore:me,wrappedGtag:window[se]}}(Mr,Ki,pa,Vo,"gtag");Bo=me,co=Be,Ka=!0}return Mr[B]=function ha(D,I,R,B,se,me,Be){return Ps.apply(this,arguments)}(D,Ki,pa,I,co,Vo,R),new fa(D)}function Rr(){return(Rr=(0,k.Z)(function*(D,I,R,B,se){if(se&&se.global)D("event",R,B);else{const me=yield I;D("event",R,Object.assign(Object.assign({},B),{send_to:me}))}})).apply(this,arguments)}function ho(){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,k.Z)(function*(){if((0,U.ru)()||!(0,U.zI)()||!(0,U.hl)())return!1;try{return yield(0,U.eu)()}catch(D){return!1}})).apply(this,arguments)}const kn="@firebase/analytics";!function fo(){(0,ee._registerComponent)(new te.wA(Jc,(I,{options:R})=>xi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ee._registerComponent)(new te.wA("analytics-internal",function D(I){try{const R=I.getProvider(Jc).getImmediate();return{logEvent:(B,se,me)=>function ar(D,I,R,B){D=(0,U.m9)(D),function Or(D,I,R,B,se){return Rr.apply(this,arguments)}(Bo,Mr[D.app.options.appId],I,R,B).catch(se=>di.error(se))}(R,B,se,me)}}catch(R){throw lt.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ee.registerVersion)(kn,"0.7.8"),(0,ee.registerVersion)(kn,"0.7.8","esm2017")}();var Nd=A(233),ts=A(4986),Of=A(8505),Zn=A(9468),su=A(5363);const Uo=new a.GfV("7.3.0"),Ld="__angularfire_symbol__analyticsIsSupportedValue",Xa="__angularfire_symbol__analyticsIsSupported",Mi="__angularfire_symbol__remoteConfigIsSupportedValue",Yi="__angularfire_symbol__remoteConfigIsSupported",el="__angularfire_symbol__messagingIsSupportedValue",po="__angularfire_symbol__messagingIsSupported";function tn(D,I,R){if(I){if(1===I.length)return I[0];const me=I.filter(Be=>Be.app===R);if(1===me.length)return me[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[Xa]||(globalThis[Xa]=ho().then(D=>globalThis[Ld]=D).catch(()=>globalThis[Ld]=!1)),globalThis[po]||(globalThis[po]=xd().then(D=>globalThis[el]=D).catch(()=>globalThis[el]=!1)),globalThis[Yi]||(globalThis[Yi]=Mo().then(D=>globalThis[Mi]=D).catch(()=>globalThis[Mi]=!1));const rg=(D,I)=>{const R=I?[I]:(0,$.C6)(),B=[];return R.forEach(se=>{se.container.getProvider(D).instances.forEach(Be=>{B.includes(Be)||B.push(Be)})}),B};function lr(){}class ji{constructor(I,R=Nd.N){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,B){const se=this.zone;return this.delegate.schedule(function(Be){se.runGuarded(()=>{I.apply(this,[Be])})},R,B)}}class tl{constructor(I){this.zone=I,this.task=null}call(I,R){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lr,{},lr,lr)),R.pipe((0,Of.b)({next:B,complete:B,error:B})).subscribe(I).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ga=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new ji(Zone.current)),this.insideAngular=R.run(()=>new ji(Zone.current,ts.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(a.LFG(a.R0b))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function mo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function nl(D){return mo(),function sg(D){return function(R){return(R=R.lift(new tl(D.ngZone))).pipe((0,Zn.R)(D.outsideAngular),(0,su.Q)(D.insideAngular))}}(mo())(D)}},2090:(ne,z,A)=>{A.d(z,{BH:()=>be,LL:()=>$e,ZR:()=>Ce,zI:()=>_e,US:()=>q,tV:()=>L,L:()=>W,$s:()=>cs,r3:()=>sn,Sg:()=>xe,ne:()=>yt,vZ:()=>Vr,ZB:()=>K,Lj:()=>zt,pd:()=>Kr,m9:()=>bt,z$:()=>ke,jU:()=>He,ru:()=>Le,d:()=>ye,xb:()=>Nn,w1:()=>Ae,hl:()=>nt,uI:()=>he,UG:()=>fe,b$:()=>Ie,G6:()=>ue,Mn:()=>qe,X3:()=>wt,xO:()=>wr,zd:()=>Di,eu:()=>le});var a=A(5861);const U=function(Q){const j=[];let X=0;for(let Ee=0;Ee<Q.length;Ee++){let ae=Q.charCodeAt(Ee);ae<128?j[X++]=ae:ae<2048?(j[X++]=ae>>6|192,j[X++]=63&ae|128):55296==(64512&ae)&&Ee+1<Q.length&&56320==(64512&Q.charCodeAt(Ee+1))?(ae=65536+((1023&ae)<<10)+(1023&Q.charCodeAt(++Ee)),j[X++]=ae>>18|240,j[X++]=ae>>12&63|128,j[X++]=ae>>6&63|128,j[X++]=63&ae|128):(j[X++]=ae>>12|224,j[X++]=ae>>6&63|128,j[X++]=63&ae|128)}return j},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,j){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let ae=0;ae<Q.length;ae+=3){const Ye=Q[ae],Tt=ae+1<Q.length,an=Tt?Q[ae+1]:0,Ai=ae+2<Q.length,on=Ai?Q[ae+2]:0;let vn=(15&an)<<2|on>>6,Gn=63&on;Ai||(Gn=64,Tt||(vn=64)),Ee.push(X[Ye>>2],X[(3&Ye)<<4|an>>4],X[vn],X[Gn])}return Ee.join("")},encodeString(Q,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Q):this.encodeByteArray(U(Q),j)},decodeString(Q,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Q):function(Q){const j=[];let X=0,Ee=0;for(;X<Q.length;){const ae=Q[X++];if(ae<128)j[Ee++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const Ye=Q[X++];j[Ee++]=String.fromCharCode((31&ae)<<6|63&Ye)}else if(ae>239&&ae<365){const Ai=((7&ae)<<18|(63&Q[X++])<<12|(63&Q[X++])<<6|63&Q[X++])-65536;j[Ee++]=String.fromCharCode(55296+(Ai>>10)),j[Ee++]=String.fromCharCode(56320+(1023&Ai))}else{const Ye=Q[X++],Tt=Q[X++];j[Ee++]=String.fromCharCode((15&ae)<<12|(63&Ye)<<6|63&Tt)}}return j.join("")}(this.decodeStringToByteArray(Q,j))},decodeStringToByteArray(Q,j){this.init_();const X=j?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let ae=0;ae<Q.length;){const Ye=X[Q.charAt(ae++)],an=ae<Q.length?X[Q.charAt(ae)]:0;++ae;const on=ae<Q.length?X[Q.charAt(ae)]:64;++ae;const Lt=ae<Q.length?X[Q.charAt(ae)]:64;if(++ae,null==Ye||null==an||null==on||null==Lt)throw Error();Ee.push(Ye<<2|an>>4),64!==on&&(Ee.push(an<<4&240|on>>2),64!==Lt&&Ee.push(on<<6&192|Lt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},W=function(Q){return function(Q){const j=U(Q);return q.encodeByteArray(j,!0)}(Q).replace(/\./g,"")},L=function(Q){try{return q.decodeString(Q,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function K(Q,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return j}for(const X in j)!j.hasOwnProperty(X)||!De(X)||(Q[X]=K(Q[X],j[X]));return Q}function De(Q){return"__proto__"!==Q}class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,X)=>{this.resolve=j,this.reject=X})}wrapCallback(j){return(X,Ee)=>{X?this.reject(X):this.resolve(Ee),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(X):j(X,Ee))}}}function xe(Q,j){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=j||"demo-project",ae=Q.iat||0,Ye=Q.sub||Q.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:ae,exp:ae+3600,auth_time:ae,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[W(JSON.stringify({alg:"none",type:"JWT"})),W(JSON.stringify(Tt)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function He(){return"object"==typeof self&&self.self===self}function Le(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){return ke().indexOf("Electron/")>=0}function Ae(){const Q=ke();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function qe(){return ke().indexOf("MSAppHost/")>=0}function ue(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nt(){return"object"==typeof indexedDB}function le(){return new Promise((Q,j)=>{try{let X=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(Ee);ae.onsuccess=()=>{ae.result.close(),X||self.indexedDB.deleteDatabase(Ee),Q(!0)},ae.onupgradeneeded=()=>{X=!1},ae.onerror=()=>{var Ye;j((null===(Ye=ae.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(X){j(X)}})}function _e(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ce extends Error{constructor(j,X,Ee){super(X),this.code=j,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(j,X,Ee){this.service=j,this.serviceName=X,this.errors=Ee}create(j,...X){const Ee=X[0]||{},ae=`${this.service}/${j}`,Ye=this.errors[j],Tt=Ye?function Mt(Q,j){return Q.replace(Jt,(X,Ee)=>{const ae=j[Ee];return null!=ae?String(ae):`<${Ee}?>`})}(Ye,Ee):"Error";return new Ce(ae,`${this.serviceName}: ${Tt} (${ae}).`,Ee)}}const Jt=/\{\$([^}]+)}/g;function sn(Q,j){return Object.prototype.hasOwnProperty.call(Q,j)}function Nn(Q){for(const j in Q)if(Object.prototype.hasOwnProperty.call(Q,j))return!1;return!0}function Vr(Q,j){if(Q===j)return!0;const X=Object.keys(Q),Ee=Object.keys(j);for(const ae of X){if(!Ee.includes(ae))return!1;const Ye=Q[ae],Tt=j[ae];if(Ni(Ye)&&Ni(Tt)){if(!Vr(Ye,Tt))return!1}else if(Ye!==Tt)return!1}for(const ae of Ee)if(!X.includes(ae))return!1;return!0}function Ni(Q){return null!==Q&&"object"==typeof Q}function wr(Q){const j=[];for(const[X,Ee]of Object.entries(Q))Array.isArray(Ee)?Ee.forEach(ae=>{j.push(encodeURIComponent(X)+"="+encodeURIComponent(ae))}):j.push(encodeURIComponent(X)+"="+encodeURIComponent(Ee));return j.length?"&"+j.join("&"):""}function Di(Q){const j={};return Q.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[ae,Ye]=Ee.split("=");j[decodeURIComponent(ae)]=decodeURIComponent(Ye)}}),j}function Kr(Q){const j=Q.indexOf("?");if(!j)return"";const X=Q.indexOf("#",j);return Q.substring(j,X>0?X:void 0)}function yt(Q,j){const X=new Li(Q,j);return X.subscribe.bind(X)}class Li{constructor(j,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{j(this)}).catch(Ee=>{this.error(Ee)})}next(j){this.forEachObserver(X=>{X.next(j)})}error(j){this.forEachObserver(X=>{X.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,X,Ee){let ae;if(void 0===j&&void 0===X&&void 0===Ee)throw new Error("Missing Observer.");ae=function ti(Q,j){if("object"!=typeof Q||null===Q)return!1;for(const X of j)if(X in Q&&"function"==typeof Q[X])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:X,complete:Ee},void 0===ae.next&&(ae.next=Ti),void 0===ae.error&&(ae.error=Ti),void 0===ae.complete&&(ae.complete=Ti);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(Tt){}}),this.observers.push(ae),Ye}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,j)}sendOne(j,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{X(this.observers[j])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ti(){}function cs(Q,j=1e3,X=2){const Ee=j*Math.pow(X,Q),ae=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+ae)}function bt(Q){return Q&&Q._delegate?Q._delegate:Q}function mi(Q,j){return new Promise((X,Ee)=>{Q.onsuccess=ae=>{X(ae.target.result)},Q.onerror=ae=>{var Ye;Ee(`${j}: ${null===(Ye=ae.target.error)||void 0===Ye?void 0:Ye.message}`)}})}class $t{constructor(j){this._db=j,this.objectStoreNames=this._db.objectStoreNames}transaction(j,X="readonly"){return new rt(this._db.transaction.call(this._db,j,X))}createObjectStore(j,X){return new Re(this._db.createObjectStore(j,X))}close(){this._db.close()}}class rt{constructor(j){this._transaction=j,this.complete=new Promise((X,Ee)=>{this._transaction.oncomplete=function(){X()},this._transaction.onerror=()=>{Ee(this._transaction.error)},this._transaction.onabort=()=>{Ee(this._transaction.error)}})}objectStore(j){return new Re(this._transaction.objectStore(j))}}class Re{constructor(j){this._store=j}index(j){return new at(this._store.index(j))}createIndex(j,X,Ee){return new at(this._store.createIndex(j,X,Ee))}get(j){return mi(this._store.get(j),"Error reading from IndexedDB")}put(j,X){return mi(this._store.put(j,X),"Error writing to IndexedDB")}delete(j){return mi(this._store.delete(j),"Error deleting from IndexedDB")}clear(){return mi(this._store.clear(),"Error clearing IndexedDB object store")}}class at{constructor(j){this._index=j}get(j){return mi(this._index.get(j),"Error reading from IndexedDB")}}function wt(Q,j,X){return new Promise((Ee,ae)=>{try{const Ye=indexedDB.open(Q,j);Ye.onsuccess=Tt=>{Ee(new $t(Tt.target.result))},Ye.onerror=Tt=>{var an;ae(`Error opening indexedDB: ${null===(an=Tt.target.error)||void 0===an?void 0:an.message}`)},Ye.onupgradeneeded=Tt=>{X(new $t(Ye.result),Tt.oldVersion,Tt.newVersion,new rt(Ye.transaction))}}catch(Ye){ae(`Error opening indexedDB: ${Ye.message}`)}})}function zt(Q){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,a.Z)(function*(Q){return new Promise((j,X)=>{try{const Ee=indexedDB.deleteDatabase(Q);Ee.onsuccess=()=>{j()},Ee.onerror=ae=>{var Ye;X(`Error deleting indexedDB database "${Q}": ${null===(Ye=ae.target.error)||void 0===Ye?void 0:Ye.message}`)}}catch(Ee){X(`Error deleting indexedDB database "${Q}": ${Ee.message}`)}})})).apply(this,arguments)}},271:(ne,z,A)=>{var a=A(5e3);let $=null;function k(){return $}const q=new a.OlP("DocumentToken");let J=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function W(){return(0,a.LFG)(V)}()},providedIn:"platform"}),n})();const L=new a.OlP("Location Initialized");let V=(()=>{class n extends J{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){K()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){K()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function De(){return new V((0,a.LFG)(q))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function be(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ke(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function fe(n){const e=(0,a.LFG)(q).location;return new Le((0,a.LFG)(J),e&&e.origin||"")}()},providedIn:"root"}),n})();const He=new a.OlP("appBaseHref");let Le=(()=>{class n extends he{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return be(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ke(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,l){const u=this.prepareExternalUrl(r+ke(l));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,l){const u=this.prepareExternalUrl(r+ke(l));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(J),a.LFG(He,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends he{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=be(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,l){let u=this.prepareExternalUrl(r+ke(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,l){let u=this.prepareExternalUrl(r+ke(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(J),a.LFG(He,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n{constructor(t,i){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=xe(Ke(r)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ke(i))}normalize(t){return n.stripTrailingSlash(function qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ke(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ke(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ke,n.joinWithSlash=be,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(a.LFG(he),a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ae(){return new ye((0,a.LFG)(he),(0,a.LFG)(J))}()},providedIn:"root"}),n})();function Ke(n){return n.replace(/\/index.html$/,"")}function As(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,l]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(l)}return null}let Qr=(()=>{class n{constructor(t,i,r,l){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class hs{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,l,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new hs(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===l?void 0:l);else if(null!==l){const f=i.get(l);i.move(f,u),Jr(f,r)}});for(let r=0,l=i.length;r<l;r++){const f=i.get(r).context;f.index=r,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Jr(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Jr(n,e){n.context.$implicit=e.item}let pe=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new ie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ge("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ge("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ie{constructor(){this.$implicit=null,this.ngIf=null}}function ge(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class We{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ge=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),xt=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new We(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ge,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),zn=(()=>{class n{constructor(t,i,r){r._addDefault(new We(t,i))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ge,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();function Bn(n,e){return new a.vHH(2100,"")}class bd{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class qm{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Ss=new qm,Zm=new bd;let fs=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,a.QGY)(t))return Ss;if((0,a.F4k)(t))return Zm;throw Bn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1}),n})(),Lc=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Bn();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"uppercase",type:n,pure:!0}),n})(),Ir=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Xs="browser";function Vi(n){return"server"===n}let Al=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Sl((0,a.LFG)(q),window)}),n})();class Sl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ga(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const l=r.shadowRoot;if(l){const u=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],r-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xs(this.window.history)||xs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function xs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class In{}class eo extends class oa extends class te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function U(n){$||($=n)}(new eo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Dd(){return wn=wn||document.querySelector("base"),wn?wn.getAttribute("href"):null}();return null==t?null:function ko(n){Ro=Ro||document.createElement("a"),Ro.setAttribute("href",n);const e=Ro.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return As(document.cookie,e)}}let Ro,wn=null;const Wi=new a.OlP("TRANSITION_ID"),$a=[{provide:a.ip1,useFactory:function si(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const i=k(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[Wi,q,a.zs3],multi:!0}];class Xr{static init(){(0,a.VLi)(new Xr)}addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const l=e.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let l=r.length,u=!1;const f=function(_){u=u||_,l--,0==l&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let qi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const to=new a.OlP("EventManagerPlugins");let Ms=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const u=r[l];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(to),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class xl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=k().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ar=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),no=(()=>{class n extends Ar{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(l=>{const u=this._doc.createElement("style");u.textContent=l,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(io),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(io))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function io(n){k().remove(n)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ml=/%COMP%/g;function Pe(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Pe(n,r,t):(r=r.replace(Ml,n),t.push(r))}return t}function Qt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let On=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new aa(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Gc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case a.ifc.ShadowDom:return new $c(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Pe(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ms),a.LFG(no),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class aa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ct[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const l=Ct[r];l?e.setAttributeNS(l,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ct[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Qt(i)):this.eventManager.addEventListener(e,t,Qt(i))}}class Gc extends aa{constructor(e,t,i,r){super(e),this.component=i;const l=Pe(r+"-"+i.id,i.styles,[]);t.addStyles(l),this.contentAttr=function Uc(n){return"_ngcontent-%COMP%".replace(Ml,n)}(r+"-"+i.id),this.hostAttr=function jc(n){return"_nghost-%COMP%".replace(Ml,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class $c extends aa{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Pe(r.id,r.styles,[]);for(let u=0;u<l.length;u++){const f=document.createElement("style");f.textContent=l[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Td=(()=>{class n extends xl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const zc=["alt","control","meta","shift"],ro={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ur={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fl=(()=>{class n extends xl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const l=n.parseEventName(i),u=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let u="";if(zc.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),u+=_+".")}),u+=l,0!=i.length||0===l.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(t){let i="",r=function so(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Bi.hasOwnProperty(e)&&(e=Bi[e]))}return ro[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),zc.forEach(l=>{l!=r&&Ur[l](t)&&(i+=l+".")}),i+=r,i}static eventCallback(t,i,r){return l=>{n.getEventFullKey(l)===t&&r.runGuarded(()=>i(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const qc=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Xs},{provide:a.g9A,useValue:function es(){eo.makeCurrent(),Xr.init()},multi:!0},{provide:q,useFactory:function Nl(){return(0,a.RDi)(document),document},deps:[]}]),Wa=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Wc(){return new a.qLn},deps:[]},{provide:to,useClass:Td,multi:!0,deps:[q,a.R0b,a.Lbi]},{provide:to,useClass:Fl,multi:!0,deps:[q]},{provide:On,useClass:On,deps:[Ms,no,a.AFp]},{provide:a.FYo,useExisting:On},{provide:Ar,useExisting:no},{provide:no,useClass:no,deps:[q]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Ms,useClass:Ms,deps:[to,a.R0b]},{provide:In,useClass:qi,deps:[]}];let ca=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:Wi,useExisting:a.AFp},$a]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Wa,imports:[Ir,a.hGG]}),n})();"undefined"!=typeof window&&window;let ks=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):a.LFG(kd),i},providedIn:"root"}),n})(),kd=(()=>{class n extends ks{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(i),(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function tu(n){return new kd(n.get(q))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var Un=A(8996),lt=A(9646),gi=A(1135),jn=A(8306);const{isArray:nu}=Array,{getPrototypeOf:Za,prototype:da,keys:Pd}=Object;function Cn(n){if(1===n.length){const e=n[0];if(nu(e))return{args:e,keys:null};if(function xf(n){return n&&"object"==typeof n&&Za(n)===da}(e)){const t=Pd(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var xr=A(4671),pt=A(4004);const{isArray:lo}=Array;function Bl(n){return(0,pt.U)(e=>function tg(n,e){return lo(e)?n(...e):n(e)}(n,e))}var Lo=A(3269);function Fd(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Ui=A(5403),ha=A(9672);function Mr(n,e,t){n?(0,ha.f)(t,n,e):e()}var Ki=A(576);function pa(n,e){const t=(0,Ki.m)(n)?n:()=>n,i=r=>r.error(t());return new jn.y(e?r=>e.schedule(i,0,r):i)}const ma=(0,A(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var co=A(8189);function Ka(...n){return function Bo(){return(0,co.J)(1)}()((0,Un.D)(n,(0,Lo.yG)(n)))}var iu=A(8421);function Ya(n){return new jn.y(e=>{(0,iu.Xf)(n()).subscribe(e)})}var xi=A(515),Or=A(727),Rr=A(4482);function ru(){return(0,Rr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Ui.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,l=t;t=null,r&&(!l||r===l)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class ps extends jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Rr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Or.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ui.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Or.w0.EMPTY)}return e}refCount(){return ru()(this)}}var Nt=A(7579),Rn=A(3900),jr=A(5698);function oi(...n){const e=(0,Lo.yG)(n);return(0,Rr.e)((t,i)=>{(e?Ka(n,t,e):Ka(n,t)).subscribe(i)})}var ms=A(5026),En=A(9300),Fs=A(262),uo=A(4351);function ho(n){return n<=0?()=>xi.E:(0,Rr.e)((e,t)=>{let i=[];e.subscribe((0,Ui.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Qa(n=ng){return(0,Rr.e)((e,t)=>{let i=!1;e.subscribe((0,Ui.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function ng(){return new ma}function qn(n){return(0,Rr.e)((e,t)=>{let i=!1;e.subscribe((0,Ui.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ja(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,En.h)((r,l)=>n(r,l,i)):xr.y,(0,jr.q)(1),t?qn(e):Qa(()=>new ma))}var ar=A(5577),kn=A(8505);class fo{constructor(e,t){this.id=e,this.url=t}}class Nd extends fo{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ts extends fo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Of extends fo{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zn extends fo{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class su extends fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uo extends fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ld extends fo{constructor(e,t,i,r,l){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xa extends fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class el{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class po{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ns{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vd{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rf{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const tn="primary";class rg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function lr(n){return new rg(n)}const ji="ngNavigationCancelingError";function tl(n){const e=Error("NavigationCancelingError: "+n);return e[ji]=!0,e}function mo(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let l=0;l<i.length;l++){const u=i[l],f=n[l];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function _i(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let l=0;l<t.length;l++)if(r=t[l],!kf(n[r],e[r]))return!1;return!0}function kf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,l)=>i[l]===r)}return n===e}function ou(n){return Array.prototype.concat.apply([],n)}function nl(n){return n.length>0?n[n.length-1]:null}function Kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function is(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Un.D)(Promise.resolve(n)):(0,lt.of)(n)}const I={exact:function me(n,e,t){if(!rs(n.segments,e.segments)||!At(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!me(n.children[i],e.children[i],t))return!1;return!0},subset:ct},R={exact:function se(n,e){return _i(n,e)},subset:function Be(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kf(n[t],e[t]))},ignored:()=>!0};function B(n,e,t){return I[t.paths](n.root,e.root,t.matrixParams)&&R[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ct(n,e,t){return kt(n,e,e.segments,t)}function kt(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!rs(r,t)||e.hasChildren()||!At(r,t,i))}if(n.segments.length===t.length){if(!rs(n.segments,t)||!At(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!ct(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(rs(n.segments,r)&&At(n.segments,r,i)&&n.children[tn])&&kt(n.children[tn],e,l,i)}}function At(n,e,t){return e.every((i,r)=>R[t](n[r].parameters,i.parameters))}class Vt{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return Ns.serialize(this)}}class Je{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ho(this)}}class yi{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=lr(this.parameters)),this._parameterMap}toString(){return lu(this)}}function rs(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class go{}class cr{parse(e){const t=new ag(e);return new Vt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ul(e.root,!0)}`,i=function og(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${ya(t)}=${ya(r)}`).join("&"):`${ya(t)}=${ya(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Pf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ns=new cr;function Ho(n){return n.segments.map(e=>lu(e)).join("/")}function Ul(n,e){if(!n.hasChildren())return Ho(n);if(e){const t=n.children[tn]?Ul(n.children[tn],!1):"",i=[];return Kn(n.children,(r,l)=>{l!==tn&&i.push(`${l}:${Ul(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function _a(n,e){let t=[];return Kn(n.children,(i,r)=>{r===tn&&(t=t.concat(e(i,r)))}),Kn(n.children,(i,r)=>{r!==tn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===tn?[Ul(n.children[tn],!1)]:[`${r}:${Ul(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[tn]?`${Ho(n)}/${t[0]}`:`${Ho(n)}/(${t.join("//")})`}}function il(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ya(n){return il(n).replace(/%3B/gi,";")}function va(n){return il(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function au(n){return decodeURIComponent(n)}function Ff(n){return au(n.replace(/\+/g,"%20"))}function lu(n){return`${va(n.path)}${function jl(n){return Object.keys(n).map(e=>`;${va(e)}=${va(n[e])}`).join("")}(n.parameters)}`}const Iy=/^[^\/()?;=#]+/;function Ud(n){const e=n.match(Iy);return e?e[0]:""}const ba=/^[^=?&#]+/,Ay=/^[^&#]+/;class ag{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[tn]=new Je(e,t)),i}parseSegment(){const e=Ud(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new yi(au(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ud(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Ud(this.remaining);r&&(i=r,this.capture(i))}e[au(t)]=au(i)}parseQueryParam(e){const t=function cu(n){const e=n.match(ba);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Sy(n){const e=n.match(Ay);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Ff(t),l=Ff(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(l)}else e[r]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ud(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=tn);const u=this.parseChildren();t[l]=1===Object.keys(u).length?u[tn]:new Je([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class uu{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lg(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=lg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Nf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Nf(e,this._root).map(t=>t.value)}}function lg(n,e){if(n===e.value)return e;for(const t of e.children){const i=lg(n,t);if(i)return i}return null}function Nf(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Nf(n,t);if(i.length)return i.unshift(e),i}return[]}class Go{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Hl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class du extends uu{constructor(e,t){super(e),this.snapshot=t,$d(this,e)}toString(){return this.snapshot.toString()}}function jd(n,e){const t=function Gl(n,e){const u=new rl([],{},{},"",{},tn,e,null,n.root,-1,{});return new Gd("",new Go(u,[]))}(n,e),i=new gi.X([new yi("",{})]),r=new gi.X({}),l=new gi.X({}),u=new gi.X({}),f=new gi.X(""),_=new $l(i,r,u,f,l,tn,e,t.root);return _.snapshot=t.root,new du(new Go(_,[]),t)}class $l{constructor(e,t,i,r,l,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>lr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>lr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hd(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],l=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(l.component)break;i--}}return function nw(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class rl{constructor(e,t,i,r,l,u,f,_,w,T,M){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gd extends uu{constructor(e,t){super(t),this.url=e,$d(this,t)}toString(){return Lf(this._root)}}function $d(n,e){e.value._routerState=n,e.children.forEach(t=>$d(n,t))}function Lf(n){const e=n.children.length>0?` { ${n.children.map(Lf).join(", ")} } `:"";return`${n.value}${e}`}function hu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_i(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),_i(e.params,t.params)||n.params.next(t.params),function Bd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_i(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),_i(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $o(n,e){const t=_i(n.params,e.params)&&function ln(n,e){return rs(n,e)&&n.every((t,i)=>_i(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$o(n.parent,e.parent))}function fu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function My(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return fu(n,i,r);return fu(n,i)})}(n,e,t);return new Go(i,r)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>fu(n,f)),u}}const i=function Vf(n){return new $l(new gi.X(n.url),new gi.X(n.params),new gi.X(n.queryParams),new gi.X(n.fragment),new gi.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(l=>fu(n,l));return new Go(i,r)}}function Hr(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _o(n){return"object"==typeof n&&null!=n&&n.outlets}function pu(n,e,t,i,r){let l={};if(i&&Kn(i,(f,_)=>{l[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===e)return new Vt(t,l,r);const u=cg(n,e,t);return new Vt(u,l,r)}function cg(n,e,t){const i={};return Kn(n.children,(r,l)=>{i[l]=r===e?t:cg(r,e,t)}),new Je(n.segments,i)}class zd{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Hr(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(_o);if(r&&r!==nl(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wd{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function hg(n,e,t){if(n||(n=new Je([],{})),0===n.segments.length&&n.hasChildren())return Bf(n,e,t);const i=function sl(n,e,t){let i=0,r=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return l;const u=n.segments[r],f=t[i];if(_o(f))break;const _=`${f}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Uf(_,w,u))return l;i+=2}else{if(!Uf(_,{},u))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new Je(n.segments.slice(0,i.pathIndex),{});return l.children[tn]=new Je(n.segments.slice(i.pathIndex),n.children),Bf(l,0,r)}return i.match&&0===r.length?new Je(n.segments,{}):i.match&&!n.hasChildren()?fg(n,e,t):i.match?Bf(n,0,r):fg(n,e,t)}function Bf(n,e,t){if(0===t.length)return new Je(n.segments,{});{const i=function ky(n){return _o(n[0])?n[0].outlets:{[tn]:n}}(t),r={};return Kn(i,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(r[u]=hg(n.children[u],e,l))}),Kn(n.children,(l,u)=>{void 0===i[u]&&(r[u]=l)}),new Je(n.segments,r)}}function fg(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const l=t[r];if(_o(l)){const _=Py(l.outlets);return new Je(i,_)}if(0===r&&Hr(t[0])){i.push(new yi(n.segments[e].path,wa(t[0]))),r++;continue}const u=_o(l)?l.outlets[tn]:`${l}`,f=r<t.length-1?t[r+1]:null;u&&f&&Hr(f)?(i.push(new yi(u,wa(f))),r+=2):(i.push(new yi(u,{})),r++)}return new Je(i,{})}function Py(n){const e={};return Kn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=fg(new Je([],{}),0,t))}),e}function wa(n){const e={};return Kn(n,(t,i)=>e[i]=`${t}`),e}function Uf(n,e,t){return n==t.path&&_i(e,t.parameters)}class mu{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),hu(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Hl(t);e.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,r[u],i),delete r[u]}),Kn(r,(l,u)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(e,t,i){const r=e.value,l=t?t.value:null;if(r===l)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else l&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,l=Hl(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,l=Hl(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Hl(t);e.children.forEach(l=>{this.activateRoutes(l,r[l.value.outlet],i),this.forwardEvent(new Vd(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ns(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,l=t?t.value:null;if(hu(r),r===l)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),hu(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function pg(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class zl{constructor(e,t){this.routes=e,this.module=t}}function zo(n){return"function"==typeof n}function Ea(n){return n instanceof Vt}const qd=Symbol("INITIAL_VALUE");function gu(){return(0,Rn.w)(n=>function Ps(...n){const e=(0,Lo.yG)(n),t=(0,Lo.jO)(n),{args:i,keys:r}=Cn(n);if(0===i.length)return(0,Un.D)([],e);const l=new jn.y(function fa(n,e,t=xr.y){return i=>{Mr(e,()=>{const{length:r}=n,l=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)Mr(e,()=>{const w=(0,Un.D)(n[_],e);let T=!1;w.subscribe((0,Ui.x)(i,M=>{l[_]=M,T||(T=!0,f--),f||i.next(t(l.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>Fd(r,u):xr.y));return t?l.pipe(Bl(t)):l}(n.map(e=>e.pipe((0,jr.q)(1),oi(qd)))).pipe((0,ms.R)((e,t)=>{let i=!1;return t.reduce((r,l,u)=>r!==qd?r:(l===qd&&(i=!0),i||!1!==l&&u!==t.length-1&&!Ea(l)?r:l),e)},qd),(0,En.h)(e=>e!==qd),(0,pt.U)(e=>Ea(e)?e:!0===e),(0,jr.q)(1)))}class Zd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _u,this.attachRef=null}}class _u{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Zd,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Wl=(()=>{class n{constructor(t,i,r,l,u){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=l||tn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new $f(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(_u),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class $f{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===$l?this.route:e===_u?this.childContexts:this.parent.get(e,t)}}let Kd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},directives:[Wl],encapsulation:2}),n})();function zf(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];Yd(i,yu(e,i))}}function Yd(n,e){n.children&&zf(n.children,e)}function yu(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function vu(n){const e=n.children&&n.children.map(vu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==tn&&(t.component=Kd),t}function _s(n){return n.outlet||tn}function ai(n,e){const t=n.filter(i=>_s(i)===e);return t.push(...n.filter(i=>_s(i)!==e)),t}const Qd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jd(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Qd):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||mo)(t,n,e);if(!l)return Object.assign({},Qd);const u={};Kn(l.posParams,(_,w)=>{u[w]=_.path});const f=l.consumed.length>0?Object.assign(Object.assign({},u),l.consumed[l.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:f,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function ql(n,e,t,i,r="corrected"){if(t.length>0&&function Xd(n,e,t){return t.some(i=>bu(n,e,i)&&_s(i)!==tn)}(n,t,i)){const u=new Je(e,function Fy(n,e,t,i){const r={};r[tn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&_s(l)!==tn){const u=new Je([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[_s(l)]=u}return r}(n,e,i,new Je(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Ny(n,e,t){return t.some(i=>bu(n,e,i))}(n,t,i)){const u=new Je(n.segments,function mg(n,e,t,i,r,l){const u={};for(const f of i)if(bu(n,t,f)&&!r[_s(f)]){const _=new Je([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,u[_s(f)]=_}return Object.assign(Object.assign({},r),u)}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const l=new Je(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function bu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function gg(n,e,t,i){return!!(_s(n)===i||i!==tn&&bu(e,t,n))&&("**"===n.path||Jd(e,n,t).matched)}function Ly(n,e,t){return 0===e.length&&!n.children[t]}class Wf{constructor(e){this.segmentGroup=e||null}}class Zl{constructor(e){this.urlTree=e}}function vi(n){return pa(new Wf(n))}function Kl(n){return pa(new Zl(n))}class ol{constructor(e,t,i,r,l){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(a.h0i)}apply(){const e=ql(this.urlTree.root,[],[],this.config).segmentGroup,t=new Je(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,tn).pipe((0,pt.U)(l=>this.createUrlTree(kr(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Fs.K)(l=>{if(l instanceof Zl)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Wf?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,tn).pipe((0,pt.U)(r=>this.createUrlTree(kr(r),e.queryParams,e.fragment))).pipe((0,Fs.K)(r=>{throw r instanceof Wf?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Je([],{[tn]:e}):e;return new Vt(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,pt.U)(l=>new Je([],l))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const l of Object.keys(i.children))"primary"===l?r.unshift(l):r.push(l);return(0,Un.D)(r).pipe((0,uo.b)(l=>{const u=i.children[l],f=ai(t,l);return this.expandSegmentGroup(e,f,u,l).pipe((0,pt.U)(_=>({segment:_,outlet:l})))}),(0,ms.R)((l,u)=>(l[u.outlet]=u.segment,l),{}),function ig(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,En.h)((r,l)=>n(r,l,i)):xr.y,ho(1),t?qn(e):Qa(()=>new ma))}())}expandSegment(e,t,i,r,l,u){return(0,Un.D)(i).pipe((0,uo.b)(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,l,u).pipe((0,Fs.K)(w=>{if(w instanceof Wf)return(0,lt.of)(null);throw w}))),Ja(f=>!!f),(0,Fs.K)((f,_)=>{if(f instanceof ma||"EmptyError"===f.name)return Ly(t,r,l)?(0,lt.of)(new Je([],{})):vi(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,l,u,f){return gg(r,t,l,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,l,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,l,u):vi(t):vi(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,l,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Kl(l):this.lineralizeSegments(i,l).pipe((0,ar.z)(u=>{const f=new Je(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,l,u){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:T}=Jd(t,r,l);if(!f)return vi(t);const M=this.applyRedirectCommands(_,r.redirectTo,T);return r.redirectTo.startsWith("/")?Kl(M):this.lineralizeSegments(r,M).pipe((0,ar.z)(N=>this.expandSegment(e,t,i,N.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,lt.of)(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,pt.U)(M=>(i._loadedConfig=M,new Je(r,{})))):(0,lt.of)(new Je(r,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=Jd(t,i,r);return u?this.getChildConfig(e,i,r).pipe((0,ar.z)(T=>{const M=T.module,N=T.routes,{segmentGroup:H,slicedSegments:Z}=ql(t,f,_,N),ce=new Je(H.segments,H.children);if(0===Z.length&&ce.hasChildren())return this.expandChildren(M,N,ce).pipe((0,pt.U)(ut=>new Je(f,ut)));if(0===N.length&&0===Z.length)return(0,lt.of)(new Je(f,{}));const Ve=_s(i)===l;return this.expandSegment(M,ce,N,Z,Ve?tn:l,!0).pipe((0,pt.U)(st=>new Je(f.concat(st.segments),st.children)))})):vi(t)}getChildConfig(e,t,i){return t.children?(0,lt.of)(new zl(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,lt.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,ar.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,pt.U)(l=>(t._loadedConfig=l,l))):function qf(n){return pa(tl(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):(0,lt.of)(new zl([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;if(!r||0===r.length)return(0,lt.of)(!0);const l=r.map(u=>{const f=e.get(u);let _;if(function rw(n){return n&&zo(n.canLoad)}(f))_=f.canLoad(t,i);else{if(!zo(f))throw new Error("Invalid CanLoad guard");_=f(t,i)}return is(_)});return(0,lt.of)(l).pipe(gu(),(0,kn.b)(u=>{if(!Ea(u))return;const f=tl(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,pt.U)(u=>!0===u))}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,lt.of)(i);if(r.numberOfChildren>1||!r.children[tn])return pa(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[tn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const l=this.createSegmentGroup(e,t.root,i,r);return new Vt(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Kn(e,(r,l)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[l]=t[f]}else i[l]=r}),i}createSegmentGroup(e,t,i,r){const l=this.createSegments(e,t.segments,i,r);let u={};return Kn(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new Je(l,u)}createSegments(e,t,i,r){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,r):this.findOrReturn(l,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function kr(n){const e={};for(const i of Object.keys(n.children)){const l=kr(n.children[i]);(l.segments.length>0||l.hasChildren())&&(e[i]=l)}return function Zf(n){if(1===n.numberOfChildren&&n.children[tn]){const e=n.children[tn];return new Je(n.segments.concat(e.segments),e.children)}return n}(new Je(n.segments,e))}class th{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nh{constructor(e,t){this.component=e,this.route=t}}function ih(n,e,t){const i=n._root;return Cu(i,e?e._root:null,t,[i.value])}function Eu(n,e,t){const i=function _g(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Cu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=Hl(e);return n.children.forEach(u=>{(function yo(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const _=function yg(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!rs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(n.url,e.url)||!_i(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$o(n,e)||!_i(n.queryParams,e.queryParams);default:return!$o(n,e)}}(u,l,l.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new th(i)):(l.data=u.data,l._resolvedData=u._resolvedData),Cu(n,e,l.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new nh(f.outlet.component,u))}else u&&Du(e,f,r),r.canActivateChecks.push(new th(i)),Cu(n,null,l.component?f?f.children:null:t,i,r)})(u,l[u.value.outlet],t,i.concat([u.value]),r),delete l[u.value.outlet]}),Kn(l,(u,f)=>Du(u,t.getContext(f),r)),r}function Du(n,e,t){const i=Hl(n),r=n.value;Kn(i,(l,u)=>{Du(l,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new nh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Tu{}function rh(n){return new jn.y(e=>e.error(n))}class Uy{constructor(e,t,i,r,l,u){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u}recognize(){const e=ql(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,tn);if(null===t)return null;const i=new rl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},tn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Go(i,t),l=new Gd(this.url,r);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,i=Hd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const l of Object.keys(t.children)){const u=t.children[l],f=ai(e,l),_=this.processSegmentGroup(f,u,l);if(null===_)return null;i.push(..._)}const r=wg(i);return function Xf(n){n.sort((e,t)=>e.value.outlet===tn?-1:t.value.outlet===tn?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const l of e){const u=this.processSegmentAgainstRoute(l,t,i,r);if(null!==u)return u}return Ly(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!gg(e,t,i,r))return null;let l,u=[],f=[];if("**"===e.path){const H=i.length>0?nl(i).parameters:{};l=new rl(i,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,g(e),_s(e),e.component,e,y(t),p(t)+i.length,b(e))}else{const H=Jd(t,e,i);if(!H.matched)return null;u=H.consumedSegments,f=H.remainingSegments,l=new rl(u,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,g(e),_s(e),e.component,e,y(t),p(t)+u.length,b(e))}const _=function jy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:T}=ql(t,u,f,_.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);if(0===T.length&&w.hasChildren()){const H=this.processChildren(_,w);return null===H?null:[new Go(l,H)]}if(0===_.length&&0===T.length)return[new Go(l,[])];const M=_s(e)===r,N=this.processSegment(_,w,T,M?tn:r);return null===N?null:[new Go(l,N)]}}function Hy(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wg(n){const e=[],t=new Set;for(const i of n){if(!Hy(i)){e.push(i);continue}const r=e.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=wg(i.children);e.push(new Go(i.value,r))}return e.filter(i=>!t.has(i))}function y(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function p(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function g(n){return n.data||{}}function b(n){return n.resolve||{}}function Qe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function It(n){return(0,Rn.w)(e=>{const t=n(e);return t?(0,Un.D)(t).pipe((0,pt.U)(()=>e)):(0,lt.of)(e)})}class ys extends class Yn{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const al=new a.OlP("ROUTES");class Iu{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,pt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=l.create(e);return new zl(ou(u.injector.get(al,void 0,a.XFs.Self|a.XFs.Optional)).map(vu),u)}),(0,Fs.K)(l=>{throw t._loader$=void 0,l}));return t._loader$=new ps(r,()=>new Nt.x).pipe(ru()),t._loader$}loadModuleFactory(e){return is(e()).pipe((0,ar.z)(t=>t instanceof a.YKP?(0,lt.of)(t):(0,Un.D)(this.compiler.compileModuleAsync(t))))}}class ep{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Gy(n){throw n}function Ca(n,e,t){return e.parse("/")}function Su(n,e){return(0,lt.of)(null)}const tp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},np={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qn=(()=>{class n{constructor(t,i,r,l,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nt.x,this.errorHandler=Gy,this.malformedUriErrorHandler=Ca,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Su,afterPreactivation:Su},this.urlHandlingStrategy=new ep,this.routeReuseStrategy=new ys,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(a.h0i),this.console=u.get(a.c2e);const M=u.get(a.R0b);this.isNgZoneEnabled=M instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function D(){return new Vt(new Je([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Iu(u,f,N=>this.triggerEvent(new Yi(N)),N=>this.triggerEvent(new el(N))),this.routerState=jd(this.currentUrlTree,this.rootComponentType),this.transitions=new gi.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe((0,En.h)(r=>0!==r.id),(0,pt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),(0,Rn.w)(r=>{let l=!1,u=!1;return(0,lt.of)(r).pipe((0,kn.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Rn.w)(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return sh(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,lt.of)(f).pipe((0,Rn.w)(M=>{const N=this.transitions.getValue();return i.next(new Nd(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),N!==this.transitions.getValue()?xi.E:Promise.resolve(M)}),function wu(n,e,t,i){return(0,Rn.w)(r=>function ur(n,e,t,i,r){return new ol(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,pt.U)(l=>Object.assign(Object.assign({},r),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,kn.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function x(n,e,t,i,r){return(0,ar.z)(l=>function bg(n,e,t,i,r="emptyOnly",l="legacy"){try{const u=new Uy(n,e,t,i,r,l).recognize();return null===u?rh(new Tu):(0,lt.of)(u)}catch(u){return rh(u)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),i,r).pipe((0,pt.U)(u=>Object.assign(Object.assign({},l),{targetSnapshot:u}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,kn.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(H,M)}this.browserUrlTree=M.urlAfterRedirects}const N=new su(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(N)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:H,source:Z,restoredState:ce,extras:Ve}=f,Ze=new Nd(N,this.serializeUrl(H),Z,ce);i.next(Ze);const st=jd(H,this.rootComponentType).snapshot;return(0,lt.of)(Object.assign(Object.assign({},f),{targetSnapshot:st,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),xi.E}),It(f=>{const{targetSnapshot:_,id:w,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:N,replaceUrl:H}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!N,replaceUrl:!!H})}),(0,kn.b)(f=>{const _=new Uo(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,pt.U)(f=>Object.assign(Object.assign({},f),{guards:ih(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Yf(n,e){return(0,ar.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:u}}=t;return 0===u.length&&0===l.length?(0,lt.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function Vy(n,e,t,i){return(0,Un.D)(n).pipe((0,ar.z)(r=>function Wo(n,e,t,i,r){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,lt.of)(!0);const u=l.map(f=>{const _=Eu(f,e,r);let w;if(function Gf(n){return n&&zo(n.canDeactivate)}(_))w=is(_.canDeactivate(n,e,t,i));else{if(!zo(_))throw new Error("Invalid CanDeactivate guard");w=is(_(n,e,t,i))}return w.pipe(Ja())});return(0,lt.of)(u).pipe(gu())}(r.component,r.route,t,e,i)),Ja(r=>!0!==r,!0))}(u,i,r,n).pipe((0,ar.z)(f=>f&&function iw(n){return"boolean"==typeof n}(f)?function vg(n,e,t,i){return(0,Un.D)(e).pipe((0,uo.b)(r=>Ka(function Qf(n,e){return null!==n&&e&&e(new po(n)),(0,lt.of)(!0)}(r.route.parent,i),function Qi(n,e){return null!==n&&e&&e(new jo(n)),(0,lt.of)(!0)}(r.route,i),function By(n,e,t){const i=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(u=>function Kf(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Ya(()=>{const f=u.guards.map(_=>{const w=Eu(_,u.node,t);let T;if(function Hf(n){return n&&zo(n.canActivateChild)}(w))T=is(w.canActivateChild(i,n));else{if(!zo(w))throw new Error("Invalid CanActivateChild guard");T=is(w(i,n))}return T.pipe(Ja())});return(0,lt.of)(f).pipe(gu())}));return(0,lt.of)(l).pipe(gu())}(n,r.path,t),function Jf(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,lt.of)(!0);const r=i.map(l=>Ya(()=>{const u=Eu(l,e,t);let f;if(function jf(n){return n&&zo(n.canActivate)}(u))f=is(u.canActivate(e,n));else{if(!zo(u))throw new Error("Invalid CanActivate guard");f=is(u(e,n))}return f.pipe(Ja())}));return(0,lt.of)(r).pipe(gu())}(n,r.route,t))),Ja(r=>!0!==r,!0))}(i,l,n,e):(0,lt.of)(f)),(0,pt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,kn.b)(f=>{if(Ea(f.guardsResult)){const w=tl(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new Ld(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),(0,En.h)(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),It(f=>{if(f.guards.canActivateChecks.length)return(0,lt.of)(f).pipe((0,kn.b)(_=>{const w=new Xa(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),(0,Rn.w)(_=>{let w=!1;return(0,lt.of)(_).pipe(function P(n,e){return(0,ar.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,lt.of)(t);let l=0;return(0,Un.D)(r).pipe((0,uo.b)(u=>function re(n,e,t,i){return function ve(n,e,t,i){const r=Qe(n);if(0===r.length)return(0,lt.of)({});const l={};return(0,Un.D)(r).pipe((0,ar.z)(u=>function ht(n,e,t,i){const r=Eu(n,e,i);return is(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe((0,kn.b)(f=>{l[u]=f}))),ho(1),(0,ar.z)(()=>Qe(l).length===r.length?(0,lt.of)(l):xi.E))}(n._resolve,n,e,i).pipe((0,pt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Hd(n,t).resolve),null)))}(u.route,i,n,e)),(0,kn.b)(()=>l++),ho(1),(0,ar.z)(u=>l===r.length?(0,lt.of)(t):xi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,kn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,kn.b)(_=>{const w=new Mi(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),It(f=>{const{targetSnapshot:_,id:w,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:N,replaceUrl:H}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!N,replaceUrl:!!H})}),(0,pt.U)(f=>{const _=function xy(n,e,t){const i=fu(n,e._root,t?t._root:void 0);return new du(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,kn.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(i=>(new mu(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,kn.b)({next(){l=!0},complete(){l=!0}}),function Mf(n){return(0,Rr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;l||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),(0,Fs.K)(f=>{if(u=!0,function ga(n){return n&&n[ji]}(f)){const _=Ea(f.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const w=new Of(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(w),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),M={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sh(r.source)};this.scheduleNavigation(T,"imperative",null,M,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Zn(r.id,this.serializeUrl(r.extractedUrl),f);i.next(_);try{r.resolve(this.errorHandler(f))}catch(w){r.reject(w)}}return xi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const l={replaceUrl:!0},u=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,i,u,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){zf(t),this.config=t.map(vu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:l,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,w=r||this.routerState.root,T=_?this.currentUrlTree.fragment:u;let M=null;switch(f){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function Oy(n,e,t,i,r){if(0===t.length)return pu(e.root,e.root,e.root,i,r);const l=function Ry(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zd(!0,0,n);let e=0,t=!1;const i=n.reduce((r,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return Kn(l.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(l.segmentPath)return[...r,l.segmentPath]}return"string"!=typeof l?[...r,l]:0===u?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,l]},[]);return new zd(t,e,i)}(t);if(l.toRoot())return pu(e.root,e.root,new Je([],{}),i,r);const u=function ug(n,e,t){if(n.isAbsolute)return new Wd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Wd(l,l===e.root,0)}const i=Hr(n.commands[0])?0:1;return function dg(n,e,t){let i=n,r=e,l=t;for(;l>r;){if(l-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Wd(i,!1,r-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,e,n),f=u.processChildren?Bf(u.segmentGroup,u.index,l.commands):hg(u.segmentGroup,u.index,l.commands);return pu(e.root,u.segmentGroup,f,i,r)}(w,this.currentUrlTree,t,M,null!=T?T:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ea(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function $y(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},tp):!1===i?Object.assign({},np):i,Ea(t))return B(this.currentUrlTree,t,r);const l=this.parseUrl(t);return B(this.currentUrlTree,l,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const l=t[r];return null!=l&&(i[r]=l),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ts(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,l,u){var f,_;if(this.disposed)return Promise.resolve(!1);let w,T,M;u?(w=u.resolve,T=u.reject,M=u.promise):M=new Promise((Z,ce)=>{w=Z,T=ce});const N=++this.navigationId;let H;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),H=r&&r.\u0275routerPageId?r.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):H=0,this.setTransition({id:N,targetPageId:H,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:w,reject:T,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(Z=>Promise.reject(Z))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",l):this.location.go(r,"",l)}restoreHistory(t,i=!1){var r,l;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new Of(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function sh(n){return"imperative"!==n}let ip=(()=>{class n{constructor(t,i,r,l,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=l,this.el=u,this.commands=null,this.onChanges=new Nt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:oh(this.skipLocationChange),replaceUrl:oh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:oh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qn),a.Y36($l),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})(),Eg=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Nt.x,this.subscription=t.events.subscribe(l=>{l instanceof ts&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,l,u){if(0!==t||i||r||l||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:oh(this.skipLocationChange),replaceUrl:oh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:oh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qn),a.Y36($l),a.Y36(he))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&a.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&a.uIk("target",i.target)("href",i.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})();function oh(n){return""===n||!!n}let ow=(()=>{class n{constructor(t,i,r,l,u,f){this.router=t,this.element=i,this.renderer=r,this.cdr=l,this.link=u,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof ts&&this.update()})}ngAfterContentInit(){(0,lt.of)(this.links.changes,this.linksWithHrefs.changes,(0,lt.of)(null)).pipe((0,co.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Un.D)(i).pipe((0,co.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function aw(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qn),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(ip,8),a.Y36(Eg,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,ip,5),a.Suo(r,Eg,5)),2&t){let l;a.iGM(l=a.CRH())&&(i.links=l),a.iGM(l=a.CRH())&&(i.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[a.TTD]}),n})();class Cg{}class Dg{preload(e,t){return(0,lt.of)(null)}}let cw=(()=>{class n{constructor(t,i,r,l){this.router=t,this.injector=r,this.preloadingStrategy=l,this.loader=new Iu(r,i,_=>t.triggerEvent(new Yi(_)),_=>t.triggerEvent(new el(_)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,En.h)(t=>t instanceof ts),(0,uo.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(a.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const u=l._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?r.push(this.preloadConfig(t,l)):l.children&&r.push(this.processRoutes(t,l.children));return(0,Un.D)(r).pipe((0,co.J)(),(0,pt.U)(l=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,lt.of)(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,ar.z)(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qn),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(Cg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),zy=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Nd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ts&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Rf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Rf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Yl=new a.OlP("ROUTER_CONFIGURATION"),Ql=new a.OlP("ROUTER_FORROOT_GUARD"),uw=[ye,{provide:go,useClass:cr},{provide:Qn,useFactory:function pw(n,e,t,i,r,l,u={},f,_){const w=new Qn(null,n,e,t,i,r,ou(l));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function qy(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,w),u.enableTracing&&w.events.subscribe(T=>{var M,N;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(N=console.groupEnd)||void 0===N||N.call(console)}),w},deps:[go,_u,ye,a.zs3,a.Sil,al,Yl,[class Au{},new a.FiY],[class Et{},new a.FiY]]},_u,{provide:$l,useFactory:function mw(n){return n.routerState.root},deps:[Qn]},cw,Dg,class lw{preload(e,t){return t().pipe((0,Fs.K)(()=>(0,lt.of)(null)))}},{provide:Yl,useValue:{enableTracing:!1}}];function dw(){return new a.PXZ("Router",Qn)}let hw=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[uw,Wy(t),{provide:Ql,useFactory:fw,deps:[[Qn,new a.FiY,new a.tp0]]},{provide:Yl,useValue:i||{}},{provide:he,useFactory:FT,deps:[J,[new a.tBr(He),new a.FiY],Yl]},{provide:zy,useFactory:Tg,deps:[Qn,Al,Yl]},{provide:Cg,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Dg},{provide:a.PXZ,multi:!0,useFactory:dw},[ah,{provide:a.ip1,multi:!0,useFactory:Ig,deps:[ah]},{provide:Ag,useFactory:gw,deps:[ah]},{provide:a.tb,multi:!0,useExisting:Ag}]]}}static forChild(t){return{ngModule:n,providers:[Wy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ql,8),a.LFG(Qn,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function Tg(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new zy(n,e,t)}function FT(n,e,t={}){return t.useHash?new Ie(n,e):new Le(n,e)}function fw(n){return"guarded"}function Wy(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:al,multi:!0,useValue:n}]}let ah=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Nt.x}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),l=this.injector.get(Qn),u=this.injector.get(Yl);return"disabled"===u.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,lt.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Yl),r=this.injector.get(cw),l=this.injector.get(zy),u=this.injector.get(Qn),f=this.injector.get(a.z2F);t===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),l.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Ig(n){return n.appInitializer.bind(n)}function gw(n){return n.bootstrapListener.bind(n)}const Ag=new a.OlP("Router Initializer");let rp=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-admin"]],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},directives:[Wl],styles:[""],changeDetection:0}),n})();const Sg_firebaseConfig={apiKey:"AIzaSyDR0WDSrWKK-vJBuVGi-AFxUZJEHgS8xHY",authDomain:"ice-cream-shop-45821.firebaseapp.com",databaseURL:"https://ice-cream-shop-45821-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"ice-cream-shop-45821",storageBucket:"ice-cream-shop-45821.appspot.com",messagingSenderId:"561269820096",appId:"1:561269820096:web:10e51a3921eaa4f3aefb25"};var Jl=A(6451),xg=A(5363),NT=A(4707),vw=A(3099);function Mg(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,vw.B)({connector:()=>new NT.t(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Zy(n,e){return(0,Ki.m)(e)?(0,Rn.w)(()=>n,e):(0,Rn.w)(()=>n)}var bw=A(9468),Ji=A(6351),qo=A(2011),sp=A(5867),Me=A(5861),Pr=A(9681),op=A(4859),cn=A(2090),Ta=A(1877);const Ia=new Map,Ky={activated:!1,tokenObservers:[]},ww={initialized:!1,enabled:!1};function Hi(n){return Ia.get(n)||Ky}function Aa(n,e){Ia.set(n,e)}function ap(){return ww}class gM{constructor(e,t,i,r,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Me.Z)(function*(){t.stop();try{t.pending=new cn.BH,yield function zT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new cn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ss=new cn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jy(n){if(!Hi(n).activated)throw ss.create("use-before-activation",{appName:n.name})}function Lg(n,e){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,Me.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const l={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,l)}catch(M){throw ss.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==u.status)throw ss.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(M){throw ss.create("fetch-parse-error",{originalErrorMessage:M.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+w,issuedAtTimeMillis:T}})).apply(this,arguments)}function yM(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Bg="firebase-app-check-store";let nv=null;function KT(){return nv||(nv=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ss.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Bg,{keyPath:"compositeKey"})}}catch(t){e(ss.create("storage-open",{originalErrorMessage:t.message}))}}),nv)}function iv(){return(iv=(0,Me.Z)(function*(n,e){const i=(yield KT()).transaction(Bg,"readwrite"),l=i.objectStore(Bg).put({compositeKey:n,value:e});return new Promise((u,f)=>{l.onsuccess=_=>{u()},i.onerror=_=>{var w;f(ss.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const xu=new Ta.Yd("@firebase/app-check");function ov(n,e){return(0,cn.hl)()?function EM(n,e){return function Ug(n,e){return iv.apply(this,arguments)}(function sv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{xu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Cw(){return ap().enabled}function av(){return lv.apply(this,arguments)}function lv(){return(lv=(0,Me.Z)(function*(){const n=ap();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const up={error:"UNKNOWN_ERROR"};function lh(n){return cn.US.encodeString(JSON.stringify(n),!1)}function ch(n){return ec.apply(this,arguments)}function ec(){return(ec=(0,Me.Z)(function*(n,e=!1){const t=n.app;Jy(t);const i=Hi(t);let l,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&uh(_)&&(r=_)}if(!e&&r&&uh(r))return{token:r.token};let f,u=!1;if(Cw()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Lg(yM(t,yield av()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),u=!0);const _=yield i.exchangeTokenPromise;return yield ov(t,_),Aa(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?xu.warn(_.message):xu.error(_),l=_}return r?(f={token:r.token},Aa(t,Object.assign(Object.assign({},i),{token:r})),yield ov(t,r)):f=uv(l),u&&cv(t,f),f})).apply(this,arguments)}function tc(n,e){const t=Hi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Aa(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Dw(n){const{app:e}=n,t=Hi(e);let i=t.tokenRefresher;i||(i=function Tw(n){const{app:e}=n;return new gM((0,Me.Z)(function*(){let i;if(i=Hi(e).token?yield ch(n,!0):yield ch(n),i.error)throw i.error}),()=>!0,()=>{const t=Hi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Aa(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function cv(n,e){const t=Hi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function uh(n){return n.expireTimeMillis-Date.now()>0}function uv(n){return{token:lh(up),error:n}}class Iw{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hi(this.app);for(const t of e)tc(this.app,t.next);return Promise.resolve()}}const kw="app-check-internal";!function Pw(){(0,Pr._registerComponent)(new op.wA("app-check",n=>function jg(n,e){return new Iw(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kw).initialize()})),(0,Pr._registerComponent)(new op.wA(kw,n=>function XT(n){return{getToken:e=>ch(n,e),addTokenListener:e=>function Mu(n,e,t,i){const{app:r}=n,l=Hi(r),u={next:t,error:i,type:e};if(Aa(r,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,u]})),l.token&&uh(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),Dw(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Dw(n))}(n,"INTERNAL",e),removeTokenListener:e=>tc(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pr.registerVersion)("@firebase/app-check","0.5.7")}();class vo{constructor(){return(0,Ji.vb)("app-check")}}"undefined"!=typeof window&&window;var $g=A(127);const Uw=new a.OlP("angularfire2.auth.use-emulator"),jw=new a.OlP("angularfire2.auth.settings"),zg=new a.OlP("angularfire2.auth.tenant-id"),dI=new a.OlP("angularfire2.auth.langugage-code"),Hw=new a.OlP("angularfire2.auth.use-device-language"),vv=new a.OlP("angularfire.auth.persistence"),bv=(n,e,t,i,r,l,u,f)=>(0,qo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,l&&_.useDeviceLanguage(),u)for(const[w,T]of Object.entries(u))_.settings[w]=T;return f&&_.setPersistence(f),_},[t,i,r,l,u,f]);let dp=(()=>{class n{constructor(t,i,r,l,u,f,_,w,T,M,N,H){const Z=new Nt.x,ce=(0,lt.of)(void 0).pipe((0,xg.Q)(u.outsideAngular),(0,Rn.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,820)))),(0,pt.U)(()=>(0,qo.on)(t,l,i)),(0,pt.U)(Ve=>bv(Ve,l,f,w,T,M,_,N)),Mg({bufferSize:1,refCount:!1}));if(Vi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,lt.of)(null);else{ce.pipe(Ja()).subscribe();const Ze=ce.pipe((0,Rn.w)(gt=>gt.getRedirectResult().then(Kt=>Kt,()=>null)),Ji.iC,Mg({bufferSize:1,refCount:!1})),st=ce.pipe((0,Rn.w)(gt=>new jn.y(Kt=>({unsubscribe:l.runOutsideAngular(()=>gt.onAuthStateChanged(rn=>Kt.next(rn),rn=>Kt.error(rn),()=>Kt.complete()))})))),ut=ce.pipe((0,Rn.w)(gt=>new jn.y(Kt=>({unsubscribe:l.runOutsideAngular(()=>gt.onIdTokenChanged(rn=>Kt.next(rn),rn=>Kt.error(rn),()=>Kt.complete()))}))));this.authState=Ze.pipe(Zy(st),(0,bw.R)(u.outsideAngular),(0,xg.Q)(u.insideAngular)),this.user=Ze.pipe(Zy(ut),(0,bw.R)(u.outsideAngular),(0,xg.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,Rn.w)(gt=>gt?(0,Un.D)(gt.getIdToken()):(0,lt.of)(null))),this.idTokenResult=this.user.pipe((0,Rn.w)(gt=>gt?(0,Un.D)(gt.getIdTokenResult()):(0,lt.of)(null))),this.credential=(0,Jl.T)(Ze,Z,this.authState.pipe((0,En.h)(gt=>!gt))).pipe((0,pt.U)(gt=>(null==gt?void 0:gt.user)?gt:null),(0,bw.R)(u.outsideAngular),(0,xg.Q)(u.insideAngular))}return(0,qo.pX)(this,ce,l,{spy:{apply:(Ve,Ze,st)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&st.then(ut=>Z.next(ut))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(qo.Dh),a.LFG(qo.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ji.HU),a.LFG(Uw,8),a.LFG(jw,8),a.LFG(zg,8),a.LFG(dI,8),a.LFG(Hw,8),a.LFG(vv,8),a.LFG(vo,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Gw=(()=>{class n{constructor(){$g.Z.registerVersion("angularfire",Ji.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[dp]}),n})(),wv=(()=>{class n{constructor(t){this.auth=t}login(t,i){return(0,Un.D)(this.auth.signInWithEmailAndPassword(t,i))}logout(){return(0,Un.D)(this.auth.signOut())}createUser(t,i){return(0,Un.D)(this.auth.createUserWithEmailAndPassword(t,i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(dp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Zo=A(4986);function dh(){return(0,Rr.e)((n,e)=>{let t,i=!1;n.subscribe((0,Ui.x)(e,r=>{const l=t;t=r,i&&e.next([l,r]),i=!0}))})}var dt,Wg=A(1884),FM=(A(820),A(3942)),Ev="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xa={},Ou=Ou||{},jt=Ev||self;function hh(){}function qg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Cv="closure_uid_"+(1e9*Math.random()>>>0),Dv=0;function hI(n,e,t){return n.call.apply(n.bind,arguments)}function fI(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function dr(n,e,t){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hI:fI).apply(null,arguments)}function ll(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function hr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,l){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function nc(){this.s=this.s,this.o=this.o}var ph={};nc.prototype.s=!1,nc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function $w(n){return Object.prototype.hasOwnProperty.call(n,Cv)&&n[Cv]||(n[Cv]=++Dv)}(this);delete ph[n]}},nc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ww=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let l=0;l<i;l++)l in r&&e.call(t,r[l],l,n)};function qw(n){return Array.prototype.concat.apply([],arguments)}function Ls(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function mh(n){return/^[\s\xa0]*$/.test(n)}var $r,Tv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Gr(n,e){return-1!=n.indexOf(e)}function Zg(n,e){return n<e?-1:n>e?1:0}e:{var Zw=jt.navigator;if(Zw){var Kw=Zw.userAgent;if(Kw){$r=Kw;break e}}$r=""}function Iv(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Yw(n){const e={};for(const t in n)e[t]=n[t];return e}var Av="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gI(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let l=0;l<Av.length;l++)t=Av[l],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Kg(n){return Kg[" "](n),n}Kg[" "]=hh;var xv,n,yI=Gr($r,"Opera"),hp=Gr($r,"Trident")||Gr($r,"MSIE"),vI=Gr($r,"Edge"),fp=vI||hp,Qw=Gr($r,"Gecko")&&!(Gr($r.toLowerCase(),"webkit")&&!Gr($r,"Edge"))&&!(Gr($r,"Trident")||Gr($r,"MSIE"))&&!Gr($r,"Edge"),Jw=Gr($r.toLowerCase(),"webkit")&&!Gr($r,"Edge");function Sv(){var n=jt.document;return n?n.documentMode:void 0}e:{var Vs="",Xw=(n=$r,Qw?/rv:([^\);]+)(\)|;)/.exec(n):vI?/Edge\/([\d\.]+)/.exec(n):hp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Jw?/WebKit\/(\S+)/.exec(n):yI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xw&&(Vs=Xw?Xw[1]:""),hp){var eE=Sv();if(null!=eE&&eE>parseFloat(Vs)){xv=String(eE);break e}}xv=Vs}var tE={};var NM=jt.document&&hp&&(Sv()||parseInt(xv,10))||void 0,rE=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",hh,e),jt.removeEventListener("test",hh,e)}catch(t){}return n}();function fr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function pp(n,e){if(fr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Qw){e:{try{Kg(e.nodeName);var r=!0;break e}catch(l){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Mv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pp.Z.h.call(this)}}fr.prototype.h=function(){this.defaultPrevented=!0},hr(pp,fr);var Mv={2:"touch",3:"pen",4:"mouse"};pp.prototype.h=function(){pp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mp="closure_listenable_"+(1e6*Math.random()|0),bI=0;function wI(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++bI,this.ca=this.fa=!1}function Qg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Jg(n){this.src=n,this.g={},this.h=0}function Ov(n,e){var t=e.type;if(t in n.g){var l,i=n.g[t],r=zw(i,e);(l=0<=r)&&Array.prototype.splice.call(i,r,1),l&&(Qg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function gh(n,e,t,i){for(var r=0;r<n.length;++r){var l=n[r];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==i)return r}return-1}Jg.prototype.add=function(n,e,t,i,r){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=gh(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new wI(e,this.src,l,!!i,r)).fa=t,n.push(e)),e};var ic="closure_lm_"+(1e6*Math.random()|0),Rv={};function _h(n,e,t,i,r){if(i&&i.once)return Xg(n,e,t,i,r);if(Array.isArray(e)){for(var l=0;l<e.length;l++)_h(n,e[l],t,i,r);return null}return t=gp(t),n&&n[mp]?n.N(e,t,fh(i)?!!i.capture:!!i,r):sE(n,e,t,!1,i,r)}function sE(n,e,t,i,r,l){if(!e)throw Error("Invalid event type");var u=fh(r)?!!r.capture:!!r,f=yh(n);if(f||(n[ic]=f=new Jg(n)),(t=f.add(e,t,i,u,l)).proxy)return t;if(i=function EI(){var e=ku;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)rE||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Fr(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Xg(n,e,t,i,r){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Xg(n,e[l],t,i,r);return null}return t=gp(t),n&&n[mp]?n.O(e,t,fh(i)?!!i.capture:!!i,r):sE(n,e,t,!0,i,r)}function Ko(n,e,t,i,r){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ko(n,e[l],t,i,r);else i=fh(i)?!!i.capture:!!i,t=gp(t),n&&n[mp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=gh(l=n.g[e],t,i,r))&&(Qg(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=yh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=gh(e,t,i,r)),(t=-1<n?e[n]:null)&&Ru(t))}function Ru(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[mp])Ov(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Fr(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=yh(e))?(Ov(t,n),0==t.h&&(t.src=null,e[ic]=null)):Qg(n)}}}function Fr(n){return n in Rv?Rv[n]:Rv[n]="on"+n}function ku(n,e){if(n.ca)n=!0;else{e=new pp(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Ru(n),n=t.call(i,e)}return n}function yh(n){return(n=n[ic])instanceof Jg?n:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function gp(n){return"function"==typeof n?n:(n[bs]||(n[bs]=function(e){return n.handleEvent(e)}),n[bs])}function hi(){nc.call(this),this.i=new Jg(this),this.P=this,this.I=null}function bi(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new fr(e,n);else if(e instanceof fr)e.target=e.target||n;else{var r=e;gI(e=new fr(i,n),r)}if(r=!0,t)for(var l=t.length-1;0<=l;l--){var u=e.g=t[l];r=cl(u,i,!0,e)&&r}if(r=cl(u=e.g=n,i,!0,e)&&r,r=cl(u,i,!1,e)&&r,t)for(l=0;l<t.length;l++)r=cl(u=e.g=t[l],i,!1,e)&&r}function cl(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,l=0;l<e.length;++l){var u=e[l];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&Ov(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}hr(hi,nc),hi.prototype[mp]=!0,hi.prototype.removeEventListener=function(n,e,t,i){Ko(this,n,e,t,i)},hi.prototype.M=function(){if(hi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Qg(t[i]);delete n.g[e],n.h--}}this.I=null},hi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},hi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var rc=jt.JSON.stringify;function vh(){var n=kv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var t_,Pu=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new wh,n=>n.reset());class wh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Eh(n){jt.setTimeout(()=>{throw n},0)}function e_(n,e){t_||function oE(){var n=jt.Promise.resolve(void 0);t_=function(){n.then(aE)}}(),n_||(t_(),n_=!0),kv.add(n,e)}var n_=!1,kv=new class bh{constructor(){this.h=this.g=null}add(e,t){const i=Pu.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function aE(){for(var n;n=vh();){try{n.h.call(n.g)}catch(t){Eh(t)}var e=Pu;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}n_=!1}function _p(n,e){hi.call(this),this.h=n||1,this.g=e||jt,this.j=dr(this.kb,this),this.l=Date.now()}function i_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function r_(n,e,t){if("function"==typeof n)t&&(n=dr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=dr(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function lE(n){n.g=r_(()=>{n.g=null,n.i&&(n.i=!1,lE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hr(_p,hi),(dt=_p.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bi(this,"tick"),this.da&&(i_(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){_p.Z.M.call(this),i_(this),delete this.g};class cE extends nc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lE(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yp(n){nc.call(this),this.h=n,this.g={}}hr(yp,nc);var Pv=[];function Fv(n,e,t,i){Array.isArray(t)||(t&&(Pv[0]=t.toString()),t=Pv);for(var r=0;r<t.length;r++){var l=_h(e,t[r],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function uE(n){Iv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ru(e)},n),n.g={}}function s_(){this.g=!0}function Fu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function TI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var l=r[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<r.length;u++)r[u]=""}}}return rc(t)}catch(f){return e}}(n,t)+(i?" "+i:"")})}yp.prototype.M=function(){yp.Z.M.call(this),uE(this)},yp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},s_.prototype.Aa=function(){this.g=!1},s_.prototype.info=function(){};var Ch={},hE=null;function Dh(){return hE=hE||new hi}function o_(n){fr.call(this,Ch.Ma,n)}function vp(n){const e=Dh();bi(e,new o_(e,n))}function II(n,e){fr.call(this,Ch.STAT_EVENT,n),this.stat=e}function ws(n){const e=Dh();bi(e,new II(e,n))}function AI(n,e){fr.call(this,Ch.Na,n),this.size=e}function bp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}Ch.Ma="serverreachability",hr(o_,fr),Ch.STAT_EVENT="statevent",hr(II,fr),Ch.Na="timingevent",hr(AI,fr);var wp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},SI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Nv(){}function fE(){}Nv.prototype.h=null;var Ih,Th={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Lv(){fr.call(this,"d")}function a_(){fr.call(this,"c")}function l_(){}function Ah(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new yp(this),this.P=xI,this.W=new _p(n=fp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pE}function pE(){this.i=null,this.g="",this.h=!1}hr(Lv,fr),hr(a_,fr),hr(l_,Nv),l_.prototype.g=function(){return new XMLHttpRequest},l_.prototype.i=function(){return{}},Ih=new l_;var xI=45e3,Vv={},c_={};function Bv(n,e,t){n.K=1,n.v=Ip(ul(e)),n.s=t,n.U=!0,Uv(n,null)}function Uv(n,e){n.F=Date.now(),Lu(n),n.A=ul(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Kv(t.h,"t",i),n.C=0,t=n.l.H,n.h=new pE,n.g=hb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new cE(dr(n.Ia,n,n.g),n.O)),Fv(n.V,n.g,"readystatechange",n.gb),e=n.H?Yw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),vp(1),function dE(n,e,t,i,r,l){n.info(function(){if(n.g)if(l)for(var u="",f=l.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var T=w[0];w=w[1];var M=T.split("_");u=2<=M.length&&"type"==M[1]?u+(T+"=")+w+"&":u+(T+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function mE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function jv(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=gE(n,t),r==c_){4==e&&(n.o=4,ws(14),i=!1),Fu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Vv){n.o=4,ws(15),Fu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Fu(n.j,n.m,r,null),Vu(n,r)}mE(n)&&r!=c_&&r!=Vv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ws(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Fp(e),e.L=!0,ws(11))):(Fu(n.j,n.m,t,"[Invalid Chunked Response]"),xh(n),Ep(n))}function gE(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?c_:(t=Number(e.substring(t,i)),isNaN(t)?Vv:(i+=1)+t>e.length?c_:(e=e.substr(i,t),n.C=i+t,e))}function Lu(n){n.Y=Date.now()+n.P,MI(n,n.P)}function MI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bp(dr(n.eb,n),e)}function Sh(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Ep(n){0==n.l.G||n.I||cb(n.l,n)}function xh(n){Sh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,i_(n.W),uE(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Vu(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Jv(t.i,n)))if(t.I=n.N,!n.J&&Jv(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(w){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=bp(dr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;kh(t),oc(t)}p_(t),ws(18)}if(1>=RI(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else lc(t,11)}else if((n.J||t.g==n)&&kh(t),!mh(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const T=w[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const M=w[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const N=w[5];null!=N&&"number"==typeof N&&0<N&&(t.K=i=1.5*N,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const H=n.g;if(H){const Z=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var l=i.i;!l.g&&(Gr(Z,"spdy")||Gr(Z,"quic")||Gr(Z,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Xv(l,l.h),l.h=null))}if(i.D){const ce=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ce&&(i.sa=ce,Hn(i.F,i.D,ce))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=db(i,i.H?i.la:null,i.W),u.J){eb(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(Sh(f),Lu(f)),i.g=u}else lb(i);0<t.l.length&&f_(t)}else"stop"!=w[0]&&"close"!=w[0]||lc(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?lc(t,7):Pp(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}vp(4)}catch(w){}}function Cp(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qg(n)||"string"==typeof n)Ww(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(qg(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function _E(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(qg(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var l=0;l<r;l++)e.call(void 0,i[l],t&&t[l],n)}}function sc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof sc)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function Hv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Ma(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Ma(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Ma(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(dt=Ah.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const e=this.L;e&&3==Ra(n)?e.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const T=Ra(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>T)&&(3!=T||fp||this.g&&(this.h.h||this.g.ga()||sb(this.g)))){this.I||4!=T||7==e||vp(8==e||0>=M?3:2),Sh(this);var t=this.g.ba();this.N=t;t:if(mE(this)){var i=sb(this.g);n="";var r=i.length,l=4==Ra(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xh(this),Ep(this);var u="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:l&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function CI(n,e,t,i,r,l,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mh(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,ws(12),xh(this),Ep(this);break e}Fu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vu(this,t)}this.U?(jv(this,T,u),fp&&this.i&&3==T&&(Fv(this.V,this.W,"tick",this.fb),this.W.start())):(Fu(this.j,this.m,u,null),Vu(this,u)),4==T&&xh(this),this.i&&!this.I&&(4==T?cb(this.l,this):(this.i=!1,Lu(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,ws(12)):(this.o=0,ws(13)),xh(this),Ep(this)}}}catch(T){}},dt.fb=function(){if(this.g){var n=Ra(this.g),e=this.g.ga();this.C<e.length&&(Sh(this),jv(this,n,e),this.i&&4!=n&&Lu(this))}},dt.cancel=function(){this.I=!0,xh(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function DI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(vp(3),ws(17)),xh(this),this.o=2,Ep(this)):MI(this,this.Y-n)},(dt=sc.prototype).R=function(){Hv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},dt.T=function(){return Hv(this),this.g.concat()},dt.get=function(n,e){return Ma(this.h,n)?this.h[n]:e},dt.set=function(n,e){Ma(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},dt.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],l=this.get(r);n.call(e,l,r,this)}};var Dp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Mh){this.g=void 0!==e?e:n.g,Bu(this,n.j),this.s=n.s,Uu(this,n.i),Tp(this,n.m),this.l=n.l,e=n.h;var t=new Rh;t.i=e.i,e.g&&(t.g=new sc(e.g),t.h=e.h),$v(this,t),this.o=n.o}else n&&(t=String(n).match(Dp))?(this.g=!!e,Bu(this,t[1]||"",!0),this.s=Oh(t[2]||""),Uu(this,t[3]||"",!0),Tp(this,t[4]),this.l=Oh(t[5]||"",!0),$v(this,t[6]||"",!0),this.o=Oh(t[7]||"")):(this.g=!!e,this.h=new Rh(null,this.g))}function ul(n){return new Mh(n)}function Bu(n,e,t){n.j=t?Oh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Uu(n,e,t){n.i=t?Oh(e,!0):e}function Tp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $v(n,e,t){e instanceof Rh?(n.h=e,function EE(n,e){e&&!n.j&&(dl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(u_(this,i),Kv(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ap(e,OI)),n.h=new Rh(e,n.g))}function Hn(n,e,t){n.h.set(e,t)}function Ip(n){return Hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Oh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ap(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ap(e,Wv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ap(e,Wv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ap(t,"/"==t.charAt(0)?bE:qv,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ap(t,wE)),n.join("")};var Wv=/[#\/\?@]/g,qv=/[#\?:]/g,bE=/[#\?]/g,OI=/[#\?@]/g,wE=/#/g;function Rh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function dl(n){n.g||(n.g=new sc,n.h=0,n.i&&function Gv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var l=n[t].substring(0,i);r=n[t].substring(i+1)}else l=n[t];e(l,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function u_(n,e){dl(n),e=ju(n,e),Ma(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ma((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Hv(n)))}function Zv(n,e){return dl(n),e=ju(n,e),Ma(n.g.h,e)}function Kv(n,e,t){u_(n,e),0<t.length&&(n.i=null,n.g.set(ju(n,e),Ls(t)),n.h+=t.length)}function ju(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Yv(n){this.l=n||DE,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ea&&jt.g.Ea()&&jt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Rh.prototype).add=function(n,e){dl(this),this.i=null,n=ju(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){dl(this),this.g.forEach(function(t,i){Ww(t,function(r){n.call(e,r,i,this)},this)},this)},dt.T=function(){dl(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],l=0;l<r.length;l++)t.push(e[i]);return t},dt.R=function(n){dl(this);var e=[];if("string"==typeof n)Zv(this,n)&&(e=qw(e,this.g.get(ju(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=qw(e,n[t])}return e},dt.set=function(n,e){return dl(this),this.i=null,Zv(this,n=ju(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var l=0;l<i.length;l++){var u=r;""!==i[l]&&(u+="="+encodeURIComponent(String(i[l]))),n.push(u)}}return this.i=n.join("&")};var DE=10;function Qv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function RI(n){return n.h?1:n.g?n.g.size:0}function Jv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Xv(n,e){n.g?n.g.add(e):n.h=e}function eb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function TE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ls(n.i)}function Oi(){}function IE(){this.g=new Oi}function kI(n,e,t){const i=t||"";try{Cp(n,function(r,l){let u=r;fh(r)&&(u=rc(r)),e.push(i+l+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Sp(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(l){}}function xp(n){this.l=n.$b||null,this.j=n.ib||!1}function Mp(n,e){hi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=d_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yv.prototype.cancel=function(){if(this.i=TE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Oi.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},Oi.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},hr(xp,Nv),xp.prototype.g=function(){return new Mp(this.l,this.j)},xp.prototype.i=function(n){return function(){return n}}({}),hr(Mp,hi);var d_=0;function Hu(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Op(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Rp(n)}function Rp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Mp.prototype).open=function(n,e){if(this.readyState!=d_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Rp(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Op(this)),this.readyState=d_},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Rp(this)),this.g&&(this.readyState=3,Rp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==jt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hu(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Op(this):Rp(this),3==this.readyState&&Hu(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,Op(this))},dt.Ta=function(n){this.g&&(this.response=n,Op(this))},dt.ha=function(){this.g&&Op(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Mp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AE=jt.JSON.parse;function Gi(n){hi.call(this),this.headers=new sc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tb,this.K=this.L=!1}hr(Gi,hi);var tb="",LM=/^https?$/i,nb=["POST","PUT"];function Oa(n){return"content-type"==n.toLowerCase()}function SE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rb(n),Es(n)}function rb(n){n.D||(n.D=!0,bi(n,"complete"),bi(n,"error"))}function Yo(n){if(n.h&&void 0!==Ou&&(!n.C[1]||4!=Ra(n)||2!=n.ba()))if(n.v&&4==Ra(n))r_(n.Fa,0,n);else if(bi(n,"readystatechange"),4==Ra(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(Dp)[1]||null;if(!r&&jt.self&&jt.self.location){var l=jt.self.location.protocol;r=l.substr(0,l.length-1)}i=!LM.test(r?r.toLowerCase():"")}t=i}if(t)bi(n,"complete"),bi(n,"success");else{n.m=6;try{var u=2<Ra(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",rb(n)}}finally{Es(n)}}}function Es(n,e){if(n.g){bo(n);const t=n.g,i=n.C[0]?hh:null;n.g=null,n.C=null,e||bi(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function bo(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function Ra(n){return n.g?n.g.readyState:0}function sb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case tb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ob(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function FI(n){let e="";return Iv(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hn(n,e,t))}function kp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xE(n){this.za=0,this.l=[],this.h=new s_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kp("baseRetryDelayMs",5e3,n),this.$a=kp("retryDelaySeedMs",1e4,n),this.Ya=kp("forwardChannelMaxRetries",2,n),this.ra=kp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Yv(n&&n.concurrentRequestLimit),this.Ca=new IE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Pp(n){if(ME(n),3==n.G){var e=n.V++,t=ul(n.F);Hn(t,"SID",n.J),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),ac(n,t),(e=new Ah(n,n.h,e,void 0)).K=2,e.v=Ip(ul(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=hb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Lu(e)}ub(n)}function oc(n){n.g&&(Fp(n),n.g.cancel(),n.g=null)}function ME(n){oc(n),n.u&&(jt.clearTimeout(n.u),n.u=null),kh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function h_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&f_(n)}function f_(n){Qv(n.i)||n.m||(n.m=!0,e_(n.Ha,n),n.C=0)}function ab(n,e){var t;t=e?e.m:n.V++;const i=ul(n.F);Hn(i,"SID",n.J),Hn(i,"RID",t),Hn(i,"AID",n.U),ac(n,i),n.o&&n.s&&ob(i,n.o,n.s),t=new Ah(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=RE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Xv(n.i,t),Bv(t,i,e)}function ac(n,e){n.j&&Cp({},function(t,i){Hn(e,i,t)})}function RE(n,e,t){t=Math.min(n.l.length,t);var i=n.j?dr(n.j.Oa,n.j,n):null;e:{var r=n.l;let l=-1;for(;;){const u=["count="+t];-1==l?0<t?(l=r[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let w=r[_].h;const T=r[_].g;if(w-=l,0>w)l=Math.max(0,r[_].h-100),f=!1;else try{kI(T,u,"req"+w+"_")}catch(M){i&&i(T)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function lb(n){n.g||n.u||(n.Y=1,e_(n.Ga,n),n.A=0)}function p_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=bp(dr(n.Ga,n),m_(n,n.A)),n.A++,0))}function Fp(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function Np(n){n.g=new Ah(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ul(n.oa);Hn(e,"RID","rpc"),Hn(e,"SID",n.J),Hn(e,"CI",n.N?"0":"1"),Hn(e,"AID",n.U),ac(n,e),Hn(e,"TYPE","xmlhttp"),n.o&&n.s&&ob(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ip(ul(e)),t.s=null,t.U=!0,Uv(t,n)}function kh(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function cb(n,e){var t=null;if(n.g==e){kh(n),Fp(n),n.g=null;var i=2}else{if(!Jv(n.i,e))return;t=e.D,eb(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;bi(i=Dh(),new AI(i,t,e,r)),f_(n)}else lb(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function OE(n,e){return!(RI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=bp(dr(n.Ha,n,e),m_(n,n.C)),n.C++,0)))}(n,e)||2==i&&p_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:lc(n,5);break;case 4:lc(n,10);break;case 3:lc(n,6);break;default:lc(n,2)}}function m_(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function lc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=dr(n.jb,n);t||(t=new Mh("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||Bu(t,"https"),Ip(t)),function PI(n,e){const t=new s_;if(jt.Image){const i=new Image;i.onload=ll(Sp,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ll(Sp,t,i,"TestLoadImage: error",!1,e),i.onabort=ll(Sp,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ll(Sp,t,i,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ws(2);n.G=0,n.j&&n.j.va(e),ub(n),ME(n)}function ub(n){n.G=0,n.I=-1,n.j&&((0!=TE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ls(n.l),n.l.length=0),n.j.ua())}function db(n,e,t){let i=function yE(n){return n instanceof Mh?ul(n):new Mh(n,void 0)}(t);if(""!=i.i)e&&Uu(i,e+"."+i.i),Tp(i,i.m);else{const r=jt.location;i=function zv(n,e,t,i){var r=new Mh(null,void 0);return n&&Bu(r,n),e&&Uu(r,e),t&&Tp(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Iv(n.aa,function(r,l){Hn(i,l,r)}),t=n.sa,(e=n.D)&&t&&Hn(i,e,t),Hn(i,"VER",n.ma),ac(n,i),i}function hb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gi(t&&n.Ba&&!n.qa?new xp({ib:!0}):n.qa)).L=n.H,e}function fb(){}function Lp(){if(hp&&!(10<=Number(NM)))throw Error("Environmental error: no available transport.")}function Bs(n,e){hi.call(this),this.g=new xE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!mh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ph(this)}function kE(n){Lv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function PE(){a_.call(this),this.status=1}function Ph(n){this.g=n}(dt=Gi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ih.g(),this.C=function Nu(n){return n.h||(n.h=n.i())}(this.u?this.u:Ih),this.g.onreadystatechange=dr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void SE(this,l)}n=t||"";const r=new sc(this.headers);i&&Cp(i,function(l,u){r.set(u,l)}),i=function mI(n){e:{var e=Oa;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=jt.FormData&&n instanceof jt.FormData,!(0<=zw(nb,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(l,u){this.g.setRequestHeader(u,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bo(this),0<this.B&&((this.K=function ib(n){return hp&&function nE(){return function _I(n){var e=tE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Tv(String(xv)).split("."),t=Tv("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",l=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==r[0].length&&0==l[0].length)break;n=Zg(0==r[1].length?0:parseInt(r[1],10),0==l[1].length?0:parseInt(l[1],10))||Zg(0==r[2].length,0==l[2].length)||Zg(r[2],l[2]),r=r[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.pa,this)):this.A=r_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){SE(this,l)}},dt.pa=function(){void 0!==Ou&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bi(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,bi(this,"complete"),bi(this,"abort"),Es(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Es(this,!0)),Gi.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?Yo(this):this.cb())},dt.cb=function(){Yo(this)},dt.ba=function(){try{return 2<Ra(this)?this.g.status:-1}catch(n){return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),AE(e)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=xE.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Ah(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Yw(l),gI(l,this.P)):l=this.P),null===this.o&&(r.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=RE(this,r,e),Hn(t=ul(this.F),"RID",n),Hn(t,"CVER",22),this.D&&Hn(t,"X-HTTP-Session-Id",this.D),ac(this,t),this.o&&l&&ob(t,this.o,l),Xv(this.i,r),this.Ra&&Hn(t,"TYPE","init"),this.ja?(Hn(t,"$req",e),Hn(t,"SID","null"),r.$=!0,Bv(r,t,null)):Bv(r,t,e),this.G=2}}else 3==this.G&&(n?ab(this,n):0==this.l.length||Qv(this.i)||ab(this))},dt.Ga=function(){if(this.u=null,Np(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=bp(dr(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ws(10),oc(this),Np(this))},dt.ab=function(){null!=this.v&&(this.v=null,oc(this),p_(this),ws(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ws(2)):(this.h.info("Failed to ping google.com"),ws(1))},(dt=fb.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},Lp.prototype.g=function(n,e){return new Bs(n,e)},hr(Bs,hi),Bs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),e_(dr(n.hb,n,e))),ws(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=db(n,null,n.W),f_(n)},Bs.prototype.close=function(){Pp(this.g)},Bs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,h_(this.g,e)}else this.v?((e={}).__data__=rc(n),h_(this.g,e)):h_(this.g,n)},Bs.prototype.M=function(){this.g.j=null,delete this.j,Pp(this.g),delete this.g,Bs.Z.M.call(this)},hr(kE,Lv),hr(PE,a_),hr(Ph,fb),Ph.prototype.xa=function(){bi(this.g,"a")},Ph.prototype.wa=function(n){bi(this.g,new kE(n))},Ph.prototype.va=function(n){bi(this.g,new PE(n))},Ph.prototype.ua=function(){bi(this.g,"b")},Lp.prototype.createWebChannel=Lp.prototype.g,Bs.prototype.send=Bs.prototype.u,Bs.prototype.open=Bs.prototype.m,Bs.prototype.close=Bs.prototype.close,wp.NO_ERROR=0,wp.TIMEOUT=8,wp.HTTP_ERROR=6,SI.COMPLETE="complete",fE.EventType=Th,Th.OPEN="a",Th.CLOSE="b",Th.ERROR="c",Th.MESSAGE="d",hi.prototype.listen=hi.prototype.N,Gi.prototype.listenOnce=Gi.prototype.O,Gi.prototype.getLastError=Gi.prototype.La,Gi.prototype.getLastErrorCode=Gi.prototype.Da,Gi.prototype.getStatus=Gi.prototype.ba,Gi.prototype.getResponseJson=Gi.prototype.Qa,Gi.prototype.getResponseText=Gi.prototype.ga,Gi.prototype.send=Gi.prototype.ea;var NI=xa.createWebChannelTransport=function(){return new Lp},LI=xa.getStatEventTarget=function(){return Dh()},pb=xa.ErrorCode=wp,VI=xa.EventType=SI,BI=xa.Event=Ch,FE=xa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},UI=xa.FetchXmlHttpFactory=xp,g_=xa.WebChannel=fE,jI=xa.XhrIo=Gi;const NE="@firebase/firestore";class Nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");let Fh="9.6.11";const cc=new Ta.Yd("@firebase/firestore");function __(){return cc.logLevel}function ze(n,...e){if(cc.logLevel<=Ta.in.DEBUG){const t=e.map(y_);cc.debug(`Firestore (${Fh}): ${n}`,...t)}}function Ri(n,...e){if(cc.logLevel<=Ta.in.ERROR){const t=e.map(y_);cc.error(`Firestore (${Fh}): ${n}`,...t)}}function Nh(n,...e){if(cc.logLevel<=Ta.in.WARN){const t=e.map(y_);cc.warn(`Firestore (${Fh}): ${n}`,...t)}}function y_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${Fh}) INTERNAL ASSERTION FAILED: `+n;throw Ri(e),new Error(e)}function Pt(n,e){n||mt()}function it(n,e){return n}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends cn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class BE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nr.UNAUTHENTICATED))}shutdown(){}}class VM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mb{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const l=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,Me.Z)(function*(){yield w.promise,yield l(i.currentUser)}))},_=w=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pt("string"==typeof i.accessToken),new BE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new Nr(e)}}class BM{constructor(e,t,i){this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class UE{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new BM(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UM{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=l=>{null!=l.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.p;return this.p=l.token,ze("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const r=l=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>r(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?r(l):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pt("string"==typeof t.token),this.p=t.token,new gb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Us{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function HI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}Us.A=-1;class jE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=HI(40);for(let l=0;l<r.length;++l)i.length<20&&r[l]<t&&(i+=e.charAt(r[l]%e.length))}return i}}function Ht(n,e){return n<e?-1:n>e?1:0}function Vh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Vp(n){return n+"\0"}class li{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return li.fromMillis(Date.now())}static fromDate(e){return li.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new li(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new li(0,0))}static max(){return new ot(new li(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function GI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Bp{constructor(e,t,i){void 0===t?t=0:t>e.length&&mt(),void 0===i?i=e.length-t:i>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Bp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const l=e.get(r),u=t.get(r);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends Bp{construct(e,t,i){return new hn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(we.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const GE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xi extends Bp{construct(e,t,i){return new Xi(e,t,i)}static isValidIdentifier(e){return GE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const l=()=>{if(0===i.length)throw new Ne(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Ne(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ne(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(l(),r++)}if(l(),u)throw new Ne(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xi(t)}static emptyPath(){return new Xi([])}}class Gu{constructor(e){this.fields=e,e.sort(Xi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new er(t)}static fromUint8Array(e){const t=function(i){let r="";for(let l=0;l<i.length;++l)r+=String.fromCharCode(i[l]);return r}(e);return new er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const zI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(n){if(Pt(!!n),"string"==typeof n){let e=0;const t=zI.exec(n);if(Pt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wi(n.seconds),nanos:wi(n.nanos)}}function wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $u(n){return"string"==typeof n?er.fromBase64String(n):er.fromUint8Array(n)}function _b(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Up(n){const e=n.mapValue.fields.__previous_value__;return _b(e)?Up(e):e}function Bh(n){const e=wo(n.mapValue.fields.__local_write_time__.timestampValue);return new li(e.seconds,e.nanos)}class $E{constructor(e,t,i,r,l,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class ka{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}function zu(n){return null==n}function hl(n){return 0===n&&1/n==-1/0}function Uh(n){return"number"==typeof n&&Number.isInteger(n)&&!hl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class et{constructor(e){this.path=e}static fromPath(e){return new et(hn.fromString(e))}static fromName(e){return new et(hn.fromString(e).popFirst(5))}static empty(){return new et(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new hn(e.slice()))}}const zE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},WE={nullValue:"NULL_VALUE"};function dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_b(n)?4:ZE(n)?9:10:mt()}function Qo(n,e){if(n===e)return!0;const t=dc(n);if(t!==dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bh(n).isEqual(Bh(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const l=wo(i.timestampValue),u=wo(r.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,$u(n.bytesValue).isEqual($u(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return wi(i.geoPointValue.latitude)===wi(r.geoPointValue.latitude)&&wi(i.geoPointValue.longitude)===wi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return wi(i.integerValue)===wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const l=wi(i.doubleValue),u=wi(r.doubleValue);return l===u?hl(l)===hl(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Vh(n.arrayValue.values||[],e.arrayValue.values||[],Qo);case 10:return function(i,r){const l=i.mapValue.fields||{},u=r.mapValue.fields||{};if(GI(l)!==GI(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===u[f]||!Qo(l[f],u[f])))return!1;return!0}(n,e);default:return mt()}var r}function jh(n,e){return void 0!==(n.values||[]).find(t=>Qo(t,e))}function hc(n,e){if(n===e)return 0;const t=dc(n),i=dc(e);if(t!==i)return Ht(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(r,l){const u=wi(r.integerValue||r.doubleValue),f=wi(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return yb(n.timestampValue,e.timestampValue);case 4:return yb(Bh(n),Bh(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(r,l){const u=$u(r),f=$u(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,l){const u=r.split("/"),f=l.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=Ht(u[_],f[_]);if(0!==w)return w}return Ht(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,l){const u=Ht(wi(r.latitude),wi(l.latitude));return 0!==u?u:Ht(wi(r.longitude),wi(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,l){const u=r.values||[],f=l.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=hc(u[_],f[_]);if(w)return w}return Ht(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,l){const u=r.fields||{},f=Object.keys(u),_=l.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let T=0;T<f.length&&T<w.length;++T){const M=Ht(f[T],w[T]);if(0!==M)return M;const N=hc(u[f[T]],_[w[T]]);if(0!==N)return N}return Ht(f.length,w.length)}(n.mapValue,e.mapValue);default:throw mt()}}function yb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=wo(n),i=wo(e),r=Ht(t.seconds,i.seconds);return 0!==r?r:Ht(t.nanos,i.nanos)}function Hh(n){return vb(n)}function vb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=wo(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$u(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=vb(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${vb(i.fields[f])}`;return l+"}"}(n.mapValue):mt();var e}function Gh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qE(n){return!!n&&"integerValue"in n}function v_(n){return!!n&&"arrayValue"in n}function WI(n){return!!n&&"nullValue"in n}function bb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wu(n){return!!n&&"mapValue"in n}function jp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return uc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=jp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ZE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function KE(n){return"nullValue"in n?WE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Gh(ka.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function Hp(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Gh(ka.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zE:mt()}function YE(n,e){return void 0===n?e:void 0===e||hc(n,e)>0?n:e}function QE(n,e){return void 0===n?e:void 0===e||hc(n,e)<0?n:e}class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jp(t)}setAll(e){let t=Xi.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=jp(u):r.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,r)}delete(e){const t=this.field(e.popLast());Wu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Wu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){uc(t,(r,l)=>e[r]=l);for(const r of i)delete e[r]}clone(){return new zr(jp(this.value))}}function JE(n){const e=[];return uc(n.fields,(t,i)=>{const r=new Xi([t]);if(Wu(i)){const l=JE(i.mapValue).fields;if(0===l.length)e.push(r);else for(const u of l)e.push(r.child(u))}else e.push(r)}),new Gu(e)}class Jn{constructor(e,t,i,r,l,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Jn(e,0,ot.min(),ot.min(),zr.empty(),0)}static newFoundDocument(e,t,i){return new Jn(e,1,t,ot.min(),i,0)}static newNoDocument(e,t){return new Jn(e,2,t,ot.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new Jn(e,3,t,ot.min(),zr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gp{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function wb(n){return n.fields.find(e=>2===e.kind)}function qu(n){return n.fields.filter(e=>2!==e.kind)}Gp.UNKNOWN_ID=-1;class fl{constructor(e,t){this.fieldPath=e,this.kind=t}}class $p{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $p(0,Pa.min())}}function Eb(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ot.fromTimestamp(1e9===i?new li(t+1,0):new li(t,i));return new Pa(r,et.empty(),e)}function qI(n){return new Pa(n.readTime,n.key,-1)}class Pa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Pa(ot.min(),et.empty(),-1)}static max(){return new Pa(ot.max(),et.empty(),-1)}}function ZI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}class XE{constructor(e,t=null,i=[],r=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=l,this.startAt=u,this.endAt=f,this.P=null}}function eC(n,e=null,t=[],i=[],r=null,l=null,u=null){return new XE(n,e,t,i,r,l,u)}function pl(n){const e=it(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Hh(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),zu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Hh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Hh(i)).join(",")),e.P=t}return e.P}function $h(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!sC(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Qo(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oC(n.startAt,e.startAt)&&oC(n.endAt,e.endAt)}function zp(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function b_(n,e){return n.filters.filter(t=>t instanceof tr&&t.field.isEqual(e))}function tC(n,e,t){let i,r=!0;for(const l of b_(n,e)){let u,f=!0;switch(l.op){case"<":case"<=":u=KE(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,f=!1;break;case"!=":case"not-in":u=WE}YE(i,u)===u&&(i=u,r=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];YE(i,u)===u&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function nC(n,e,t){let i,r=!0;for(const l of b_(n,e)){let u,f=!0;switch(l.op){case">=":case">":u=Hp(l.value),f=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,f=!1;break;case"!=":case"not-in":u=zE}QE(i,u)===u&&(i=u,r=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];QE(i,u)===u&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class tr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new YI(e,t,i):"array-contains"===t?new JI(e,i):"in"===t?new XI(e,i):"not-in"===t?new eA(e,i):"array-contains-any"===t?new tA(e,i):new tr(e,t,i)}static V(e,t,i){return"in"===t?new iC(e,i):new QI(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(hc(t,this.value)):null!==t&&dc(this.value)===dc(t)&&this.v(hc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class YI extends tr{constructor(e,t,i){super(e,t,i),this.key=et.fromName(i.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.v(t)}}class iC extends tr{constructor(e,t){super(e,"in",t),this.keys=rC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QI extends tr{constructor(e,t){super(e,"not-in",t),this.keys=rC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>et.fromName(i.referenceValue))}class JI extends tr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return v_(t)&&jh(t.arrayValue,this.value)}}class XI extends tr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jh(this.value.arrayValue,t)}}class eA extends tr{constructor(e,t){super(e,"not-in",t)}matches(e){if(jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jh(this.value.arrayValue,t)}}class tA extends tr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!v_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>jh(this.value.arrayValue,i))}}class fc{constructor(e,t){this.position=e,this.inclusive=t}}class zh{constructor(e,t="asc"){this.field=e,this.dir=t}}function sC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Cb(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const l=e[r],u=n.position[r];if(i=l.field.isKeyField()?et.comparator(et.fromName(u.referenceValue),t.key):hc(u,t.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function oC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qo(n.position[t],e.position[t]))return!1;return!0}class ml{constructor(e,t=null,i=[],r=[],l=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function Db(n,e,t,i,r,l,u,f){return new ml(n,e,t,i,r,l,u,f)}function Wh(n){return new ml(n)}function w_(n){return!zu(n.limit)&&"F"===n.limitType}function E_(n){return!zu(n.limit)&&"L"===n.limitType}function Wp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function qp(n){for(const e of n.filters)if(e.S())return e.field;return null}function C_(n){return null!==n.collectionGroup}function pc(n){const e=it(n);if(null===e.D){e.D=[];const t=qp(e),i=Wp(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new zh(t)),e.D.push(new zh(Xi.keyField(),"asc"));else{let r=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(r=!0);if(!r){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new zh(Xi.keyField(),l))}}}return e.D}function Eo(n){const e=it(n);if(!e.C)if("F"===e.limitType)e.C=eC(e.path,e.collectionGroup,pc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of pc(e))t.push(new zh(l.field,"desc"===l.dir?"asc":"desc"));const i=e.endAt?new fc(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new fc(e.startAt.position,!e.startAt.inclusive):null;e.C=eC(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function aC(n,e,t){return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zu(n,e){return $h(Eo(n),Eo(e))&&n.limitType===e.limitType}function lC(n){return`${pl(Eo(n))}|lt:${n.limitType}`}function D_(n){return`Query(target=${function KI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Hh(i.value)}`;var i}).join(", ")}]`),zu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Hh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Hh(t)).join(",")),`Target(${e})`}(Eo(n))}; limitType=${n.limitType})`}function Tb(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):et.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,l,u){const f=Cb(r,l,u);return r.inclusive?f<=0:f<0}(t.startAt,pc(t),i)||t.endAt&&!function(r,l,u){const f=Cb(r,l,u);return r.inclusive?f>=0:f>0}(t.endAt,pc(t),i)));var t,i}function Ib(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cC(n){return(e,t)=>{let i=!1;for(const r of pc(n)){const l=uC(r,e,t);if(0!==l)return l;i=i||r.field.isKeyField()}return 0}}function uC(n,e,t){const i=n.field.isKeyField()?et.comparator(e.key,t.key):function(r,l,u){const f=l.data.field(r),_=u.data.field(r);return null!==f&&null!==_?hc(f,_):mt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}function nA(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hl(e)?"-0":e}}function dC(n){return{integerValue:""+n}}function Zp(n,e){return Uh(e)?dC(e):nA(n,e)}class T_{constructor(){this._=void 0}}function qh(n,e,t){return n instanceof Yp?function(i,r){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(l.fields.__previous_value__=r),{mapValue:l}}(t,e):n instanceof mc?fC(n,e):n instanceof Ku?pC(n,e):function(i,r){const l=hC(i,r),u=Ab(l)+Ab(i.k);return qE(l)&&qE(i.k)?dC(u):nA(i.M,u)}(n,e)}function Kp(n,e,t){return n instanceof mc?fC(n,e):n instanceof Ku?pC(n,e):t}function hC(n,e){return n instanceof Zh?qE(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Yp extends T_{}class mc extends T_{constructor(e){super(),this.elements=e}}function fC(n,e){const t=Sb(e);for(const i of n.elements)t.some(r=>Qo(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ku extends T_{constructor(e){super(),this.elements=e}}function pC(n,e){let t=Sb(e);for(const i of n.elements)t=t.filter(r=>!Qo(r,i));return{arrayValue:{values:t}}}class Zh extends T_{constructor(e,t){super(),this.M=e,this.k=t}}function Ab(n){return wi(n.integerValue||n.doubleValue)}function Sb(n){return v_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yu{constructor(e,t){this.field=e,this.transform=t}}class Qp{constructor(e,t){this.version=e,this.transformResults=t}}class $i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Xp{}function iA(n,e,t){n instanceof em?function(i,r,l){const u=i.value.clone(),f=Ob(i.fieldTransforms,r,l.transformResults);u.setAll(f),r.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Qu?function(i,r,l){if(!Jp(i.precondition,r))return void r.convertToUnknownDocument(l.version);const u=Ob(i.fieldTransforms,r,l.transformResults),f=r.data;f.setAll(Ju(i)),f.setAll(u),r.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xb(n,e,t){var r;n instanceof em?function(i,r,l){if(!Jp(i.precondition,r))return;const u=i.value.clone(),f=Xu(i.fieldTransforms,l,r);u.setAll(f),r.convertToFoundDocument(rA(r),u).setHasLocalMutations()}(n,e,t):n instanceof Qu?function(i,r,l){if(!Jp(i.precondition,r))return;const u=Xu(i.fieldTransforms,l,r),f=r.data;f.setAll(Ju(i)),f.setAll(u),r.convertToFoundDocument(rA(r),f).setHasLocalMutations()}(n,e,t):Jp(n.precondition,r=e)&&r.convertToNoDocument(ot.min())}function Mb(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),l=hC(i.transform,r||null);null!=l&&(null==t&&(t=zr.empty()),t.set(i.field,l))}return t||null}function mC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Vh(t,i,(r,l)=>function I_(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof mc&&i instanceof mc||t instanceof Ku&&i instanceof Ku?Vh(t.elements,i.elements,Qo):t instanceof Zh&&i instanceof Zh?Qo(t.k,i.k):t instanceof Yp&&i instanceof Yp);var t,i}(r,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function rA(n){return n.isFoundDocument()?n.version:ot.min()}class em extends Xp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Qu extends Xp{constructor(e,t,i,r,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=l,this.type=1}}function Ju(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ob(n,e,t){const i=new Map;Pt(n.length===t.length);for(let r=0;r<t.length;r++){const l=n[r],u=l.transform,f=e.data.field(l.field);i.set(l.field,Kp(u,f,t[r]))}return i}function Xu(n,e,t){const i=new Map;for(const r of n){const l=r.transform,u=t.data.field(r.field);i.set(r.field,qh(l,u,e))}return i}class A_ extends Xp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class S_ extends Xp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class sA{constructor(e){this.count=e}}var nr,fn;function oA(n){switch(n){default:return mt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function Rb(n){if(void 0===n)return Ri("GRPC error has no .code"),we.UNKNOWN;switch(n){case nr.OK:return we.OK;case nr.CANCELLED:return we.CANCELLED;case nr.UNKNOWN:return we.UNKNOWN;case nr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case nr.INTERNAL:return we.INTERNAL;case nr.UNAVAILABLE:return we.UNAVAILABLE;case nr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case nr.NOT_FOUND:return we.NOT_FOUND;case nr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case nr.ABORTED:return we.ABORTED;case nr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case nr.DATA_LOSS:return we.DATA_LOSS;default:return mt()}}(fn=nr||(nr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class Fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,l]of i)if(this.equalsFn(r,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return void(r[l]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){uc(this.inner,(t,i)=>{for(const[r,l]of i)e(r,l)})}isEmpty(){return HE(this.inner)}size(){return this.innerSize}}class ki{constructor(e,t){this.comparator=e,this.root=t||Lr.EMPTY}insert(e,t){return new ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tm(this.root,e,this.comparator,!0)}}class tm{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&r&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,t,i,r,l){this.key=e,this.value=t,this.color=null!=i?i:Lr.RED,this.left=null!=r?r:Lr.EMPTY,this.right=null!=l?l:Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,l){return new Lr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const l=i(e,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===l?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Lr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Lr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xn{constructor(e){this.comparator=e,this.data=new ki(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gC(this.data.getIterator())}getIteratorFrom(e){return new gC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,l=i.getNext().key;if(0!==this.comparator(r,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xn(this.comparator);return t.data=e,t}}class gC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Kh(n){return n.hasNext()?n.getNext():void 0}const aA=new ki(et.comparator);function Co(){return aA}const lA=new ki(et.comparator);function kb(){return lA}function gl(){return new Fa(n=>n.toString(),(n,e)=>n.isEqual(e))}const _C=new ki(et.comparator),yC=new Xn(et.comparator);function Dn(...n){let e=yC;for(const t of n)e=e.add(t);return e}const vC=new Xn(Ht);function nm(){return vC}class Yh{constructor(e,t,i,r,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,im.createSynthesizedTargetChangeForCurrentChange(e,t)),new Yh(ot.min(),i,nm(),Co(),Dn())}}class im{constructor(e,t,i,r,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new im(er.EMPTY_BYTE_STRING,t,Dn(),Dn(),Dn())}}class rm{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class bC{constructor(e,t){this.targetId=e,this.$=t}}class wC{constructor(e,t,i=er.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class EC{constructor(){this.B=0,this.L=CC(),this.U=er.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Dn(),t=Dn(),i=Dn();return this.L.forEach((r,l)=>{switch(l){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:mt()}}),new im(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=CC()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class cA{constructor(e){this.nt=e,this.st=new Map,this.it=Co(),this.rt=Qh(),this.ot=new Xn(Ht)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const l=r.target;if(zp(l))if(0===i){const u=new et(l.path);this.ct(t,u,Jn.newNoDocument(u,ot.min()))}else Pt(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,u)=>{const f=this.wt(u);if(f){if(l.current&&zp(f.target)){const _=new et(f.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,Jn.newNoDocument(_,e))}l.j&&(t.set(u,l.H()),l.J())}});let i=Dn();this.rt.forEach((l,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.wt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(i=i.add(l))}),this.it.forEach((l,u)=>u.setReadTime(e));const r=new Yh(e,t,this.ot,this.it,i);return this.it=Co(),this.rt=Qh(),this.ot=new Xn(Ht),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new EC,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Xn(Ht),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new EC),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Qh(){return new ki(et.comparator)}function CC(){return new ki(et.comparator)}const Pb={asc:"ASCENDING",desc:"DESCENDING"},Na={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class uA{constructor(e,t){this.databaseId=e,this.N=t}}function gc(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jh(n,e){return n.N?e.toBase64():e.toUint8Array()}function dA(n,e){return gc(n,e.toTimestamp())}function mr(n){return Pt(!!n),ot.fromTimestamp(function(e){const t=wo(e);return new li(t.seconds,t.nanos)}(n))}function Fb(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function sm(n){const e=hn.fromString(n);return Pt(RC(e)),e}function _c(n,e){return Fb(n.databaseId,e.path)}function La(n,e){const t=sm(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(x_(t))}function Nb(n,e){return Fb(n.databaseId,e)}function Lb(n){const e=sm(n);return 4===e.length?hn.emptyPath():x_(e)}function Xh(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function x_(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Vb(n,e,t){return{name:_c(n,e),fields:t.value.mapValue.fields}}function DC(n,e,t){const i=La(n,e.name),r=mr(e.updateTime),l=new zr({mapValue:{fields:e.fields}}),u=Jn.newFoundDocument(i,r,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function ed(n,e){let t;if(e instanceof em)t={update:Vb(n,e.key,e.value)};else if(e instanceof A_)t={delete:_c(n,e.key)};else if(e instanceof Qu)t={update:Vb(n,e.key,e.data),updateMask:OC(e.fieldMask)};else{if(!(e instanceof S_))return mt();t={verify:_c(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,l){const u=l.transform;if(u instanceof Yp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof mc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ku)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Zh)return{fieldPath:l.field.canonicalString(),increment:u.k};throw mt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:dA(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:mt()),t;var r}function om(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?$i.updateTime(mr(r.updateTime)):void 0!==r.exists?$i.exists(r.exists):$i.none():$i.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(l,u){let f=null;"setToServerValue"in u?(Pt("REQUEST_TIME"===u.setToServerValue),f=new Yp):"appendMissingElements"in u?f=new mc(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Ku(u.removeAllFromArray.values||[]):"increment"in u?f=new Zh(l,u.increment):mt();const _=Xi.fromServerFormat(u.fieldPath);return new Yu(_,f)}(n,r)):[];var r;if(e.update){const r=La(n,e.update.name),l=new zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Gu((e.updateMask.fieldPaths||[]).map(w=>Xi.fromServerFormat(w)));return new Qu(r,l,u,t,i)}return new em(r,l,t,i)}if(e.delete){const r=La(n,e.delete);return new A_(r,t)}if(e.verify){const r=La(n,e.verify);return new S_(r,t)}return mt()}function M_(n,e){return{documents:[Nb(n,e.path)]}}function O_(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Nb(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Nb(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(T=>function(M){if("=="===M.op){if(bb(M.value))return{unaryFilter:{field:yc(M.field),op:"IS_NAN"}};if(WI(M.value))return{unaryFilter:{field:yc(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(bb(M.value))return{unaryFilter:{field:yc(M.field),op:"IS_NOT_NAN"}};if(WI(M.value))return{unaryFilter:{field:yc(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(M.field),op:SC(M.op),value:M.value}}}(T));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);r&&(t.structuredQuery.where=r);const l=function(_){if(0!==_.length)return _.map(w=>{return{field:yc((T=w).field),direction:pA(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=(w=e.limit,n.N||zu(w)?w:{value:w});var w,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function IC(n){let e=Lb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Pt(1===i);const T=t.from[0];T.allDescendants?r=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=AC(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new zh(td((M=T).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(T){let M;return M="object"==typeof T?T.value:T,zu(M)?null:M}(t.limit));let _=null;var T;t.startAt&&(_=new fc((T=t.startAt).values||[],!!T.before));let w=null;return t.endAt&&(w=function(T){return new fc(T.values||[],!T.before)}(t.endAt)),Db(e,r,u,l,f,"F",_,w)}function AC(n){return n?void 0!==n.unaryFilter?[MC(n)]:void 0!==n.fieldFilter?[xC(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>AC(e)).reduce((e,t)=>e.concat(t)):mt():[]}function pA(n){return Pb[n]}function SC(n){return Na[n]}function yc(n){return{fieldPath:n.canonicalString()}}function td(n){return Xi.fromServerFormat(n.fieldPath)}function xC(n){return tr.create(td(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}function MC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=td(n.unaryFilter.field);return tr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=td(n.unaryFilter.field);return tr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=td(n.unaryFilter.field);return tr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=td(n.unaryFilter.field);return tr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}function OC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Wr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PC(e)),e=kC(n.get(t),e);return PC(e)}function kC(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const l=n.charAt(r);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function PC(n){return n+"\x01\x01"}function Jo(n){const e=n.length;if(Pt(e>=2),2===e)return Pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,i=[];let r="";for(let l=0;l<e;){const u=n.indexOf("\x01",l);switch((u<0||u>t)&&mt(),n.charAt(u+1)){case"\x01":const f=n.substring(l,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(l,u),r+="\0";break;case"\x11":r+=n.substring(l,u+1);break;default:mt()}l=u+2}return new hn(i)}const Bb=["userId","batchId"];function gr(n,e){return[n,Wr(e)]}function nd(n,e,t){return[n,Wr(e),t]}const mA={},gA=["prefixPath","collectionGroup","readTime","documentId"],HM=["prefixPath","collectionGroup","documentId"],am=["collectionGroup","readTime","prefixPath","documentId"],_A=["canonicalId","targetId"],Ub=["targetId","path"],yA=["path","targetId"],FC=["collectionId","parent"],vA=["indexId","uid"],bA=["uid","sequenceNumber"],jb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NC=["indexId","uid","orderedDocumentKey"],LC=["userId","collectionPath","documentId"],R_=["userId","collectionPath","largestBatchId"],Hb=["userId","collectionGroup","largestBatchId"],wA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],VC=[...wA,"documentOverlays"],BC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],UC=[...BC,"indexConfiguration","indexState","indexEntries"],lm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((i,r)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,r)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,i)=>{t(e)})}static reject(e){return new Te((t,i)=>{i(e)})}static waitFor(e){return new Te((t,i)=>{let r=0,l=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++l,u&&l===r&&t()},_=>i(_))}),u=!0,l===r&&t()})}static or(e){let t=Te.resolve(!1);for(const i of e)t=t.next(r=>r?Te.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,l)=>{i.push(t.call(this,r,l))}),this.waitFor(i)}}class ef{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new pr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new cm(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=k_(i.target.error);this.At.reject(new cm(e,r))}}static open(e,t,i,r){try{return new ef(t,e.transaction(r,i))}catch(l){throw new cm(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jC(t)}}class js{constructor(e,t,i){this.name=e,this.version=t,this.bt=i,12.2===js.Vt((0,cn.z$)())&&Ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),vc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,cn.hl)())return!1;if(js.St())return!0;const e=(0,cn.z$)(),t=js.Vt(e),i=0<t&&t<10,r=js.Dt(e),l=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,Me.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=u=>{i(u.target.result)},l.onblocked=()=>{r(new cm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Ne(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ne(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new cm(e,f))},l.onupgradeneeded=u=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.bt.kt(u.target.result,l.transaction,u.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var l=this;return(0,Me.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.Nt(e);const _=ef.open(l.db,e,u?"readonly":"readwrite",i),w=r(_).next(T=>(_.Pt(),T)).catch(T=>(_.abort(T),Te.reject(T))).toPromise();return w.catch(()=>{}),yield _.Rt,w}catch(_){const w="FirebaseError"!==_.name&&f<3;if(ze("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),l.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GM{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return vc(this.Ft.delete())}}class cm extends Ne{constructor(e,t){super(we.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function id(n){return"IndexedDbTransactionError"===n.name}class jC{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),vc(i)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),vc(this.store.add(e))}get(e){return vc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),vc(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),vc(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),l=[];return this.Kt(r,(u,f)=>{l.push(f)}).next(()=>l)}{const r=this.store.getAll(i.range);return new Te((l,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{l(f.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Te((r,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(l,u,f)=>f.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new Te((i,r)=>{t.onerror=l=>{const u=k_(l.target.error);r(u)},t.onsuccess=l=>{const u=l.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Kt(e,t){const i=[];return new Te((r,l)=>{e.onerror=u=>{l(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new GM(f),w=t(f.primaryKey,f.value,_);if(w instanceof Te){const T=w.catch(M=>(_.done(),Te.reject(M)));i.push(T)}_.isDone?r():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>Te.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vc(n){return new Te((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=k_(i.target.error);t(r)}})}let HC=!1;function k_(n){const e=js.Vt((0,cn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HC||(HC=!0,setTimeout(()=>{throw i},0)),i}}return n}class $b extends Gb{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function _r(n,e){const t=it(n);return js.xt(t.Ht,e)}class zb{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(e.key)&&iA(l,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&xb(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&xb(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(ot.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&Vh(this.mutations,e.mutations,(t,i)=>mC(t,i))&&Vh(this.baseMutations,e.baseMutations,(t,i)=>mC(t,i))}}class P_{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Pt(e.mutations.length===i.length);let r=_C;const l=e.mutations;for(let u=0;u<l.length;u++)r=r.insert(l[u].key,i[u].version);return new P_(e,t,i,r)}}class Wb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _l{constructor(e,t,i,r,l=ot.min(),u=ot.min(),f=er.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new _l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class qb{constructor(e){this.Jt=e}}function Zb(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:F_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:_c(r=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:gc(r,l.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:rd(e.version)};else{if(!e.isUnknownDocument())return mt();i.unknownDocument={path:t.path.toArray(),version:rd(e.version)}}var r,l;return i}function F_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function rd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tf(n){const e=new li(n.seconds,n.nanoseconds);return ot.fromTimestamp(e)}function sd(n,e){const t=(e.baseMutations||[]).map(l=>om(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const u=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(u.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const i=e.mutations.map(l=>om(n.Jt,l)),r=li.fromMillis(e.localWriteTimeMs);return new zb(e.batchId,r,t,i)}function N_(n){const e=tf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?tf(n.lastLimboFreeSnapshotVersion):ot.min();let i;var r;return void 0!==n.query.documents?(Pt(1===(r=n.query).documents.length),i=Eo(Wh(Lb(r.documents[0])))):i=Eo(IC(n.query)),new _l(i,n.targetId,0,n.lastListenSequenceNumber,e,t,er.fromBase64String(n.resumeToken))}function EA(n,e){const t=rd(e.snapshotVersion),i=rd(e.lastLimboFreeSnapshotVersion);let r;r=zp(e.target)?M_(n.Jt,e.target):O_(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pl(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function $C(n){const e=IC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?aC(e,e.limit,"L"):e}function zC(n,e){return new Wb(e.largestBatchId,om(n.Jt,e.overlayMutation))}function CA(n,e){const t=e.path.lastSegment();return[n,Wr(e.path.popLast()),t]}class $M{getBundleMetadata(e,t){return DA(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:tf(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return DA(e).put({bundleId:(i=t).id,createTime:rd(mr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return TA(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:$C(r.bundledQuery),readTime:tf(r.readTime)};var r})}saveNamedQuery(e,t){return TA(e).put({name:(i=t).name,readTime:rd(mr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function DA(n){return _r(n,"bundles")}function TA(n){return _r(n,"namedQueries")}class nf{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new nf(e,t.uid||"")}getOverlay(e,t){return L_(e).get(CA(this.userId,t)).next(i=>i?zC(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((l,u)=>{const f=new Wb(t,u);r.push(this.Xt(e,f))}),Te.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Wr(u.getCollectionPath())));const l=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(L_(e).Qt("collectionPathOverlayIndex",f))}),Te.waitFor(l)}getOverlaysForCollection(e,t,i){const r=gl(),l=Wr(t),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return L_(e).qt("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=zC(this.M,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const l=gl();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return L_(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,w,T)=>{const M=zC(this.M,w);l.size()<r||M.largestBatchId===u?(l.set(M.getKey(),M),u=M.largestBatchId):T.done()}).next(()=>l)}Xt(e,t){return L_(e).put(function(i,r,l){const[u,f,_]=CA(r,l.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:ed(i.Jt,l.mutation)}}(this.M,this.userId,t))}}function L_(n){return _r(n,"documentOverlays")}class bc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(wi(e.integerValue));else if("doubleValue"in e){const i=wi(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),hl(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue($u(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?ZE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):mt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),et.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Kb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Yb(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const l=Kb(255&t[r]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(e/8)}bc.fe=new bc;class WC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=Yb(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=Yb(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,r,!1),new Uint8Array(l.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class zM{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Qb{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class rf{constructor(){this.De=new WC,this.Ce=new zM(this.De),this.xe=new Qb(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class yl{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new yl(this.indexId,this.documentKey,this.arrayValue,i)}}function wc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=IA(n.arrayValue,e.arrayValue),0!==t?t:(t=IA(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function IA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class qC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=wb(e);if(void 0!==t&&!this.Be(t))return!1;const i=qu(e);let r=0,l=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[l++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(l>=this.Me.length||!this.Ue(this.Me[l++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class AA{constructor(){this.qe=new um}addToCollectionParentIndex(e,t){return this.qe.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getFieldIndex(e,t){return Te.resolve(null)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}updateCollectionGroup(e,t,i){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class um{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Xn(hn.comparator),l=!r.has(i);return this.index[t]=r.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xn(hn.comparator)).toArray()}}const sf=new Uint8Array(0);class WM{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new um,this.Ge=new Fa(i=>pl(i),(i,r)=>$h(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:i,parent:Wr(r)};return SA(e).put(l)}return Te.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Vp(t),""],!1,!0);return SA(e).qt(r).next(l=>{for(const u of l){if(u.collectionId!==t)break;i.push(Jo(u.parent))}return i})}addFieldIndex(e,t){const i=B_(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var l;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=B_(e),r=U_(e),l=V_(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=V_(e);let r=!0;const l=new Map;return Te.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(f=>{r&&(r=!!f),l.set(u,f)})).next(()=>{if(r){let u=Dn();const f=[];return Te.forEach(l,(_,w)=>{var T;ze("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(ut=>`${ut.fieldPath}:${ut.kind}`).join(",")}`} to execute ${pl(t)}`);const M=function(ut,gt){const Kt=wb(gt);if(void 0===Kt)return null;for(const rn of b_(ut,Kt.fieldPath))switch(rn.op){case"array-contains-any":return rn.value.arrayValue.values||[];case"array-contains":return[rn.value]}return null}(w,_),N=function(ut,gt){const Kt=new Map;for(const rn of qu(gt))for(const Sn of b_(ut,rn.fieldPath))switch(Sn.op){case"==":case"in":Kt.set(rn.fieldPath.canonicalString(),Sn.value);break;case"not-in":case"!=":return Kt.set(rn.fieldPath.canonicalString(),Sn.value),Array.from(Kt.values())}return null}(w,_),H=function(ut,gt){const Kt=[];let rn=!0;for(const Sn of qu(gt)){const as=0===Sn.kind?tC(ut,Sn.fieldPath,ut.startAt):nC(ut,Sn.fieldPath,ut.startAt);if(!as.value)return null;Kt.push(as.value),rn&&(rn=as.inclusive)}return new fc(Kt,rn)}(w,_),Z=function(ut,gt){const Kt=[];let rn=!0;for(const Sn of qu(gt)){const as=0===Sn.kind?nC(ut,Sn.fieldPath,ut.endAt):tC(ut,Sn.fieldPath,ut.endAt);if(!as.value)return null;Kt.push(as.value),rn&&(rn=as.inclusive)}return new fc(Kt,rn)}(w,_),ce=this.je(_,w,H),Ve=this.je(_,w,Z),Ze=this.We(_,w,N),st=this.ze(_.indexId,M,ce,!!H&&H.inclusive,Ve,!!Z&&Z.inclusive,Ze);return Te.forEach(st,ut=>i.Gt(ut,t.limit).next(gt=>{gt.forEach(Kt=>{const rn=et.fromSegments(Kt.documentKey);u.has(rn)||(u=u.add(rn),f.push(rn))})}))}).next(()=>f)}return Te.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,i,r,l,u,f){const _=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=l?l.length:1),w=_/(null!=t?t.length:1),T=[];for(let M=0;M<_;++M){const N=t?this.He(t[M/w]):sf,H=i?this.Je(e,N,i[M%w],r):this.Ye(e),Z=l?this.Xe(e,N,l[M%w],u):this.Ye(e+1);T.push(...this.createRange(H,Z,f.map(ce=>this.Je(e,N,ce,!0))))}return T}Je(e,t,i,r){const l=new yl(e,et.empty(),t,i);return r?l:l.ke()}Xe(e,t,i,r){const l=new yl(e,et.empty(),t,i);return r?l.ke():l}Ye(e){return new yl(e,et.empty(),sf,sf)}getFieldIndex(e,t){const i=new qC(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(l=>{const u=l.filter(f=>i.$e(f));return u.sort((f,_)=>_.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(e,t){const i=new rf;for(const r of qu(e)){const l=t.data.field(r.fieldPath);if(null==l)return null;const u=i.Ne(r.kind);bc.fe.Zt(l,u)}return i.Se()}He(e){const t=new rf;return bc.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new rf;return bc.fe.Zt(Gh(this.databaseId,t),i.Ne(function(r){const l=qu(r);return 0===l.length?0:l[l.length-1].kind}(e))),i.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new rf);let l=0;for(const u of qu(e)){const f=i[l++];for(const _ of r)if(this.en(t,u.fieldPath)&&v_(f))r=this.nn(r,u,f);else{const w=_.Ne(u.kind);bc.fe.Zt(f,w)}}return this.sn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],l=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new rf;_.seed(f.Se()),bc.fe.Zt(u,_.Ne(t.kind)),l.push(_)}return l}en(e,t){return!!e.filters.find(i=>i instanceof tr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=B_(e),r=U_(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(l=>{const u=[];return Te.forEach(l,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(w,T){const M=T?new $p(T.sequenceNumber,new Pa(tf(T.readTime),new et(Jo(T.documentKey)),T.largestBatchId)):$p.empty(),N=w.fields.map(([H,Z])=>new fl(Xi.fromServerFormat(H),Z));return new Gp(w.indexId,w.collectionGroup,N,M)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const l=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==l?l:Ht(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=B_(e),l=U_(e);return this.rn(e).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>Te.forEach(f,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:rd((N=i).readTime),documentKey:Wr(N.documentKey.path),largestBatchId:N.largestBatchId});var N})))}updateIndexEntries(e,t){const i=new Map;return Te.forEach(t,(r,l)=>{const u=i.get(r.collectionGroup);return(u?Te.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),Te.forEach(f,_=>this.on(e,r,_).next(w=>{const T=this.un(l,_);return w.isEqual(T)?Te.resolve():this.an(e,l,_,w,T)}))))})}cn(e,t,i,r){return V_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return V_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=V_(e);let l=new Xn(wc);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(u,f)=>{l=l.add(new yl(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}un(e,t){let i=new Xn(wc);const r=this.Ze(t,e);if(null==r)return i;const l=wb(t);if(null!=l){const u=e.data.field(l.fieldPath);if(v_(u))for(const f of u.arrayValue.values||[])i=i.add(new yl(t.indexId,e.key,this.He(f),r))}else i=i.add(new yl(t.indexId,e.key,sf,r));return i}an(e,t,i,r,l){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,w,T,M){const N=f.getIterator(),H=_.getIterator();let Z=Kh(N),ce=Kh(H);for(;Z||ce;){let Ve=!1,Ze=!1;if(Z&&ce){const st=w(Z,ce);st<0?Ze=!0:st>0&&(Ve=!0)}else null!=Z?Ze=!0:Ve=!0;Ve?(T(ce),ce=Kh(H)):Ze?(M(Z),Z=Kh(N)):(Z=Kh(N),ce=Kh(H))}}(r,l,wc,f=>{u.push(this.cn(e,t,i,f))},f=>{u.push(this.hn(e,t,i,f))}),Te.waitFor(u)}rn(e){let t=1;return U_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,l)=>{l.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>wc(u,f)).filter((u,f,_)=>!f||0!==wc(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=wc(u,e),_=wc(u,t);if(0===f)r[0]=e.ke();else if(f>0&&_<0)r.push(u),r.push(u.ke());else if(_>0)break}r.push(t);const l=[];for(let u=0;u<r.length;u+=2)l.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,sf,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,sf,[]]));return l}}function SA(n){return _r(n,"collectionParents")}function V_(n){return _r(n,"indexEntries")}function B_(n){return _r(n,"indexConfiguration")}function U_(n){return _r(n,"indexState")}const ZC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Hs(e,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function KC(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),l=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Wt({range:u},(T,M,N)=>(f++,N.delete()));l.push(_.next(()=>{Pt(1===f)}));const w=[];for(const T of t.mutations){const M=nd(e,T.key.path,t.batchId);l.push(r.delete(M)),w.push(T.key)}return Te.waitFor(l).next(()=>w)}function af(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}Hs.DEFAULT_COLLECTION_PERCENTILE=10,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hs.DEFAULT=new Hs(41943040,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hs.DISABLED=new Hs(-1,0,0);class Jb{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){Pt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Jb(l,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ec(e).Wt({index:"userMutationsIndex",range:i},(r,l,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const l=Cc(e),u=Ec(e);return u.add({}).next(f=>{Pt("number"==typeof f);const _=new zb(f,t,i,r),w=function(N,H,Z){const ce=Z.baseMutations.map(Ze=>ed(N.Jt,Ze)),Ve=Z.mutations.map(Ze=>ed(N.Jt,Ze));return{userId:H,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:ce,mutations:Ve}}(this.M,this.userId,_),T=[];let M=new Xn((N,H)=>Ht(N.canonicalString(),H.canonicalString()));for(const N of r){const H=nd(this.userId,N.key.path,f);M=M.add(N.key.path.popLast()),T.push(u.put(w)),T.push(l.put(H,mA))}return M.forEach(N=>{T.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),Te.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return Ec(e).get(t).next(i=>i?(Pt(i.userId===this.userId),sd(this.M,i)):null)}fn(e,t){return this.ln[t]?Te.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Ec(e).Wt({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(Pt(f.batchId>=i),l=sd(this.M,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ec(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,l,u)=>{i=l.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ec(e).qt("userMutationsIndex",t).next(i=>i.map(r=>sd(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=gr(this.userId,t.path),r=IDBKeyRange.lowerBound(i),l=[];return Cc(e).Wt({range:r},(u,f,_)=>{const[w,T,M]=u,N=Jo(T);if(w===this.userId&&t.path.isEqual(N))return Ec(e).get(M).next(H=>{if(!H)throw mt();Pt(H.userId===this.userId),l.push(sd(this.M,H))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xn(Ht);const r=[];return t.forEach(l=>{const u=gr(this.userId,l.path),f=IDBKeyRange.lowerBound(u),_=Cc(e).Wt({range:f},(w,T,M)=>{const[N,H,Z]=w,ce=Jo(H);N===this.userId&&l.path.isEqual(ce)?i=i.add(Z):M.done()});r.push(_)}),Te.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,l=gr(this.userId,i),u=IDBKeyRange.lowerBound(l);let f=new Xn(Ht);return Cc(e).Wt({range:u},(_,w,T)=>{const[M,N,H]=_,Z=Jo(N);M===this.userId&&i.isPrefixOf(Z)?Z.length===r&&(f=f.add(H)):T.done()}).next(()=>this.dn(e,f))}dn(e,t){const i=[],r=[];return t.forEach(l=>{r.push(Ec(e).get(l).next(u=>{if(null===u)throw mt();Pt(u.userId===this.userId),i.push(sd(this.M,u))}))}),Te.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return KC(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Te.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Te.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Cc(e).Wt({range:i},(l,u,f)=>{if(l[0]===this.userId){const _=Jo(l[1]);r.push(_)}else f.done()}).next(()=>{Pt(0===r.length)})})}containsKey(e,t){return Do(e,this.userId,t)}wn(e){return YC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Do(n,e,t){const i=gr(e,t.path),r=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return Cc(n).Wt({range:l,jt:!0},(f,_,w)=>{const[T,M,N]=f;T===e&&M===r&&(u=!0),w.done()}).next(()=>u)}function Ec(n){return _r(n,"mutations")}function Cc(n){return _r(n,"documentMutations")}function YC(n){return _r(n,"mutationQueues")}class od{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new od(0)}static yn(){return new od(-1)}}class Xb{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new od(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>ot.fromTimestamp(new li(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ad(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(Pt(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const l=[];return ad(e).Wt((u,f)=>{const _=N_(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,l.push(this.removeTargetData(e,_)))}).next(()=>Te.waitFor(l)).next(()=>r)}forEachTarget(e,t){return ad(e).Wt((i,r)=>{const l=N_(r);t(l)})}pn(e){return e0(e).get("targetGlobalKey").next(t=>(Pt(null!==t),t))}In(e,t){return e0(e).put("targetGlobalKey",t)}Tn(e,t){return ad(e).put(EA(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=pl(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return ad(e).Wt({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const w=N_(f);$h(t,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(e,t,i){const r=[],l=Dc(e);return t.forEach(u=>{const f=Wr(u.path);r.push(l.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),Te.waitFor(r)}removeMatchingKeys(e,t,i){const r=Dc(e);return Te.forEach(t,l=>{const u=Wr(l.path);return Te.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,l)])})}removeMatchingKeysForTargetId(e,t){const i=Dc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Dc(e);let l=Dn();return r.Wt({range:i,jt:!0},(u,f,_)=>{const w=Jo(u[1]),T=new et(w);l=l.add(T)}).next(()=>l)}containsKey(e,t){const i=Wr(t.path),r=IDBKeyRange.bound([i],[Vp(i)],!1,!0);let l=0;return Dc(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,f],_,w)=>{0!==u&&(l++,w.done())}).next(()=>l>0)}Et(e,t){return ad(e).get(t).next(i=>i?N_(i):null)}}function ad(n){return _r(n,"targets")}function e0(n){return _r(n,"targetGlobal")}function Dc(n){return _r(n,"targetDocuments")}function Tc(n){return j_.apply(this,arguments)}function j_(){return j_=(0,Me.Z)(function*(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==lm)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),j_.apply(this,arguments)}function QC([n,e],[t,i]){const r=Ht(n,t);return 0===r?Ht(e,i):r}class xA{constructor(e){this.An=e,this.buffer=new Xn(QC),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();QC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class t0{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;ze("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Me.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){id(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Tc(r)}yield t.Sn(e)}))}}class Xo{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Te.resolve(Us.A);const i=new xA(t);return this.Dn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(ZC)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZC):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,l,u,f,_,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,f=Date.now(),this.removeTargets(e,i,t))).next(M=>(l=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(w=Date.now(),__()<=Ta.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(w-_)+`ms\nTotal Duration: ${w-T}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:M})))}}class MA{constructor(e,t){this.db=e,this.garbageCollector=new Xo(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return n0(e,i)}removeReference(e,t,i){return n0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return n0(e,t)}On(e,t){return function(i,r){let l=!1;return YC(i).zt(u=>Do(i,u,r).next(f=>(f&&(l=!0),Te.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let l=0;return this.Mn(e,(u,f)=>{if(f<=t){const _=this.On(e,u).next(w=>{if(!w)return l++,i.getEntry(e,u).next(()=>(i.removeEntry(u,ot.min()),Dc(e).delete([0,Wr(u.path)])))});r.push(_)}}).next(()=>Te.waitFor(r)).next(()=>i.apply(e)).next(()=>l)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return n0(e,t)}Mn(e,t){const i=Dc(e);let r,l=Us.A;return i.Wt({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(l!==Us.A&&t(new et(Jo(r)),l),l=w,r=_):l=Us.A}).next(()=>{l!==Us.A&&t(new et(Jo(r)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function n0(n,e){return Dc(n).put((i=n.currentSequenceNumber,{targetId:0,path:Wr(e.path),sequenceNumber:i}));var i}class JC{constructor(){this.changes=new Fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XC{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ic(e).put(i)}removeEntry(e,t,i){return Ic(e).delete(function(r,l){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],F_(l),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=Jn.newInvalidDocument(t);return Ic(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(dm(t))},(r,l)=>{i=this.$n(t,l)}).next(()=>i)}Bn(e,t){let i={size:0,document:Jn.newInvalidDocument(t)};return Ic(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(dm(t))},(r,l)=>{i={document:this.$n(t,l),size:af(l)}}).next(()=>i)}getEntries(e,t){let i=Co();return this.Ln(e,t,(r,l)=>{const u=this.$n(r,l);i=i.insert(r,u)}).next(()=>i)}Un(e,t){let i=Co(),r=new ki(et.comparator);return this.Ln(e,t,(l,u)=>{const f=this.$n(l,u);i=i.insert(l,f),r=r.insert(l,af(u))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return Te.resolve();let r=new Xn(r0);t.forEach(_=>r=r.add(_));const l=IDBKeyRange.bound(dm(r.first()),dm(r.last())),u=r.getIterator();let f=u.getNext();return Ic(e).Wt({index:"documentKeyIndex",range:l},(_,w,T)=>{const M=et.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&r0(f,M)<0;)i(f,null),f=u.getNext();f&&f.isEqual(M)&&(i(f,w),f=u.hasNext()?u.getNext():null),f?T.Ut(dm(f)):T.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),F_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ic(e).qt(IDBKeyRange.bound(r,l,!0)).next(u=>{let f=Co();for(const _ of u){const w=this.$n(et.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,i,r){let l=Co();const u=RA(t,i),f=RA(t,Pa.max());return Ic(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,T)=>{const M=this.$n(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(M.key,M),l.size===r&&T.done()}).next(()=>l)}newChangeBuffer(e){return new OA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return eD(e).get("remoteDocumentGlobalKey").next(t=>(Pt(!!t),t))}Fn(e,t){return eD(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function GC(n,e){let t;if(e.document)t=DC(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=et.fromSegments(e.noDocument.path),r=tf(e.noDocument.readTime);t=Jn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const i=et.fromSegments(e.unknownDocument.path),r=tf(e.unknownDocument.version);t=Jn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new li(i[0],i[1]);return ot.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(ot.min()))return i}return Jn.newInvalidDocument(e)}}class OA extends JC{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Fa(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Xn((l,u)=>Ht(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const f=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,f.readTime)),u.isValidDocument()){const _=Zb(this.Kn.M,u);r=r.add(l.path.popLast()),i+=af(_)-f.size,t.push(this.Kn.addEntry(e,l,_))}else if(i-=f.size,this.trackRemovals){const _=Zb(this.Kn.M,u.convertToNoDocument(ot.min()));t.push(this.Kn.addEntry(e,l,_))}}),r.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,i)),Te.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((l,u)=>{this.Gn.set(l,{size:u,readTime:i.get(l).readTime})}),i))}}function eD(n){return _r(n,"remoteDocumentGlobal")}function Ic(n){return _r(n,"remoteDocumentsV14")}function dm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function RA(n,e){const t=e.documentKey.path.toArray();return[n,F_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function r0(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(r=Ht(t[l],i[l]),r)return r;return r=Ht(t.length,i.length),r||(r=Ht(t[t.length-2],i[i.length-2]),r||Ht(t[t.length-1],i[i.length-1]))}class tD{constructor(e){this.M=e}kt(e,t,i,r){const l=new ef("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bb,{unique:!0}),f.createObjectStore("documentMutations"),nD(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=Te.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),nD(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ot.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(l))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").qt().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bb,{unique:!0});const T=_.store("mutations"),M=w.map(N=>T.put(N));return Te.waitFor(M)})}(e,l))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Qn(l))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),i<7&&r>=7&&(u=u.next(()=>this.Wn(l))),i<8&&r>=8&&(u=u.next(()=>this.zn(e,l))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Hn(l))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:LC});_.createIndex("collectionPathOverlayIndex",R_,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Hb,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:gA});_.createIndex("documentKeyIndex",HM),_.createIndex("collectionGroupIndex",am)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:vA}).createIndex("sequenceNumberIndex",bA,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:jb}).createIndex("documentKeyIndex",NC,{unique:!1})}(e)})),u}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=af(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>Te.forEach(r,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(f=>Te.forEach(f,_=>{Pt(_.userId===l.userId);const w=sd(this.M,_);return KC(e,l.userId,w).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const l=[];return i.Wt((u,f)=>{const _=new hn(u),w=[0,Wr(_)];l.push(t.get(w).next(T=>T?Te.resolve():t.put({targetId:0,path:Wr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Te.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:FC});const i=t.store("collectionParents"),r=new um,l=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Wr(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const _=new hn(u);return l(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,f,_],w)=>{const T=Jo(f);return l(T.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const l=N_(r),u=EA(this.M,l);return t.put(u)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((l,u)=>{const f=t.store("remoteDocumentsV14"),_=(w=u,w.document?new et(hn.fromString(w.document.name).popFirst(5)):w.noDocument?et.fromSegments(w.noDocument.path):w.unknownDocument?et.fromSegments(w.unknownDocument.path):mt()).path.toArray();var w;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(T))}).next(()=>Te.waitFor(r))}}function nD(n){n.createObjectStore("targetDocuments",{keyPath:Ub}).createIndex("documentTargetsIndex",yA,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_A,{unique:!0}),n.createObjectStore("targetGlobal")}const s0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class H_{constructor(e,t,i,r,l,u,f,_,w,T,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=l,this.window=u,this.document=f,this.Xn=w,this.Zn=T,this.ts=M,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=N=>Promise.resolve(),!H_.vt())throw new Ne(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MA(this,r),this.hs=t+"main",this.M=new qb(_),this.ls=new js(this.hs,this.ts,new tD(this.M)),this.fs=new Xb(this.referenceDelegate,this.M),this.ds=new XC(this.M),this._s=new $M,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&Ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(we.FAILED_PRECONDITION,s0);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Us(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,Me.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Me.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Me.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(id(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return ld(e).get("owner").next(t=>Te.resolve(this.bs(t)))}Vs(e){return lf(e).delete(this.clientId)}vs(){var e=this;return(0,Me.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=_r(i,"clientMetadata");return r.qt().next(l=>{const u=e.Ds(l,18e5),f=l.filter(_=>-1===u.indexOf(_));return Te.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Te.resolve(!0):ld(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ne(we.FAILED_PRECONDITION,s0);return!1}}return!(!this.networkEnabled||!this.inForeground)||lf(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Me.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new $b(t,Us.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>lf(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Jb.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new WM(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return nf.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){ze("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",l=14===(u=this.ts)?UC:13===u?BC:12===u?VC:11===u?wA:void mt();var u;let f;return this.ls.runTransaction(e,r,l,_=>(f=new $b(_,this.es?this.es.next():Us.A),"readwrite-primary"===t?this.Es(f).next(w=>!!w||this.As(f)).next(w=>{if(!w)throw Ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ne(we.FAILED_PRECONDITION,lm);return i(f)}).next(w=>this.Ps(f).next(()=>w)):this.$s(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(e){return ld(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(we.FAILED_PRECONDITION,s0)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ld(e).put("owner",t)}static vt(){return js.vt()}Rs(e){const t=ld(e);return t.get("owner").next(i=>this.bs(i)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Te.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ri(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,cn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return ze("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ri("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Ri("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ld(n){return _r(n,"owner")}function lf(n){return _r(n,"clientMetadata")}function G_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class kA{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const l of i)l.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const l of t)l.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return et.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):C_(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new et(t)).next(i=>{let r=kb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let l=kb();return this.indexManager.getCollectionParents(e,r).next(u=>Te.forEach(u,f=>{const _=(w=t,T=f.child(r),new ml(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.zs(e,_,i).next(w=>{w.forEach((T,M)=>{l=l.insert(T,M)})})}).next(()=>l))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(l=>(r=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const u of l)for(const f of u.mutations){const _=f.key;let w=r.get(_);null==w&&(w=Jn.newInvalidDocument(_),r=r.insert(_,w)),xb(f,w,u.localWriteTime),w.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((l,u)=>{Tb(t,u)||(r=r.remove(l))}),r))}}class $_{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=Dn(),r=Dn();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new $_(e,t.fromCache,i,r)}}class o0{Xs(e){this.Zs=e}Qs(e,t,i,r){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||i.isEqual(ot.min())?this.ti(e,t):this.Zs.Ks(e,r).next(l=>{const u=this.ei(t,l);return(w_(t)||E_(t))&&this.ni(t.limitType,u,r,i)?this.ti(e,t):(__()<=Ta.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),D_(t)),this.Zs.Qs(e,t,Eb(i,-1)).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var l}ei(e,t){let i=new Xn(cC(e));return t.forEach((r,l)=>{Tb(e,l)&&(i=i.add(l))}),i}ni(e,t,i,r){if(i.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}ti(e,t){return __()<=Ta.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",D_(t)),this.Zs.Qs(e,t,Pa.min())}}class PA{constructor(e,t,i,r){this.persistence=e,this.si=t,this.M=r,this.ii=new ki(Ht),this.ri=new Fa(l=>pl(l),$h),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(i)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new kA(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function iD(n,e,t,i){return new PA(n,e,t,i)}function FA(n,e){return rD.apply(this,arguments)}function rD(){return rD=(0,Me.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(l=>(r=l,t.ai(e),t.Bs.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let _=Dn();for(const w of r){u.push(w.batchId);for(const T of w.mutations)_=_.add(T.key)}for(const w of l){f.push(w.batchId);for(const T of w.mutations)_=_.add(T.key)}return t.ci.Ks(i,_).next(w=>({hi:w,removedBatchIds:u,addedBatchIds:f}))})})}),rD.apply(this,arguments)}function sD(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),l=t.ui.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const T=_.batch,M=T.keys();let N=Te.resolve();return M.forEach(H=>{N=N.next(()=>w.getEntry(f,H)).next(Z=>{const ce=_.docVersions.get(H);Pt(null!==ce),Z.version.compareTo(ce)<0&&(T.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),w.addEntry(Z)))})}),N.next(()=>u.Bs.removeMutationBatch(f,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.ci.Ks(i,r))})}function oD(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function NA(n,e){const t=it(n),i=e.snapshotVersion;let r=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.ui.newChangeBuffer({trackRemovals:!0});r=t.ii;const f=[];e.targetChanges.forEach((w,T)=>{const M=r.get(T);if(!M)return;f.push(t.fs.removeMatchingKeys(l,w.removedDocuments,T).next(()=>t.fs.addMatchingKeys(l,w.addedDocuments,T)));let N=M.withSequenceNumber(l.currentSequenceNumber);var H,Z,ce;e.targetMismatches.has(T)?N=N.withResumeToken(er.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,i)),r=r.insert(T,N),Z=N,ce=w,(0===(H=M).resumeToken.approximateByteSize()||Z.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(l,N))});let _=Co();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(aD(l,u,e.documentUpdates).next(w=>{_=w})),!i.isEqual(ot.min())){const w=t.fs.getLastRemoteSnapshotVersion(l).next(T=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(w)}return Te.waitFor(f).next(()=>u.apply(l)).next(()=>t.ci.Gs(l,_)).next(()=>_)}).then(l=>(t.ii=r,l))}function aD(n,e,t){let i=Dn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let l=Co();return t.forEach((u,f)=>{const _=r.get(u);f.isNoDocument()&&f.version.isEqual(ot.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):ze("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",f.version)}),l})}function qM(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function hm(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(l=>l?(r=l,Te.resolve(r)):t.fs.allocateTargetId(i).next(u=>(r=new _l(e,u,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ii.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ii=t.ii.insert(i.targetId,i),t.ri.set(e,i.targetId)),i})}function fm(n,e,t){return lD.apply(this,arguments)}function lD(){return lD=(0,Me.Z)(function*(n,e,t){const i=it(n),r=i.ii.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!id(u))throw u;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.ii=i.ii.remove(e),i.ri.delete(r.target)}),lD.apply(this,arguments)}function a0(n,e,t){const i=it(n);let r=ot.min(),l=Dn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const T=it(f),M=T.ri.get(w);return void 0!==M?Te.resolve(T.ii.get(M)):T.fs.getTargetData(_,w)}(i,u,Eo(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{l=_})}).next(()=>i.si.Qs(u,e,t?r:ot.min(),t?l:Dn())).next(f=>(uD(i,Ib(e),f),{documents:f,li:l})))}function cD(n,e){const t=it(n),i=it(t.fs),r=t.ii.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",l=>i.Et(l,e).next(u=>u?u.target:null))}function pm(n,e){const t=it(n),i=t.oi.get(e)||ot.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ui.getAllFromCollectionGroup(r,e,Eb(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(uD(t,e,r),r))}function uD(n,e,t){let i=ot.min();t.forEach((r,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.oi.set(e,i)}function z_(){return z_=(0,Me.Z)(function*(n,e,t,i){const r=it(n);let l=Dn(),u=Co();for(const w of t){const T=e.fi(w.metadata.name);w.document&&(l=l.add(T));const M=e.di(w);M.setReadTime(e._i(w.metadata.readTime)),u=u.insert(T,M)}const f=r.ui.newChangeBuffer({trackRemovals:!0}),_=yield hm(r,(w=i,Eo(Wh(hn.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>aD(w,f,u).next(T=>(f.apply(w),T)).next(T=>r.fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.fs.addMatchingKeys(w,l,_.targetId)).next(()=>r.ci.Gs(w,T)).next(()=>T)))}),z_.apply(this,arguments)}function cd(n,e){return W_.apply(this,arguments)}function W_(){return W_=(0,Me.Z)(function*(n,e,t=Dn()){const i=yield hm(n,Eo($C(e.bundledQuery))),r=it(n);return r.persistence.runTransaction("Save named query","readwrite",l=>{const u=mr(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r._s.saveNamedQuery(l,e);const f=i.withResumeToken(er.EMPTY_BYTE_STRING,u);return r.ii=r.ii.insert(f.targetId,f),r.fs.updateTargetData(l,f).next(()=>r.fs.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>r.fs.addMatchingKeys(l,t,i.targetId)).next(()=>r._s.saveNamedQuery(l,e))})}),W_.apply(this,arguments)}class l0{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Te.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var i;return this.wi.set(t.id,{id:(i=t).id,version:i.version,createTime:mr(i.createTime)}),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(i=t).name,query:$C(i.bundledQuery),readTime:mr(i.readTime)}),Te.resolve();var i}}class c0{constructor(){this.overlays=new ki(et.comparator),this.gi=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,l)=>{this.Xt(e,t,l)}),Te.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.gi.get(i);return void 0!==r&&(r.forEach(l=>this.overlays=this.overlays.remove(l)),this.gi.delete(i)),Te.resolve()}getOverlaysForCollection(e,t,i){const r=gl(),l=t.length+1,u=new et(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&_.largestBatchId>i&&r.set(_.getKey(),_)}return Te.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let l=new ki((w,T)=>w-T);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let T=l.get(w.largestBatchId);null===T&&(T=gl(),l=l.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const f=gl(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,T)=>f.set(w,T)),!(f.size()>=r)););return Te.resolve(f)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.gi.get(r.largestBatchId).delete(i.key);this.gi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Wb(t,i));let l=this.gi.get(t);void 0===l&&(l=Dn(),this.gi.set(t,l)),this.gi.set(t,l.add(i.key))}}class u0{constructor(){this.yi=new Xn(zi.pi),this.Ii=new Xn(zi.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const i=new zi(e,t);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ai(new zi(e,t))}Ri(e,t){e.forEach(i=>this.removeReference(i,t))}Pi(e){const t=new et(new hn([])),i=new zi(t,e),r=new zi(t,e+1),l=[];return this.Ii.forEachInRange([i,r],u=>{this.Ai(u),l.push(u.key)}),l}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new et(new hn([])),i=new zi(t,e),r=new zi(t,e+1);let l=Dn();return this.Ii.forEachInRange([i,r],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new zi(e,0),i=this.yi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class zi{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return et.comparator(e.key,t.key)||Ht(e.vi,t.vi)}static Ti(e,t){return Ht(e.vi,t.vi)||et.comparator(e.key,t.key)}}class d0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Xn(zi.pi)}checkEmpty(e){return Te.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const l=this.Si;this.Si++;const u=new zb(l,t,i,r);this.Bs.push(u);for(const f of r)this.Di=this.Di.add(new zi(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Te.resolve(u)}lookupMutationBatch(e,t){return Te.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.xi(t+1),l=r<0?0:r;return Te.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Te.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new zi(t,0),r=new zi(t,Number.POSITIVE_INFINITY),l=[];return this.Di.forEachInRange([i,r],u=>{const f=this.Ci(u.vi);l.push(f)}),Te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xn(Ht);return t.forEach(r=>{const l=new zi(r,0),u=new zi(r,Number.POSITIVE_INFINITY);this.Di.forEachInRange([l,u],f=>{i=i.add(f.vi)})}),Te.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let l=i;et.isDocumentKey(l)||(l=l.child(""));const u=new zi(new et(l),0);let f=new Xn(Ht);return this.Di.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_.vi)),!0)},u),Te.resolve(this.Ni(f))}Ni(e){const t=[];return e.forEach(i=>{const r=this.Ci(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Pt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let i=this.Di;return Te.forEach(t.mutations,r=>{const l=new zi(r.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Di=i})}_n(e){}containsKey(e,t){const i=new zi(t,0),r=this.Di.firstAfterOrEqual(i);return Te.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Te.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class q_{constructor(e){this.Mi=e,this.docs=new ki(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),l=r?r.size:0,u=this.Mi(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Te.resolve(i?i.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(e,t){let i=Co();return t.forEach(r=>{const l=this.docs.get(r);i=i.insert(r,l?l.document.mutableCopy():Jn.newInvalidDocument(r))}),Te.resolve(i)}getAllFromCollection(e,t,i){let r=Co();const l=new et(t.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||ZI(qI(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return Te.resolve(r)}getAllFromCollectionGroup(e,t,i,r){mt()}Oi(e,t){return Te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ZM(this)}getSize(e){return Te.resolve(this.size)}}class ZM extends JC{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),Te.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class KM{constructor(e){this.persistence=e,this.Fi=new Fa(t=>pl(t),$h),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.$i=0,this.Bi=new u0,this.targetCount=0,this.Li=od.gn()}forEachTarget(e,t){return this.Fi.forEach((i,r)=>t(r)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$i&&(this.$i=t),Te.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new od(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.Tn(t),Te.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,i){let r=0;const l=[];return this.Fi.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Fi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),Te.waitFor(l).next(()=>r)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fi.get(t)||null;return Te.resolve(i)}addMatchingKeys(e,t,i){return this.Bi.Ei(t,i),Te.resolve()}removeMatchingKeys(e,t,i){this.Bi.Ri(t,i);const r=this.persistence.referenceDelegate,l=[];return r&&t.forEach(u=>{l.push(r.markPotentiallyOrphaned(e,u))}),Te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Bi.Vi(t);return Te.resolve(i)}containsKey(e,t){return Te.resolve(this.Bi.containsKey(t))}}class YM{constructor(e,t){this.Ui={},this.overlays={},this.es=new Us(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new KM(this),this.indexManager=new AA,this.ds=new q_(i=>this.referenceDelegate.qi(i)),this.M=new qb(t),this._s=new l0(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new c0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ui[e.toKey()];return i||(i=new d0(t,this.referenceDelegate),this.Ui[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){ze("MemoryPersistence","Starting transaction:",e);const r=new QM(this.es.next());return this.referenceDelegate.Ki(),i(r).next(l=>this.referenceDelegate.Gi(r).next(()=>l)).toPromise().then(l=>(r.raiseOnCommittedEvent(),l))}Qi(e,t){return Te.or(Object.values(this.Ui).map(i=>()=>i.containsKey(e,t)))}}class QM extends Gb{constructor(e){super(),this.currentSequenceNumber=e}}class Z_{constructor(e){this.persistence=e,this.ji=new u0,this.Wi=null}static zi(e){return new Z_(e)}get Hi(){if(this.Wi)return this.Wi;throw mt()}addReference(e,t,i){return this.ji.addReference(i,t),this.Hi.delete(i.toString()),Te.resolve()}removeReference(e,t,i){return this.ji.removeReference(i,t),this.Hi.add(i.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Te.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(r=>this.Hi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(l=>this.Hi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Hi,i=>{const r=et.fromPath(i);return this.Ji(e,r).next(l=>{l||t.removeEntry(r,ot.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(i=>{i?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return Te.or([()=>Te.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function dD(n,e){return`firestore_clients_${n}_${e}`}function hD(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function h0(n,e){return`firestore_targets_${n}_${e}`}class K_{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Yi(e,t,i){const r=JSON.parse(i);let l,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(l=new Ne(r.error.code,r.error.message))),u?new K_(e,t,r.state,l):(Ri("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Yi(e,t){const i=JSON.parse(t);let r,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(r=new Ne(i.error.code,i.error.message))),l?new cf(e,i.state,r):(Ri("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,l=nm();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Uh(i.activeTargetIds[u]),l=l.add(i.activeTargetIds[u]);return r?new mm(e,l):(Ri("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Y_{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Y_(t.clientId,t.onlineState):(Ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class f0{constructor(){this.activeTargetIds=nm()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p0{constructor(e,t,i,r,l){this.window=e,this.Yn=t,this.persistenceKey=i,this.er=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new ki(Ht),this.started=!1,this.rr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ur=dD(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new f0),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Me.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.er)continue;const l=e.getItem(dD(e.persistenceKey,r));if(l){const u=mm.Yi(r,l);u&&(e.ir=e.ir.insert(u.clientId,u))}}e.wr();const i=e.storage.getItem(e.dr);if(i){const r=e.mr(i);r&&e.gr(r)}for(const r of e.rr)e.sr(r);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,i){this.pr(e,t,i),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(h0(this.persistenceKey,e));if(i){const r=cf.Yi(e,i);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(h0(this.persistenceKey,e))}updateQueryState(e,t,i){this.Er(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ir(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ze("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ur)return void Ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Me.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Pr(i.key);return t.br(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Sr(r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(i.key===t.dr){if(null!==i.newValue){const r=t.mr(i.newValue);if(r)return t.gr(r)}}else if(i.key===t.ar){const r=function(l){let u=Us.A;if(null!=l)try{const f=JSON.parse(l);Pt("number"==typeof f),u=f}catch(f){Ri("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Us.A&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.Nr(i.newValue);yield Promise.all(r.map(l=>t.syncEngine.kr(l)))}}else t.rr.push(i)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,i){const r=new K_(this.currentUser,e,t,i),l=hD(this.persistenceKey,this.currentUser,e);this.setItem(l,r.Xi())}Ir(e){const t=hD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,i){const r=h0(this.persistenceKey,e),l=new cf(e,t,i);this.setItem(r,l.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.Pr(e);return mm.Yi(i,t)}vr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return K_.Yi(new Nr(void 0!==i[2]?i[2]:null),r,t)}Dr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return cf.Yi(r,t)}mr(e){return Y_.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.ir.insert(e,t):this.ir.remove(e),r=this.yr(this.ir),l=this.yr(i),u=[],f=[];return l.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Fr(u,f).then(()=>{this.ir=i})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=nm();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class m0{constructor(){this.$r=new f0,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,i){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new f0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class g0{Lr(e){}shutdown(){}}class VA{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class _0{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class BA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,i,r,l){const u=this.uo(e,t);ze("RestConnection","Sending: ",u,i);const f={};return this.ao(f,r,l),this.co(e,u,f,i).then(_=>(ze("RestConnection","Received: ",_),_),_=>{throw Nh("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}ho(e,t,i,r,l){return this.oo(e,t,i,r,l)}ao(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,l)=>e[l]=r),i&&i.headers.forEach((r,l)=>e[l]=r)}uo(e,t){return`${this.io}/v1/${t}:${fD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((l,u)=>{const f=new jI;f.listenOnce(VI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case pb.NO_ERROR:const w=f.getResponseJson();ze("Connection","XHR received:",JSON.stringify(w)),l(w);break;case pb.TIMEOUT:ze("Connection",'RPC "'+e+'" timed out'),u(new Ne(we.DEADLINE_EXCEEDED,"Request time out"));break;case pb.HTTP_ERROR:const T=f.getStatus();if(ze("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const M=f.getResponseJson().error;if(M&&M.status&&M.message){const N=function(H){const Z=H.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(Z)>=0?Z:we.UNKNOWN}(M.status);u(new Ne(N,M.message))}else u(new Ne(we.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Ne(we.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{ze("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}lo(e,t,i){const r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=NI(),u=LI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new UI({})),this.ao(f.initMessageHeaders,t,i),(0,cn.uI)()||(0,cn.b$)()||(0,cn.d)()||(0,cn.w1)()||(0,cn.Mn)()||(0,cn.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");ze("Connection","Creating WebChannel: "+_,f);const w=l.createWebChannel(_,f);let T=!1,M=!1;const N=new _0({Wr:Z=>{M?ze("Connection","Not sending because WebChannel is closed:",Z):(T||(ze("Connection","Opening WebChannel transport."),w.open(),T=!0),ze("Connection","WebChannel sending:",Z),w.send(Z))},zr:()=>w.close()}),H=(Z,ce,Ve)=>{Z.listen(ce,Ze=>{try{Ve(Ze)}catch(st){setTimeout(()=>{throw st},0)}})};return H(w,g_.EventType.OPEN,()=>{M||ze("Connection","WebChannel transport opened.")}),H(w,g_.EventType.CLOSE,()=>{M||(M=!0,ze("Connection","WebChannel transport closed"),N.no())}),H(w,g_.EventType.ERROR,Z=>{M||(M=!0,Nh("Connection","WebChannel transport errored:",Z),N.no(new Ne(we.UNAVAILABLE,"The operation could not be completed")))}),H(w,g_.EventType.MESSAGE,Z=>{var ce;if(!M){const Ve=Z.data[0];Pt(!!Ve);const Ze=Ve,st=Ze.error||(null===(ce=Ze[0])||void 0===ce?void 0:ce.error);if(st){ze("Connection","WebChannel received error:",st);const ut=st.status;let gt=function(rn){const Sn=nr[rn];if(void 0!==Sn)return Rb(Sn)}(ut),Kt=st.message;void 0===gt&&(gt=we.INTERNAL,Kt="Unknown error status: "+ut+" with message "+st.message),M=!0,N.no(new Ne(gt,Kt)),w.close()}else ze("Connection","WebChannel received:",Ve),N.so(Ve)}}),H(u,BI.STAT_EVENT,Z=>{Z.stat===FE.PROXY?ze("Connection","Detected buffering proxy"):Z.stat===FE.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.eo()},0),N}}function pD(){return"undefined"!=typeof window?window:null}function y0(){return"undefined"!=typeof document?document:null}function Q_(n){return new uA(n,!0)}class mD{constructor(e,t,i=1e3,r=1.5,l=6e4){this.Yn=e,this.timerId=t,this.fo=i,this._o=r,this.wo=l,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),r=Math.max(0,t-i);r>0&&ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class gD{constructor(e,t,i,r,l,u,f,_){this.Yn=e,this.Ro=i,this.Po=r,this.bo=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new mD(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Me.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Me.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var i=this;return(0,Me.Z)(function*(){i.$o(),i.Bo(),i.Do.cancel(),i.Vo++,4!==e?i.Do.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),i.Do.Io()):t&&t.code===we.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Lo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.qo(i,r)},i=>{e(()=>{const r=new Ne(we.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(r)})})}qo(e,t){const i=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(r=>{i(()=>this.Ko(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}No(){var e=this;this.state=5,this.Do.To((0,Me.Z)(function*(){e.state=0,e.start()}))}Ko(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UA extends gD{constructor(e,t,i,r,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.M=l}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function jM(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:mt(),r=e.targetChange.targetIds||[],l=function(_,w){return _.N?(Pt(void 0===w||"string"==typeof w),er.fromBase64String(w||"")):(Pt(void 0===w||w instanceof Uint8Array),er.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?we.UNKNOWN:Rb(_.code);return new Ne(w,_.message||"")}(u);t=new wC(i,r,l,f||null)}else if("documentChange"in e){const i=e.documentChange,r=La(n,i.document.name),l=mr(i.document.updateTime),u=new zr({mapValue:{fields:i.document.fields}}),f=Jn.newFoundDocument(r,l,u);t=new rm(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=La(n,i.document),l=i.readTime?mr(i.readTime):ot.min(),u=Jn.newNoDocument(r,l);t=new rm([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=La(n,i.document);t=new rm([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return mt();{const i=e.filter,l=new sA(i.count||0);t=new bC(i.targetId,l)}}var _;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return ot.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?ot.min():l.readTime?mr(l.readTime):ot.min()}(e);return this.listener.Qo(t,i)}jo(e){const t={};t.database=Xh(this.M),t.addTarget=function(r,l){let u;const f=l.target;return u=zp(f)?{documents:M_(r,f)}:{query:O_(r,f)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?u.resumeToken=Jh(r,l.resumeToken):l.snapshotVersion.compareTo(ot.min())>0&&(u.readTime=gc(r,l.snapshotVersion.toTimestamp())),u}(this.M,e);const i=function fA(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=Xh(this.M),t.removeTarget=e,this.Fo(t)}}class JM extends gD{constructor(e,t,i,r,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.M=l,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function TC(n,e){return n&&n.length>0?(Pt(void 0!==e),n.map(t=>function(i,r){let l=mr(i.updateTime?i.updateTime:r);return l.isEqual(ot.min())&&(l=mr(r)),new Qp(l,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.Yo(i,t)}return Pt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Xh(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ed(this.M,i))};this.Fo(t)}}class XM extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.M=r,this.tu=!1}eu(){if(this.tu)throw new Ne(we.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.bo.oo(e,t,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ne(we.UNKNOWN,r.toString())})}ho(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.bo.ho(e,t,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ne(we.UNKNOWN,r.toString())})}terminate(){this.tu=!0}}class eO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Ri(t),this.iu=!1):ze("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class tO{constructor(e,t,i,r,l){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=l,this._u.Lr(f=>{i.enqueueAndForget((0,Me.Z)(function*(){var _;h(u)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Me.Z)(function*(w){const T=it(w);T.fu.add(4),yield gm(T),T.wu.set("Unknown"),T.fu.delete(4),yield J_(T)}),function(w){return _.apply(this,arguments)})(u))}))}),this.wu=new eO(i,r)}}function J_(n){return v0.apply(this,arguments)}function v0(){return v0=(0,Me.Z)(function*(n){if(h(n))for(const e of n.du)yield e(!0)}),v0.apply(this,arguments)}function gm(n){return _D.apply(this,arguments)}function _D(){return _D=(0,Me.Z)(function*(n){for(const e of n.du)yield e(!1)}),_D.apply(this,arguments)}function b0(n,e){const t=it(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),d(t)?c(t):ty(t).xo()&&s(t,e))}function X_(n,e){const t=it(n),i=ty(t);t.lu.delete(e),i.xo()&&o(t,e),0===t.lu.size&&(i.xo()?i.Mo():h(t)&&t.wu.set("Unknown"))}function s(n,e){n.mu.Z(e.targetId),ty(n).jo(e)}function o(n,e){n.mu.Z(e),ty(n).Wo(e)}function c(n){n.mu=new cA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),ty(n).start(),n.wu.ru()}function d(n){return h(n)&&!ty(n).Co()&&n.lu.size>0}function h(n){return 0===it(n).fu.size}function m(n){n.mu=void 0}function v(n){return E.apply(this,arguments)}function E(){return E=(0,Me.Z)(function*(n){n.lu.forEach((e,t)=>{s(n,e)})}),E.apply(this,arguments)}function C(n,e){return S.apply(this,arguments)}function S(){return S=(0,Me.Z)(function*(n,e){m(n),d(n)?(n.wu.au(e),c(n)):n.wu.set("Unknown")}),S.apply(this,arguments)}function O(n,e,t){return F.apply(this,arguments)}function F(){return F=(0,Me.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof wC&&2===e.state&&e.cause)try{yield(i=(0,Me.Z)(function*(r,l){const u=l.cause;for(const f of l.targetIds)r.lu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.lu.delete(f),r.mu.removeTarget(f))}),function(r,l){return i.apply(this,arguments)})(n,e)}catch(i){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Y(n,i)}else if(e instanceof rm?n.mu.ut(e):e instanceof bC?n.mu._t(e):n.mu.ht(e),!t.isEqual(ot.min()))try{const i=yield oD(n.localStore);t.compareTo(i)>=0&&(yield function(r,l){const u=r.mu.yt(l);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r.lu.get(_);w&&r.lu.set(_,w.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach(f=>{const _=r.lu.get(f);if(!_)return;r.lu.set(f,_.withResumeToken(er.EMPTY_BYTE_STRING,_.snapshotVersion)),o(r,f);const w=new _l(_.target,f,1,_.sequenceNumber);s(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){ze("RemoteStore","Failed to raise snapshot:",i),yield Y(n,i)}var i}),F.apply(this,arguments)}function Y(n,e,t){return oe.apply(this,arguments)}function oe(){return oe=(0,Me.Z)(function*(n,e,t){if(!id(e))throw e;n.fu.add(1),yield gm(n),n.wu.set("Offline"),t||(t=()=>oD(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield J_(n)}))}),oe.apply(this,arguments)}function Se(n,e){return e().catch(t=>Y(n,t,e))}function je(n){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,Me.Z)(function*(n){const e=it(n),t=uf(e);let i=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;ft(e);)try{const r=yield qM(e.localStore,i);if(null===r){0===e.hu.length&&t.Mo();break}i=r.batchId,Fe(e,r)}catch(r){yield Y(e,r)}Dt(e)&&un(e)}),Xe.apply(this,arguments)}function ft(n){return h(n)&&n.hu.length<10}function Fe(n,e){n.hu.push(e);const t=uf(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function Dt(n){return h(n)&&!uf(n).Co()&&n.hu.length>0}function un(n){uf(n).start()}function An(n){return os.apply(this,arguments)}function os(){return os=(0,Me.Z)(function*(n){uf(n).Zo()}),os.apply(this,arguments)}function ud(n){return _m.apply(this,arguments)}function _m(){return _m=(0,Me.Z)(function*(n){const e=uf(n);for(const t of n.hu)e.Jo(t.mutations)}),_m.apply(this,arguments)}function w0(n,e,t){return ym.apply(this,arguments)}function ym(){return ym=(0,Me.Z)(function*(n,e,t){const i=n.hu.shift(),r=P_.from(i,e,t);yield Se(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield je(n)}),ym.apply(this,arguments)}function E0(n,e){return vm.apply(this,arguments)}function vm(){return vm=(0,Me.Z)(function*(n,e){var t;e&&uf(n).Ho&&(yield(t=(0,Me.Z)(function*(i,r){if(oA(l=r.code)&&l!==we.ABORTED){const u=i.hu.shift();uf(i).ko(),yield Se(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield je(i)}var l}),function(i,r){return t.apply(this,arguments)})(n,e)),Dt(n)&&un(n)}),vm.apply(this,arguments)}function ey(n,e){return bm.apply(this,arguments)}function bm(){return bm=(0,Me.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const i=h(t);t.fu.add(3),yield gm(t),i&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield J_(t)}),bm.apply(this,arguments)}function wm(n,e){return Em.apply(this,arguments)}function Em(){return Em=(0,Me.Z)(function*(n,e){const t=it(n);e?(t.fu.delete(2),yield J_(t)):e||(t.fu.add(2),yield gm(t),t.wu.set("Unknown"))}),Em.apply(this,arguments)}function ty(n){return n.gu||(n.gu=function(e,t,i){const r=it(e);return r.eu(),new UA(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:v.bind(null,n),Yr:C.bind(null,n),Qo:O.bind(null,n)}),n.du.push(function(){var e=(0,Me.Z)(function*(t){t?(n.gu.ko(),d(n)?c(n):n.wu.set("Unknown")):(yield n.gu.stop(),m(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function uf(n){return n.yu||(n.yu=function(e,t,i){const r=it(e);return r.eu(),new JM(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:An.bind(null,n),Yr:E0.bind(null,n),Xo:ud.bind(null,n),Yo:w0.bind(null,n)}),n.du.push(function(){var e=(0,Me.Z)(function*(t){t?(n.yu.ko(),yield je(n)):(yield n.yu.stop(),n.hu.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class jA{constructor(e,t,i,r,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,l){const u=Date.now()+i,f=new jA(e,t,u,r,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),id(n))return new Ne(we.UNAVAILABLE,`${e}: ${n}`);throw n}class iy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||et.comparator(t.key,i.key):(t,i)=>et.comparator(t.key,i.key),this.keyedMap=kb(),this.sortedSet=new ki(this.comparator)}static emptySet(e){return new iy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof iy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,l=i.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new iy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class nO{constructor(){this.pu=new ki(et.comparator)}track(e){const t=e.doc.key,i=this.pu.get(t);i?0!==e.type&&3===i.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==i.type?this.pu=this.pu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.pu=this.pu.remove(t):1===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):mt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,i)=>{e.push(i)}),e}}class ry{constructor(e,t,i,r,l,u,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new ry(e,t,iy.emptySet(t),l,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class hF{constructor(){this.Tu=void 0,this.listeners=[]}}class fF{constructor(){this.queries=new Fa(e=>lC(e),Zu),this.onlineState="Unknown",this.Eu=new Set}}function HA(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Me.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1,l=t.queries.get(i);if(l||(r=!0,l=new hF),r)try{l.Tu=yield t.onListen(i)}catch(u){const f=ny(u,`Initialization of query '${D_(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,l),l.listeners.push(e),e.Au(t.onlineState),l.Tu&&e.Ru(l.Tu)&&WA(t)}),GA.apply(this,arguments)}function $A(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Me.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1;const l=t.queries.get(i);if(l){const u=l.listeners.indexOf(e);u>=0&&(l.listeners.splice(u,1),r=0===l.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),zA.apply(this,arguments)}function pF(n,e){const t=it(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Ru(r)&&(i=!0);u.Tu=r}}i&&WA(t)}function mF(n,e,t){const i=it(n),r=i.queries.get(e);if(r)for(const l of r.listeners)l.onError(t);i.queries.delete(e)}function WA(n){n.Eu.forEach(e=>{e.next()})}class qA{constructor(e,t,i){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ry(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=ry.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class gF{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class iO{constructor(e){this.M=e}fi(e){return La(this.M,e)}di(e){return e.metadata.exists?DC(this.M,e.document,!1):Jn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return mr(e)}}class _F{constructor(e,t,i){this.Nu=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rO(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=hn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new iO(this.M);for(const r of e)if(r.metadata.queries){const l=i.fi(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Dn()).add(l);t.set(u,f)}}return t}complete(){var e=this;return(0,Me.Z)(function*(){const t=yield function LA(n,e,t,i){return z_.apply(this,arguments)}(e.localStore,new iO(e.M),e.documents,e.Nu.id),i=e.Mu(e.documents);for(const r of e.queries)yield cd(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function rO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class sO{constructor(e){this.key=e}}class oO{constructor(e){this.key=e}}class aO{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Dn(),this.mutatedKeys=Dn(),this.Uu=cC(e),this.qu=new iy(this.Uu)}get Ku(){return this.$u}Gu(e,t){const i=t?t.Qu:new nO,r=t?t.qu:this.qu;let l=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _=w_(this.query)&&r.size===this.query.limit?r.last():null,w=E_(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((T,M)=>{const N=r.get(T),H=Tb(this.query,M)?M:null,Z=!!N&&this.mutatedKeys.has(N.key),ce=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Ve=!1;N&&H?N.data.isEqual(H.data)?Z!==ce&&(i.track({type:3,doc:H}),Ve=!0):this.ju(N,H)||(i.track({type:2,doc:H}),Ve=!0,(_&&this.Uu(H,_)>0||w&&this.Uu(H,w)<0)&&(f=!0)):!N&&H?(i.track({type:0,doc:H}),Ve=!0):N&&!H&&(i.track({type:1,doc:N}),Ve=!0,(_||w)&&(f=!0)),Ve&&(H?(u=u.add(H),l=ce?l.add(T):l.delete(T)):(u=u.delete(T),l=l.delete(T)))}),w_(this.query)||E_(this.query))for(;u.size>this.query.limit;){const T=w_(this.query)?u.last():u.first();u=u.delete(T.key),l=l.delete(T.key),i.track({type:1,doc:T})}return{qu:u,Qu:i,ni:f,mutatedKeys:l}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const l=e.Qu.Iu();l.sort((w,T)=>function(M,N){const H=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return H(M)-H(N)}(w.type,T.type)||this.Uu(w.doc,T.doc)),this.Wu(i);const u=t?this.zu():[],f=0===this.Lu.size&&this.current?1:0,_=f!==this.Bu;return this.Bu=f,0!==l.length||_?{snapshot:new ry(this.query,e.qu,r,l,e.mutatedKeys,0===f,_,!1),Hu:u}:{Hu:u}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new nO,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Dn(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const t=[];return e.forEach(i=>{this.Lu.has(i)||t.push(new oO(i))}),this.Lu.forEach(i=>{e.has(i)||t.push(new sO(i))}),t}Yu(e){this.$u=e.li,this.Lu=Dn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return ry.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class yF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class vF{constructor(e){this.key=e,this.Zu=!1}}class bF{constructor(e,t,i,r,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.ta={},this.ea=new Fa(f=>lC(f),Zu),this.na=new Map,this.sa=new Set,this.ia=new ki(et.comparator),this.ra=new Map,this.oa=new u0,this.ua={},this.aa=new Map,this.ca=od.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function wF(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Me.Z)(function*(n,e){const t=_S(n);let i,r;const l=t.ea.get(e);if(l)i=l.targetId,t.sharedClientState.addLocalQueryTarget(i),r=l.view.Xu();else{const u=yield hm(t.localStore,Eo(e));t.isPrimaryClient&&b0(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield KA(t,e,i,"current"===f)}return r}),ZA.apply(this,arguments)}function KA(n,e,t,i){return YA.apply(this,arguments)}function YA(){return YA=(0,Me.Z)(function*(n,e,t,i){n.la=(T,M,N)=>{return(H=(0,Me.Z)(function*(Z,ce,Ve,Ze){let st=ce.view.Gu(Ve);st.ni&&(st=yield a0(Z.localStore,ce.query,!1).then(({documents:Kt})=>ce.view.Gu(Kt,st)));const ut=Ze&&Ze.targetChanges.get(ce.targetId),gt=ce.view.applyChanges(st,Z.isPrimaryClient,ut);return oS(Z,ce.targetId,gt.Hu),gt.snapshot}),function(Z,ce,Ve,Ze){return H.apply(this,arguments)})(n,T,M,N);var H};const r=yield a0(n.localStore,e,!0),l=new aO(e,r.li),u=l.Gu(r.documents),f=im.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=l.applyChanges(u,n.isPrimaryClient,f);oS(n,t,_.Hu);const w=new yF(e,t,l);return n.ea.set(e,w),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),_.snapshot}),YA.apply(this,arguments)}function EF(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,Me.Z)(function*(n,e){const t=it(n),i=t.ea.get(e),r=t.na.get(i.targetId);if(r.length>1)return t.na.set(i.targetId,r.filter(l=>!Zu(l,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),X_(t.remoteStore,i.targetId),sy(t,i.targetId)}).catch(Tc))):(sy(t,i.targetId),yield fm(t.localStore,i.targetId,!0))}),QA.apply(this,arguments)}function JA(){return JA=(0,Me.Z)(function*(n,e,t){const i=yS(n);try{const r=yield function(l,u){const f=it(l),_=li.now(),w=u.reduce((M,N)=>M.add(N.key),Dn());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>f.ci.Ks(M,w).next(N=>{T=N;const H=[];for(const Z of u){const ce=Mb(Z,T.get(Z.key));null!=ce&&H.push(new Qu(Z.key,ce,JE(ce.value.mapValue),$i.exists(!0)))}return f.Bs.addMutationBatch(M,_,H,u)})).then(M=>(M.applyToLocalDocumentSet(T),{batchId:M.batchId,changes:T}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,f){let _=l.ua[l.currentUser.toKey()];_||(_=new ki(Ht)),_=_.insert(u,f),l.ua[l.currentUser.toKey()]=_}(i,r.batchId,t),yield dd(i,r.changes),yield je(i.remoteStore)}catch(r){const l=ny(r,"Failed to persist write");t.reject(l)}}),JA.apply(this,arguments)}function lO(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,Me.Z)(function*(n,e){const t=it(n);try{const i=yield NA(t.localStore,e);e.targetChanges.forEach((r,l)=>{const u=t.ra.get(l);u&&(Pt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Zu=!0:r.modifiedDocuments.size>0?Pt(u.Zu):r.removedDocuments.size>0&&(Pt(u.Zu),u.Zu=!1))}),yield dd(t,i,e)}catch(i){yield Tc(i)}}),XA.apply(this,arguments)}function cO(n,e,t){const i=it(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ea.forEach((l,u)=>{const f=u.view.Au(e);f.snapshot&&r.push(f.snapshot)}),function(l,u){const f=it(l);f.onlineState=u;let _=!1;f.queries.forEach((w,T)=>{for(const M of T.listeners)M.Au(u)&&(_=!0)}),_&&WA(f)}(i.eventManager,e),r.length&&i.ta.Qo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function DF(n,e,t){return eS.apply(this,arguments)}function eS(){return eS=(0,Me.Z)(function*(n,e,t){const i=it(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ra.get(e),l=r&&r.key;if(l){let u=new ki(et.comparator);u=u.insert(l,Jn.newNoDocument(l,ot.min()));const f=Dn().add(l),_=new Yh(ot.min(),new Map,new Xn(Ht),u,f);yield lO(i,_),i.ia=i.ia.remove(l),i.ra.delete(e),aS(i)}else yield fm(i.localStore,e,!1).then(()=>sy(i,e,t)).catch(Tc)}),eS.apply(this,arguments)}function TF(n,e){return tS.apply(this,arguments)}function tS(){return tS=(0,Me.Z)(function*(n,e){const t=it(n),i=e.batch.batchId;try{const r=yield sD(t.localStore,e);sS(t,i,null),rS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield dd(t,r)}catch(r){yield Tc(r)}}),tS.apply(this,arguments)}function IF(n,e,t){return nS.apply(this,arguments)}function nS(){return nS=(0,Me.Z)(function*(n,e,t){const i=it(n);try{const r=yield function(l,u){const f=it(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.Bs.lookupMutationBatch(_,u).next(T=>(Pt(null!==T),w=T.keys(),f.Bs.removeMutationBatch(_,T))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.ci.Ks(_,w))})}(i.localStore,e);sS(i,e,t),rS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield dd(i,r)}catch(r){yield Tc(r)}}),nS.apply(this,arguments)}function iS(){return iS=(0,Me.Z)(function*(n,e){const t=it(n);h(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const u=it(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.aa.get(i)||[];r.push(e),t.aa.set(i,r)}catch(i){const r=ny(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),iS.apply(this,arguments)}function rS(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function sS(n,e,t){const i=it(n);let r=i.ua[i.currentUser.toKey()];if(r){const l=r.get(e);l&&(t?l.reject(t):l.resolve(),r=r.remove(e)),i.ua[i.currentUser.toKey()]=r}}function sy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.na.get(e))n.ea.delete(i),t&&n.ta.fa(i,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(i=>{n.oa.containsKey(i)||uO(n,i)})}function uO(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(X_(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),aS(n))}function oS(n,e,t){for(const i of t)i instanceof sO?(n.oa.addReference(i.key,e),SF(n,i)):i instanceof oO?(ze("SyncEngine","Document no longer in limbo: "+i.key),n.oa.removeReference(i.key,e),n.oa.containsKey(i.key)||uO(n,i.key)):mt()}function SF(n,e){const t=e.key,i=t.path.canonicalString();n.ia.get(t)||n.sa.has(i)||(ze("SyncEngine","New document in limbo: "+t),n.sa.add(i),aS(n))}function aS(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new et(hn.fromString(e)),i=n.ca.next();n.ra.set(i,new vF(t)),n.ia=n.ia.insert(t,i),b0(n.remoteStore,new _l(Eo(Wh(t.path)),i,2,Us.A))}}function dd(n,e,t){return lS.apply(this,arguments)}function lS(){return lS=(0,Me.Z)(function*(n,e,t){const i=it(n),r=[],l=[],u=[];var f;i.ea.isEmpty()||(i.ea.forEach((f,_)=>{u.push(i.la(_,e,t).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),r.push(w);const T=$_.Ys(_.targetId,w);l.push(T)}}))}),yield Promise.all(u),i.ta.Qo(r),yield(f=(0,Me.Z)(function*(_,w){const T=it(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Te.forEach(w,N=>Te.forEach(N.Hs,H=>T.persistence.referenceDelegate.addReference(M,N.targetId,H)).next(()=>Te.forEach(N.Js,H=>T.persistence.referenceDelegate.removeReference(M,N.targetId,H)))))}catch(M){if(!id(M))throw M;ze("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const N=M.targetId;if(!M.fromCache){const H=T.ii.get(N),ce=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);T.ii=T.ii.insert(N,ce)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,l))}),lS.apply(this,arguments)}function xF(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,Me.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const i=yield FA(t.localStore,e);t.currentUser=e,(r=t).aa.forEach(u=>{u.forEach(f=>{f.reject(new Ne(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.aa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield dd(t,i.hi)}var r}),cS.apply(this,arguments)}function MF(n,e){const t=it(n),i=t.ra.get(e);if(i&&i.Zu)return Dn().add(i.key);{let r=Dn();const l=t.na.get(e);if(!l)return r;for(const u of l){const f=t.ea.get(u);r=r.unionWith(f.view.Ku)}return r}}function OF(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,Me.Z)(function*(n,e){const t=it(n),i=yield a0(t.localStore,e.query,!0),r=e.view.Yu(i);return t.isPrimaryClient&&oS(t,e.targetId,r.Hu),r}),uS.apply(this,arguments)}function RF(n,e){return dS.apply(this,arguments)}function dS(){return dS=(0,Me.Z)(function*(n,e){const t=it(n);return pm(t.localStore,e).then(i=>dd(t,i))}),dS.apply(this,arguments)}function kF(n,e,t,i){return hS.apply(this,arguments)}function hS(){return hS=(0,Me.Z)(function*(n,e,t,i){const r=it(n),l=yield function(u,f){const _=it(u),w=it(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.fn(T,f).next(M=>M?_.ci.Ks(T,M):Te.resolve(null)))}(r.localStore,e);var f;null!==l?("pending"===t?yield je(r.remoteStore):"acknowledged"===t||"rejected"===t?(sS(r,e,i||null),rS(r,e),f=e,it(it(r.localStore).Bs)._n(f)):mt(),yield dd(r,l)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),hS.apply(this,arguments)}function fS(){return fS=(0,Me.Z)(function*(n,e){const t=it(n);if(_S(t),yS(t),!0===e&&!0!==t.ha){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield dO(t,i.toArray());t.ha=!0,yield wm(t.remoteStore,!0);for(const l of r)b0(t.remoteStore,l)}else if(!1===e&&!1!==t.ha){const i=[];let r=Promise.resolve();t.na.forEach((l,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(sy(t,u),fm(t.localStore,u,!0))),X_(t.remoteStore,u)}),yield r,yield dO(t,i),function(l){const u=it(l);u.ra.forEach((f,_)=>{X_(u.remoteStore,_)}),u.oa.bi(),u.ra=new Map,u.ia=new ki(et.comparator)}(t),t.ha=!1,yield wm(t.remoteStore,!1)}}),fS.apply(this,arguments)}function dO(n,e,t){return pS.apply(this,arguments)}function pS(){return pS=(0,Me.Z)(function*(n,e,t){const i=it(n),r=[],l=[];for(const u of e){let f;const _=i.na.get(u);if(_&&0!==_.length){f=yield hm(i.localStore,Eo(_[0]));for(const w of _){const T=i.ea.get(w),M=yield OF(i,T);M.snapshot&&l.push(M.snapshot)}}else{const w=yield cD(i.localStore,u);f=yield hm(i.localStore,w),yield KA(i,hO(w),u,!1)}r.push(f)}return i.ta.Qo(l),r}),pS.apply(this,arguments)}function hO(n){return Db(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function FF(n){const e=it(n);return it(it(e.localStore).persistence).Fs()}function NF(n,e,t,i){return mS.apply(this,arguments)}function mS(){return mS=(0,Me.Z)(function*(n,e,t,i){const r=it(n);if(r.ha)return void ze("SyncEngine","Ignoring unexpected query state notification.");const l=r.na.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const u=yield pm(r.localStore,Ib(l[0])),f=Yh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield dd(r,u,f);break}case"rejected":yield fm(r.localStore,e,!0),sy(r,e,i);break;default:mt()}}),mS.apply(this,arguments)}function LF(n,e,t){return gS.apply(this,arguments)}function gS(){return gS=(0,Me.Z)(function*(n,e,t){const i=_S(n);if(i.ha){for(const r of e){if(i.na.has(r)){ze("SyncEngine","Adding an already active target "+r);continue}const l=yield cD(i.localStore,r),u=yield hm(i.localStore,l);yield KA(i,hO(l),u.targetId,!1),b0(i.remoteStore,u)}for(const r of t)i.na.has(r)&&(yield fm(i.localStore,r,!1).then(()=>{X_(i.remoteStore,r),sy(i,r)}).catch(Tc))}}),gS.apply(this,arguments)}function _S(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DF.bind(null,e),e.ta.Qo=pF.bind(null,e.eventManager),e.ta.fa=mF.bind(null,e.eventManager),e}function yS(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IF.bind(null,e),e}class fO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Me.Z)(function*(){t.M=Q_(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return iD(this.persistence,new o0,e.initialUser,this.M)}wa(e){return new YM(Z_.zi,this.M)}_a(e){return new m0}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pO extends fO{constructor(e,t,i){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield t().call(i,e),yield i.ya.initialize(i,e),yield yS(i.ya.syncEngine),yield je(i.ya.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ga(e){return iD(this.persistence,new o0,e.initialUser,this.M)}ma(e){return new t0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=G_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Hs.withCacheSize(this.cacheSizeBytes):Hs.DEFAULT;return new H_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,pD(),y0(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new m0}}class BF extends pO{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield t().call(i,e);const r=i.ya.syncEngine;i.sharedClientState instanceof p0&&(i.sharedClientState.syncEngine={Mr:kF.bind(null,r),Or:NF.bind(null,r),Fr:LF.bind(null,r),Fs:FF.bind(null,r),kr:RF.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var l=(0,Me.Z)(function*(u){yield function PF(n,e){return fS.apply(this,arguments)}(i.ya.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}_a(e){const t=pD();if(!p0.vt(t))throw new Ne(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=G_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new p0(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class vS{initialize(e,t){var i=this;return(0,Me.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>cO(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=xF.bind(null,i.syncEngine),yield wm(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fF}createDatastore(e){const t=Q_(e.databaseInfo.databaseId),i=new BA(e.databaseInfo);return new XM(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,l=f=>cO(this.syncEngine,f,0),u=VA.vt()?new VA:new g0,new tO(t,i,r,l,u);var t,i,r,l,u}createSyncEngine(e,t){return function(i,r,l,u,f,_,w){const T=new bF(i,r,l,u,f,_);return w&&(T.ha=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Me.Z)(function*(t){const i=it(t);ze("RemoteStore","RemoteStore shutting down."),i.fu.add(5),yield gm(i),i._u.shutdown(),i.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function mO(n,e=10240){let t=0;return{read:()=>(0,Me.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class UF{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new pr,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(i=>{i&&i.xu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Me.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Me.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const i=e.Ea.decode(t),r=Number(i);isNaN(r)&&e.Pa(`length string (${i}) is not valid number`);const l=yield e.ba(r);return new gF(JSON.parse(l),t.length+r)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Me.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ba(e){var t=this;return(0,Me.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const i=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class jF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Me.Z)(function*(l,u){const f=it(l),_=Xh(f.M)+"/documents",w={documents:u.map(H=>_c(f.M,H))},T=yield f.ho("BatchGetDocuments",_,w),M=new Map;T.forEach(H=>{const Z=function hA(n,e){return"found"in e?function(t,i){Pt(!!i.found);const r=La(t,i.found.name),l=mr(i.found.updateTime),u=new zr({mapValue:{fields:i.found.fields}});return Jn.newFoundDocument(r,l,u)}(n,e):"missing"in e?function(t,i){Pt(!!i.missing),Pt(!!i.readTime);const r=La(t,i.missing),l=mr(i.readTime);return Jn.newNoDocument(r,l)}(n,e):mt()}(f.M,H);M.set(Z.key.toString(),Z)});const N=[];return u.forEach(H=>{const Z=M.get(H.toString());Pt(!!Z),N.push(Z)}),N}),function(l,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new A_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const l=et.fromPath(r);e.mutations.push(new S_(l,e.precondition(l)))}),yield(i=(0,Me.Z)(function*(r,l){const u=it(r),f=Xh(u.M)+"/documents",_={writes:l.map(w=>ed(u.M,w))};yield u.oo("Commit",f,_)}),function(r,l){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=ot.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ne(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?$i.updateTime(t):$i.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ot.min()))throw new Ne(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $i.updateTime(t)}return $i.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class HF{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.Sa=5,this.Do=new mD(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Me.Z)(function*(){const t=new jF(e.datastore),i=e.Ca(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(l=>{e.xa(l)}))}).catch(r=>{e.xa(r)})}))}Ca(e){try{const t=this.updateFunction(e);return!zu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!oA(t)}return!1}}class GF{constructor(e,t,i,r){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Nr.UNAUTHENTICATED,this.clientId=jE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Me.Z)(function*(f){ze("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(ze("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ny(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function gO(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Me.Z)(function*(l){i.isEqual(l)||(yield FA(e.localStore,l),i=l)});return function(l){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),bS.apply(this,arguments)}function _O(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ES(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>ey(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,l)=>ey(e.remoteStore,l)),n.onlineComponents=e}),wS.apply(this,arguments)}function ES(n){return CS.apply(this,arguments)}function CS(){return CS=(0,Me.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield gO(n,new fO)),n.offlineComponents}),CS.apply(this,arguments)}function vD(n){return DS.apply(this,arguments)}function DS(){return DS=(0,Me.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield _O(n,new vS)),n.onlineComponents}),DS.apply(this,arguments)}function yO(n){return ES(n).then(e=>e.persistence)}function TS(n){return ES(n).then(e=>e.localStore)}function vO(n){return vD(n).then(e=>e.remoteStore)}function IS(n){return vD(n).then(e=>e.syncEngine)}function oy(n){return AS.apply(this,arguments)}function AS(){return AS=(0,Me.Z)(function*(n){const e=yield vD(n),t=e.eventManager;return t.onListen=wF.bind(null,e.syncEngine),t.onUnlisten=EF.bind(null,e.syncEngine),t}),AS.apply(this,arguments)}function bO(n,e,t={}){const i=new pr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,l,u,f,_){const w=new yD({next:M=>{l.enqueueAndForget(()=>$A(r,T));const N=M.docs.has(u);!N&&M.fromCache?_.reject(new Ne(we.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&M.fromCache&&f&&"server"===f.source?_.reject(new Ne(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new qA(Wh(u.path),w,{includeMetadataChanges:!0,Cu:!0});return HA(r,T)}(yield oy(n),n.asyncQueue,e,t,i)})),i.promise}function wO(n,e,t={}){const i=new pr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,l,u,f,_){const w=new yD({next:M=>{l.enqueueAndForget(()=>$A(r,T)),M.fromCache&&"server"===f.source?_.reject(new Ne(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new qA(u,w,{includeMetadataChanges:!0,Cu:!0});return HA(r,T)}(yield oy(n),n.asyncQueue,e,t,i)})),i.promise}const EO=new Map;function SS(n,e,t){if(!t)throw new Ne(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CO(n,e,t,i){if(!0===e&&!0===i)throw new Ne(we.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function DO(n){if(!et.isDocumentKey(n))throw new Ne(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TO(n){if(et.isDocumentKey(n))throw new Ne(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bD(n);throw new Ne(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function IO(n,e){if(e<=0)throw new Ne(we.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class AO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,CO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class C0{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AO({}),this._settingsFrozen=!1,e instanceof ka?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ne(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Lh;switch(t.type){case"gapi":const i=t.client;return Pt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new UE(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=EO.get(e);t&&(ze("ComponentProvider","Removing Datastore"),EO.delete(e),t.terminate())}(this),Promise.resolve()}}class fi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fi(this.firestore,e,this._key)}}class Cs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Ac extends Cs{constructor(e,t,i){super(e,t,Wh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fi(this.firestore,null,new et(e))}withConverter(e){return new Ac(this.firestore,e,this._path)}}function SO(n,e,...t){if(n=(0,cn.m9)(n),SS("collection","path",e),n instanceof C0){const i=hn.fromString(e,...t);return TO(i),new Ac(n,null,i)}{if(!(n instanceof fi||n instanceof Ac))throw new Ne(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hn.fromString(e,...t));return TO(i),new Ac(n.firestore,null,i)}}function wD(n,e,...t){if(n=(0,cn.m9)(n),1===arguments.length&&(e=jE.R()),SS("doc","path",e),n instanceof C0){const i=hn.fromString(e,...t);return DO(i),new fi(n,null,new et(i))}{if(!(n instanceof fi||n instanceof Ac))throw new Ne(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hn.fromString(e,...t));return DO(i),new fi(n.firestore,n instanceof Ac?n.converter:null,new et(i))}}function xO(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),(n instanceof fi||n instanceof Ac)&&(e instanceof fi||e instanceof Ac)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function MO(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),n instanceof Cs&&e instanceof Cs&&n.firestore===e.firestore&&Zu(n._query,e._query)&&n.converter===e.converter}class eN{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new mD(this,"async_queue_retry"),this.qa=()=>{const t=y0();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=y0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=y0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new pr;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Me.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!id(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(i=>{throw this.$a=i,this.Ba=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(i)),i}).then(i=>(this.Ba=!1,i))));return this.ka=t,t}enqueueAfterDelay(e,t,i){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const r=jA.createAndSchedule(this,e,t,i,l=>this.ja(l));return this.Fa.push(r),r}Ka(){this.$a&&mt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Me.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function xS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class tN{constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ei extends C0{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new eN,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||OO(this),this._firestoreClient.terminate()}}function yr(n){return n._firestoreClient||OO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function OO(n){var e;const t=n._freezeSettings(),i=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $E(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new GF(n._authCredentials,n._appCheckCredentials,n._queue,i)}function RO(n,e,t){const i=new pr;return n.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield gO(n,t),yield _O(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(l=r).name?l.code===we.FAILED_PRECONDITION||l.code===we.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var l})).then(()=>i.promise)}function kO(n){if(n._initialized||n._terminated)throw new Ne(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(er.fromBase64String(e))}catch(t){throw new Ne(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sc(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cm{constructor(e){this._methodName=e}}class ED{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const dN=/^__.*__$/;class hN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Qu(e,this.data,this.fieldMask,t,this.fieldTransforms):new em(e,this.data,t,this.fieldTransforms)}}class PO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Qu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class CD{constructor(e,t,i,r,l,u){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===l&&this.Ya(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new CD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.nc(e),r}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.Ya(),r}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return ID(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(FO(this.Xa)&&dN.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class fN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||Q_(e)}ac(e,t,i,r=!1){return new CD({Xa:e,methodName:t,uc:i,path:Xi.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Dm(n){const e=n._freezeSettings(),t=Q_(n._databaseId);return new fN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DD(n,e,t,i,r,l={}){const u=n.ac(l.merge||l.mergeFields?2:0,e,t,r);kS("Data must be an object, but it was:",u,i);const f=VO(i,u);let _,w;if(l.merge)_=new Gu(u.fieldMask),w=u.fieldTransforms;else if(l.mergeFields){const T=[];for(const M of l.mergeFields){const N=PS(e,M,t);if(!u.contains(N))throw new Ne(we.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);UO(T,N)||T.push(N)}_=new Gu(T),w=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,w=u.fieldTransforms;return new hN(new zr(f),_,w)}class D0 extends Cm{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D0}}function NO(n,e,t){return new CD({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class MS extends Cm{_toFieldTransform(e){return new Yu(e.path,new Yp)}isEqual(e){return e instanceof MS}}class pN extends Cm{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=NO(this,e,!0),i=this.cc.map(l=>Tm(l,t)),r=new mc(i);return new Yu(e.path,r)}isEqual(e){return this===e}}class mN extends Cm{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=NO(this,e,!0),i=this.cc.map(l=>Tm(l,t)),r=new Ku(i);return new Yu(e.path,r)}isEqual(e){return this===e}}class gN extends Cm{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Zh(e.M,Zp(e.M,this.hc));return new Yu(e.path,t)}isEqual(e){return this===e}}function OS(n,e,t,i){const r=n.ac(1,e,t);kS("Data must be an object, but it was:",r,i);const l=[],u=zr.empty();uc(i,(_,w)=>{const T=TD(e,_,t);w=(0,cn.m9)(w);const M=r.sc(T);if(w instanceof D0)l.push(T);else{const N=Tm(w,M);null!=N&&(l.push(T),u.set(T,N))}});const f=new Gu(l);return new PO(u,f,r.fieldTransforms)}function RS(n,e,t,i,r,l){const u=n.ac(1,e,t),f=[PS(e,i,t)],_=[r];if(l.length%2!=0)throw new Ne(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<l.length;N+=2)f.push(PS(e,l[N])),_.push(l[N+1]);const w=[],T=zr.empty();for(let N=f.length-1;N>=0;--N)if(!UO(w,f[N])){const H=f[N];let Z=_[N];Z=(0,cn.m9)(Z);const ce=u.sc(H);if(Z instanceof D0)w.push(H);else{const Ve=Tm(Z,ce);null!=Ve&&(w.push(H),T.set(H,Ve))}}const M=new Gu(w);return new PO(T,M,u.fieldTransforms)}function LO(n,e,t,i=!1){return Tm(t,n.ac(i?4:3,e))}function Tm(n,e){if(BO(n=(0,cn.m9)(n)))return kS("Unsupported field value:",e,n),VO(n,e);if(n instanceof Cm)return function(t,i){if(!FO(i.Xa))throw i.rc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,i){const r=[];let l=0;for(const u of t){let f=Tm(u,i.ic(l));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),l++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,cn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zp(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=li.fromDate(t);return{timestampValue:gc(i.M,r)}}if(t instanceof li){const r=new li(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gc(i.M,r)}}if(t instanceof ED)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sc)return{bytesValue:Jh(i.M,t._byteString)};if(t instanceof fi){const r=i.databaseId,l=t.firestore._databaseId;if(!l.isEqual(r))throw i.rc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Fb(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.rc(`Unsupported field value: ${bD(t)}`)}(n,e)}function VO(n,e){const t={};return HE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uc(n,(i,r)=>{const l=Tm(r,e.tc(i));null!=l&&(t[i]=l)}),{mapValue:{fields:t}}}function BO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof li||n instanceof ED||n instanceof Sc||n instanceof fi||n instanceof Cm)}function kS(n,e,t){if(!BO(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=bD(t);throw e.rc("an object"===i?n+" a custom object":n+" "+i)}var i}function PS(n,e,t){if((e=(0,cn.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return TD(n,e);throw ID("Field path arguments must be of type string or ",n,!1,void 0,t)}const _N=new RegExp("[~\\*/\\[\\]]");function TD(n,e,t){if(e.search(_N)>=0)throw ID(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch(i){throw ID(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ID(n,e,t,i,r){const l=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||u)&&(_+=" (found",l&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Ne(we.INVALID_ARGUMENT,f+n+_)}function UO(n,e){return n.some(t=>t.isEqual(e))}class T0{constructor(e,t,i,r,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(AD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yN extends T0{data(){return super.data()}}function AD(n,e){return"string"==typeof e?TD(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}class Im{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends T0{constructor(e,t,i,r,l,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new I0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(AD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class I0 extends fd{data(e={}){return super.data(e)}}class df{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Im(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new I0(this._firestore,this._userDataWriter,i.key,i,new Im(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new I0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Im(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new I0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Im(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),w=l.indexOf(u.doc.key)),{type:vN(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function jO(n,e){return n instanceof fd&&e instanceof fd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof df&&e instanceof df&&n._firestore===e._firestore&&MO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function HO(n){if(E_(n)&&0===n.explicitOrderBy.length)throw new Ne(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A0{}function hf(n,...e){for(const t of e)n=t._apply(n);return n}class bN extends A0{constructor(e,t,i){super(),this.lc=e,this.fc=t,this.dc=i,this.type="where"}_apply(e){const t=Dm(e.firestore),i=function(r,l,u,f,_,w,T){let M;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ne(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){ZO(T,w);const H=[];for(const Z of T)H.push(qO(f,r,Z));M={arrayValue:{values:H}}}else M=qO(f,r,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||ZO(T,w),M=LO(u,"where",T,"in"===w||"not-in"===w);const N=tr.create(_,w,M);return function(H,Z){if(Z.S()){const Ve=qp(H);if(null!==Ve&&!Ve.isEqual(Z.field))throw new Ne(we.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ve.toString()}' and '${Z.field.toString()}'`);const Ze=Wp(H);null!==Ze&&KO(0,Z.field,Ze)}const ce=function(Ve,Ze){for(const st of Ve.filters)if(Ze.indexOf(st.op)>=0)return st.op;return null}(H,function(Ve){switch(Ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==ce)throw new Ne(we.INVALID_ARGUMENT,ce===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${ce.toString()}' filters.`)}(r,N),N}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Cs(e.firestore,e.converter,function(r,l){const u=r.filters.concat([l]);return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class EN extends A0{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(i,r,l){if(null!==i.startAt)throw new Ne(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ne(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new zh(r,l);return function(f,_){if(null===Wp(f)){const w=qp(f);null!==w&&KO(0,w,_.field)}}(i,u),u}(e._query,this.lc,this._c);return new Cs(e.firestore,e.converter,function(i,r){const l=i.explicitOrderBy.concat([r]);return new ml(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class GO extends A0{constructor(e,t,i){super(),this.type=e,this.wc=t,this.mc=i}_apply(e){return new Cs(e.firestore,e.converter,aC(e._query,this.wc,this.mc))}}class $O extends A0{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=WO(e,this.type,this.gc,this.yc);return new Cs(e.firestore,e.converter,(r=t,new ml((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class zO extends A0{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=WO(e,this.type,this.gc,this.yc);return new Cs(e.firestore,e.converter,(r=t,new ml((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function WO(n,e,t,i){if(t[0]=(0,cn.m9)(t[0]),t[0]instanceof T0)return function(r,l,u,f,_){if(!f)throw new Ne(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const T of pc(r))if(T.field.isKeyField())w.push(Gh(l,f.key));else{const M=f.data.field(T.field);if(_b(M))throw new Ne(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const N=T.field.canonicalString();throw new Ne(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}w.push(M)}return new fc(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Dm(n.firestore);return function(l,u,f,_,w,T){const M=l.explicitOrderBy;if(w.length>M.length)throw new Ne(we.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let H=0;H<w.length;H++){const Z=w[H];if(M[H].field.isKeyField()){if("string"!=typeof Z)throw new Ne(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Z}`);if(!C_(l)&&-1!==Z.indexOf("/"))throw new Ne(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Z}' contains a slash.`);const ce=l.path.child(hn.fromString(Z));if(!et.isDocumentKey(ce))throw new Ne(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ce}' is not because it contains an odd number of segments.`);const Ve=new et(ce);N.push(Gh(u,Ve))}else{const ce=LO(f,_,Z);N.push(ce)}}return new fc(N,T)}(n._query,n.firestore._databaseId,r,e,t,i)}}function qO(n,e,t){if("string"==typeof(t=(0,cn.m9)(t))){if(""===t)throw new Ne(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C_(e)&&-1!==t.indexOf("/"))throw new Ne(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(hn.fromString(t));if(!et.isDocumentKey(i))throw new Ne(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Gh(n,new et(i))}if(t instanceof fi)return Gh(n,t._key);throw new Ne(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bD(t)}.`)}function ZO(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(we.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function KO(n,e,t){if(!t.isEqual(e))throw new Ne(we.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class FS{convertValue(e,t="none"){switch(dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($u(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){const i={};return uc(e.fields,(r,l)=>{i[r]=this.convertValue(l,t)}),i}convertGeoPoint(e){return new ED(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Up(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Bh(e));default:return null}}convertTimestamp(e){const t=wo(e);return new li(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=hn.fromString(e);Pt(RC(i));const r=new ka(i.get(1),i.get(3)),l=new et(i.popFirst(5));return r.isEqual(t)||Ri(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function SD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class MN extends FS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}class YO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Dm(e)}set(e,t,i){this._verifyNotCommitted();const r=ff(e,this._firestore),l=SD(r.converter,t,i),u=DD(this._dataReader,"WriteBatch.set",r._key,l,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,$i.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const l=ff(e,this._firestore);let u;return u="string"==typeof(t=(0,cn.m9)(t))||t instanceof hd?RS(this._dataReader,"WriteBatch.update",l._key,t,i,r):OS(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,$i.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ff(e,this._firestore);return this._mutations=this._mutations.concat(new A_(t._key,$i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ff(n,e){if((n=(0,cn.m9)(n)).firestore!==e)throw new Ne(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Am extends FS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}function QO(n,e,t){n=_n(n,fi);const i=_n(n.firestore,Ei),r=SD(n.converter,e,t);return ay(i,[DD(Dm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,$i.none())])}function JO(n,e,t,...i){n=_n(n,fi);const r=_n(n.firestore,Ei),l=Dm(r);let u;return u="string"==typeof(e=(0,cn.m9)(e))||e instanceof hd?RS(l,"updateDoc",n._key,e,t,i):OS(l,"updateDoc",n._key,e),ay(r,[u.toMutation(n._key,$i.exists(!0))])}function XO(n,...e){var t,i,r;n=(0,cn.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||xS(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges};if(xS(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,w,T;if(n instanceof fi)w=_n(n.firestore,Ei),T=Wh(n._key.path),_={next:M=>{e[u]&&e[u](NS(w,n,M))},error:e[u+1],complete:e[u+2]};else{const M=_n(n,Cs);w=_n(M.firestore,Ei),T=M._query;const N=new Am(w);_={next:H=>{e[u]&&e[u](new df(w,N,M,H))},error:e[u+1],complete:e[u+2]},HO(n._query)}return function(M,N,H,Z){const ce=new yD(Z),Ve=new qA(N,ce,H);return M.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return HA(yield oy(M),Ve)})),()=>{ce.Ia(),M.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return $A(yield oy(M),Ve)}))}}(yr(w),T,f,_)}function ay(n,e){return function(t,i){const r=new pr;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function CF(n,e,t){return JA.apply(this,arguments)}(yield IS(t),i,r)})),r.promise}(yr(n),e)}function NS(n,e,t){const i=t.docs.get(e._key),r=new Am(n);return new fd(n,r,e._key,i,new Im(t.hasPendingWrites,t.fromCache),e.converter)}class UN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Dm(e)}get(e){const t=ff(e,this._firestore),i=new MN(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return mt();const l=r[0];if(l.isFoundDocument())return new T0(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new T0(this._firestore,i,t._key,null,t.converter);throw mt()})}set(e,t,i){const r=ff(e,this._firestore),l=SD(r.converter,t,i),u=DD(this._dataReader,"Transaction.set",r._key,l,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const l=ff(e,this._firestore);let u;return u="string"==typeof(t=(0,cn.m9)(t))||t instanceof hd?RS(this._dataReader,"Transaction.update",l._key,t,i,r):OS(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=ff(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ff(e,this._firestore),i=new Am(this._firestore);return super.get(e).then(r=>new fd(this._firestore,i,t._key,r._document,new Im(!1,!1),t.converter))}}function LS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function tR(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function nR(){if(!function $I(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Fh=Pr.SDK_VERSION,(0,Pr._registerComponent)(new op.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=new Ei(r,new mb(t.getProvider("auth-internal")),new UM(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC")),(0,Pr.registerVersion)(NE,"3.4.8",n),(0,Pr.registerVersion)(NE,"3.4.8","esm2017")}();class S0{constructor(e){this._delegate=e}static fromBase64String(e){return nR(),new S0(Sc.fromBase64String(e))}static fromUint8Array(e){return tR(),new S0(Sc.fromUint8Array(e))}toBase64(){return nR(),this._delegate.toBase64()}toUint8Array(){return tR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function VS(n){return function KN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class YN{enableIndexedDbPersistence(e,t){return function iN(n,e){kO(n=_n(n,Ei));const t=yr(n),i=n._freezeSettings(),r=new vS;return RO(t,r,new pO(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function rN(n){kO(n=_n(n,Ei));const e=yr(n),t=n._freezeSettings(),i=new vS;return RO(e,i,new BF(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function sN(n){if(n._initialized&&!n._terminated)throw new Ne(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(t=(0,Me.Z)(function*(i){if(!js.vt())return Promise.resolve();const r=i+"main";yield js.delete(r)}),function(i){return t.apply(this,arguments)})(G_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class iR{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ka||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Nh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function JF(n,e,t,i={}){var r;const l=(n=_n(n,C0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Nh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=Nr.MOCK_USER;else{u=(0,cn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ne(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Nr(_)}n._authCredentials=new VM(new BE(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function aN(n){return function $F(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield yO(n),t=yield vO(n);return e.setNetworkEnabled(!0),function(i){const r=it(i);return r.fu.delete(0),J_(r)}(t)}))}(yr(n=_n(n,Ei)))}(this._delegate)}disableNetwork(){return function lN(n){return function zF(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield yO(n),t=yield vO(n);return e.setNetworkEnabled(!1),(i=(0,Me.Z)(function*(r){const l=it(r);l.fu.add(0),yield gm(l),l.wu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(yr(n=_n(n,Ei)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,CO("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oN(n){return function(e){const t=new pr;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function AF(n,e){return iS.apply(this,arguments)}(yield IS(e),t)})),t.promise}(yr(n=_n(n,Ei)))}(this._delegate)}onSnapshotsInSync(e){return function BN(n,e){return function ZF(n,e){const t=new yD(e);return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield oy(n),r=t,it(i).Eu.add(r),void r.next();var i,r})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield oy(n),r=t,void it(i).Eu.delete(r);var i,r}))}}(yr(n=_n(n,Ei)),xS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ly(this,SO(this._delegate,e))}catch(t){throw Gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Va(this,wD(this._delegate,e))}catch(t){throw Gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $s(this,function XF(n,e){if(n=_n(n,C0),SS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(we.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cs(n,null,(t=e,new ml(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function jN(n,e){return function KF(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const i=yield(r=n,vD(r).then(l=>l.datastore));var r;new HF(n.asyncQueue,i,e,t).run()})),t.promise}(yr(n=_n(n,Ei)),t=>e(new UN(n,t)))}(this._delegate,t=>e(new rR(this,t)))}batch(){return yr(this._delegate),new sR(new YO(this._delegate,e=>ay(this._delegate,e)))}loadBundle(e){return function cN(n,e){const t=yr(n=_n(n,Ei)),i=new tN;return function YF(n,e,t,i){const r=function(l,u){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return mO(_,w);if(_ instanceof ArrayBuffer)return mO(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new UF(_,u);var _}(t,Q_(e));n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function VF(n,e,t){const i=it(n);var r;(r=(0,Me.Z)(function*(l,u,f){try{const _=yield u.getMetadata();if(yield function(N,H){const Z=it(N),ce=mr(H.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",Ve=>Z._s.getBundleMetadata(Ve,H.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(ce)>=0)}(l.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(N=_).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);f._updateProgress(rO(_));const w=new _F(_,l.localStore,u.M);let T=yield u.da();for(;T;){const N=yield w.ku(T);N&&f._updateProgress(N),T=yield u.da()}const M=yield w.complete();return yield dd(l,M.Fu,void 0),yield function(N,H){const Z=it(N);return Z.persistence.runTransaction("Save bundle","readwrite",ce=>Z._s.saveBundleMetadata(ce,H))}(l.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Ou)}catch(_){return Nh("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var N}),function(l,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield IS(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function uN(n,e){return function QF(n,e){return n.asyncQueue.enqueue((0,Me.Z)(function*(){return function(t,i){const r=it(t);return r.persistence.runTransaction("Get named query","readonly",l=>r._s.getNamedQuery(l,i))}(yield TS(n),e)}))}(yr(n=_n(n,Ei)),e).then(t=>t?new Cs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new $s(this,t):null)}}class xD extends FS{constructor(e){super(),this.firestore=e}convertBytes(e){return new S0(new Sc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Va.forKey(t,this.firestore,null)}}class rR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}get(e){const t=xm(e);return this._delegate.get(t).then(i=>new x0(this._firestore,new fd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=xm(e);return i?(LS("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const l=xm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...r),this}delete(e){const t=xm(e);return this._delegate.delete(t),this}}class sR{constructor(e){this._delegate=e}set(e,t,i){const r=xm(e);return i?(LS("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const l=xm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...r),this}delete(e){const t=xm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new I0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new M0(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Sm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let l=r.get(t);return l||(l=new Sm(e,new xD(e),t),r.set(t,l)),l}}Sm.INSTANCES=new WeakMap;class Va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Va(t,new fi(t._delegate,i,new et(e)))}static forKey(e,t,i){return new Va(t,new fi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ly(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ly(this.firestore,SO(this._delegate,e))}catch(t){throw Gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,cn.m9)(e))instanceof fi&&xO(this._delegate,e)}set(e,t){t=LS("DocumentReference.set",t);try{return t?QO(this._delegate,e,t):QO(this._delegate,e)}catch(i){throw Gs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?JO(this._delegate,e):JO(this._delegate,e,t,...i)}catch(r){throw Gs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function LN(n){return ay(_n(n.firestore,Ei),[new A_(n._key,$i.none())])}(this._delegate)}onSnapshot(...e){const t=oR(e),i=aR(e,r=>new x0(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return XO(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function RN(n){n=_n(n,fi);const e=_n(n.firestore,Ei),t=yr(e),i=new Am(e);return function WF(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,l,u){try{const f=yield function(_,w){const T=it(_);return T.persistence.runTransaction("read document","readonly",M=>T.ci.Ls(M,w))}(r,l);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Ne(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ny(f,`Failed to get document '${l} from cache`);u.reject(_)}}),function(r,l,u){return i.apply(this,arguments)})(yield TS(n),e,t);var i})),t.promise}(t,n._key).then(r=>new fd(e,i,n._key,r,new Im(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function kN(n){n=_n(n,fi);const e=_n(n.firestore,Ei);return bO(yr(e),n._key,{source:"server"}).then(t=>NS(e,n,t))}(this._delegate):function ON(n){n=_n(n,fi);const e=_n(n.firestore,Ei);return bO(yr(e),n._key).then(t=>NS(e,n,t))}(this._delegate),t.then(i=>new x0(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Va(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}function Gs(n,e,t){return n.message=n.message.replace(e,t),n}function oR(n){for(const e of n)if("object"==typeof e&&!VS(e))return e;return{}}function aR(n,e){var t,i;let r;return r=VS(n[0])?n[0]:VS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{r.next&&r.next(e(l))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class x0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return jO(this._delegate,e._delegate)}}class M0 extends x0{data(e){const t=this._delegate.data(e);return function VE(n,e){n||mt()}(void 0!==t),t}}class $s{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}where(e,t,i){try{return new $s(this.firestore,hf(this._delegate,function wN(n,e,t){const i=e,r=AD("where",n);return new bN(r,i,t)}(e,t,i)))}catch(r){throw Gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $s(this.firestore,hf(this._delegate,function CN(n,e="asc"){const t=e,i=AD("orderBy",n);return new EN(i,t)}(e,t)))}catch(i){throw Gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $s(this.firestore,hf(this._delegate,function DN(n){return IO("limit",n),new GO("limit",n,"F")}(e)))}catch(t){throw Gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $s(this.firestore,hf(this._delegate,function TN(n){return IO("limitToLast",n),new GO("limitToLast",n,"L")}(e)))}catch(t){throw Gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $s(this.firestore,hf(this._delegate,function IN(...n){return new $O("startAt",n,!0)}(...e)))}catch(t){throw Gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $s(this.firestore,hf(this._delegate,function AN(...n){return new $O("startAfter",n,!1)}(...e)))}catch(t){throw Gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $s(this.firestore,hf(this._delegate,function SN(...n){return new zO("endBefore",n,!1)}(...e)))}catch(t){throw Gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $s(this.firestore,hf(this._delegate,function xN(...n){return new zO("endAt",n,!0)}(...e)))}catch(t){throw Gs(t,"endAt()","Query.endAt()")}}isEqual(e){return MO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function FN(n){n=_n(n,Cs);const e=_n(n.firestore,Ei),t=yr(e),i=new Am(e);return function qF(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,l,u){try{const f=yield a0(r,l,!0),_=new aO(l,f.li),w=_.Gu(f.documents),T=_.applyChanges(w,!1);u.resolve(T.snapshot)}catch(f){const _=ny(f,`Failed to execute query '${l} against cache`);u.reject(_)}}),function(r,l,u){return i.apply(this,arguments)})(yield TS(n),e,t);var i})),t.promise}(t,n._query).then(r=>new df(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function NN(n){n=_n(n,Cs);const e=_n(n.firestore,Ei),t=yr(e),i=new Am(e);return wO(t,n._query,{source:"server"}).then(r=>new df(e,i,n,r))}(this._delegate):function PN(n){n=_n(n,Cs);const e=_n(n.firestore,Ei),t=yr(e),i=new Am(e);return HO(n._query),wO(t,n._query).then(r=>new df(e,i,n,r))}(this._delegate),t.then(i=>new BS(this.firestore,new df(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=oR(e),i=aR(e,r=>new BS(this.firestore,new df(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return XO(this._delegate,t,i)}withConverter(e){return new $s(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}class JN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new M0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class BS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new M0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new JN(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new M0(this._firestore,i))})}isEqual(e){return jO(this._delegate,e._delegate)}}class ly extends $s{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Va(this.firestore,e):null}doc(e){try{return new Va(this.firestore,void 0===e?wD(this._delegate):wD(this._delegate,e))}catch(t){throw Gs(t,"doc()","CollectionReference.doc()")}}add(e){return function VN(n,e){const t=_n(n.firestore,Ei),i=wD(n),r=SD(n.converter,e);return ay(t,[DD(Dm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,$i.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Va(this.firestore,t))}isEqual(e){return xO(this._delegate,e._delegate)}withConverter(e){return new ly(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}function xm(n){return _n(n,fi)}class US{constructor(...e){this._delegate=new hd(...e)}static documentId(){return new US(Xi.keyField().canonicalString())}isEqual(e){return(e=(0,cn.m9)(e))instanceof hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Mm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function GN(){return new MS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Mm(e)}static delete(){const e=function HN(){return new D0("deleteField")}();return e._methodName="FieldValue.delete",new Mm(e)}static arrayUnion(...e){const t=function $N(...n){return new pN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Mm(t)}static arrayRemove(...e){const t=function zN(...n){return new mN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Mm(t)}static increment(e){const t=function WN(n){return new gN("increment",n)}(e);return t._methodName="FieldValue.increment",new Mm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const XN={Firestore:iR,GeoPoint:ED,Timestamp:li,Blob:S0,Transaction:rR,WriteBatch:sR,DocumentReference:Va,DocumentSnapshot:x0,Query:$s,QueryDocumentSnapshot:M0,QuerySnapshot:BS,CollectionReference:ly,FieldPath:US,FieldValue:Mm,setLogLevel:function QN(n){!function LE(n){cc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function lR(n,e){return function nL(n,e=Zo.z){return new jn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function jS(n,e){return lR(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function MD(n,e){return jS(n,e).pipe(oi(void 0),dh(),(0,pt.U)(([t,i])=>{const r=i.payload.docChanges(),l=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(T=>T.doc.ref.isEqual(u.ref)),w=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),l}))}function cR(n,e,t){return MD(n,t).pipe((0,ms.R)((i,r)=>function rL(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function sL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return HS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return HS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return HS(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(l=>l.payload),e),[]),(0,Wg.x)(),(0,pt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function HS(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function uR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function tL(n){(function eL(n,e){n.INTERNAL.registerComponent(new op.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},XN)))})(n,(e,t)=>new iR(e,t,new YN)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(FM.Z);class dR{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=MD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(oi(void 0),dh(),(0,En.h)(([i,r])=>r.length>0||!i),(0,pt.U)(([i,r])=>r),Ji.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ms.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=uR(e);return cR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return jS(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Ji.iC)}get(e){return(0,Un.D)(this.query.get(e)).pipe(Ji.iC)}add(e){return this.ref.add(e)}doc(e){return new hR(this.ref.doc(e),this.afs)}}class hR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:l}=mR(i,t);return new dR(r,l,this.afs)}snapshotChanges(){return function iL(n,e){return lR(n,e).pipe(oi(void 0),dh(),(0,pt.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Un.D)(this.ref.get(e)).pipe(Ji.iC)}}class oL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?MD(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,En.h)(t=>t.length>0),Ji.iC):MD(this.query,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ms.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=uR(e);return cR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return jS(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Ji.iC)}get(e){return(0,Un.D)(this.query.get(e)).pipe(Ji.iC)}}const fR=new a.OlP("angularfire2.enableFirestorePersistence"),pR=new a.OlP("angularfire2.firestore.persistenceSettings"),aL=new a.OlP("angularfire2.firestore.settings"),lL=new a.OlP("angularfire2.firestore.use-emulator");function mR(n,e=(t=>t)){return{query:e(n),ref:n}}let pf=(()=>{class n{constructor(t,i,r,l,u,f,_,w,T,M,N,H,Z,ce,Ve,Ze,st){this.schedulers=_;const ut=(0,qo.on)(t,f,i),gt=T;M&&bv(ut,f,N,Z,ce,Ve,H,Ze),[this.firestore,this.persistenceEnabled$]=(0,qo.cc)(`${ut.name}.firestore`,"AngularFirestore",ut.name,()=>{const Kt=f.runOutsideAngular(()=>ut.firestore());if(l&&Kt.settings(l),gt&&Kt.useEmulator(...gt),r&&!Vi(u)){const rn=()=>{try{return(0,Un.D)(Kt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Sn){return"undefined"!=typeof console&&console.warn(Sn),(0,lt.of)(!1)}};return[Kt,f.runOutsideAngular(rn)]}return[Kt,(0,lt.of)(!1)]},[l,gt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:u}=mR(r,i),f=this.schedulers.ngZone.run(()=>l);return new dR(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),l=this.firestore.collectionGroup(t);return new oL(r(l),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new hR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(qo.Dh),a.LFG(qo.xv,8),a.LFG(fR,8),a.LFG(aL,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ji.HU),a.LFG(pR,8),a.LFG(lL,8),a.LFG(dp,8),a.LFG(Uw,8),a.LFG(jw,8),a.LFG(zg,8),a.LFG(dI,8),a.LFG(Hw,8),a.LFG(vv,8),a.LFG(vo,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cL=(()=>{class n{constructor(){$g.Z.registerVersion("angularfire",Ji.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:fR,useValue:!0},{provide:pR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[pf]}),n})(),gR=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Om=(()=>{class n extends gR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const vl=new a.OlP("NgValueAccessor"),hL={provide:vl,useExisting:(0,a.Gpc)(()=>mf),multi:!0},pL=new a.OlP("CompositionEventMode");let mf=(()=>{class n extends gR{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fL(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(pL,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[a._Bn([hL]),a.qOj]}),n})();function gf(n){return null==n||0===n.length}function yR(n){return null!=n&&"number"==typeof n.length}const Ds=new a.OlP("NgValidators"),_f=new a.OlP("NgAsyncValidators"),mL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bl{static min(e){return vR(e)}static max(e){return function bR(n){return e=>{if(gf(e.value)||gf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return wR(e)}static requiredTrue(e){return function ER(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function CR(n){return gf(n.value)||mL.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function DR(n){return e=>gf(e.value)||!yR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function TR(n){return e=>yR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function IR(n){if(!n)return OD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(gf(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return RR(e)}static composeAsync(e){return kR(e)}}function vR(n){return e=>{if(gf(e.value)||gf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function wR(n){return gf(n.value)?{required:!0}:null}function OD(n){return null}function AR(n){return null!=n}function SR(n){const e=(0,a.QGY)(n)?(0,Un.D)(n):n;return(0,a.CqO)(e),e}function xR(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function MR(n,e){return e.map(t=>t(n))}function OR(n){return n.map(e=>function gL(n){return!n.validate}(e)?e:t=>e.validate(t))}function RR(n){if(!n)return null;const e=n.filter(AR);return 0==e.length?null:function(t){return xR(MR(t,e))}}function GS(n){return null!=n?RR(OR(n)):null}function kR(n){if(!n)return null;const e=n.filter(AR);return 0==e.length?null:function(t){return function uL(...n){const e=(0,Lo.jO)(n),{args:t,keys:i}=Cn(n),r=new jn.y(l=>{const{length:u}=t;if(!u)return void l.complete();const f=new Array(u);let _=u,w=u;for(let T=0;T<u;T++){let M=!1;(0,iu.Xf)(t[T]).subscribe((0,Ui.x)(l,N=>{M||(M=!0,w--),f[T]=N},()=>_--,void 0,()=>{(!_||!M)&&(w||l.next(i?Fd(i,f):f),l.complete())}))}});return e?r.pipe(Bl(e)):r}(MR(t,e).map(SR)).pipe((0,pt.U)(xR))}}function $S(n){return null!=n?kR(OR(n)):null}function PR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function FR(n){return n._rawValidators}function NR(n){return n._rawAsyncValidators}function zS(n){return n?Array.isArray(n)?n:[n]:[]}function RD(n,e){return Array.isArray(n)?n.includes(e):n===e}function LR(n,e){const t=zS(e);return zS(n).forEach(r=>{RD(t,r)||t.push(r)}),t}function VR(n,e){return zS(e).filter(t=>!RD(n,t))}class BR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xc extends BR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zs extends BR{get formDirective(){return null}get path(){return null}}class UR{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let cy=(()=>{class n extends UR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(xc,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[a.qOj]}),n})(),uy=(()=>{class n extends UR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(zs,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[a.qOj]}),n})();function PD(n,e){return[...e.path,n]}function O0(n,e){ZS(n,e),e.valueAccessor.writeValue(n.value),function DL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&HR(n,e)})}(n,e),function IL(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function TL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&HR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function CL(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function FD(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),LD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ND(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ZS(n,e){const t=FR(n);null!==e.validator?n.setValidators(PR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=NR(n);null!==e.asyncValidator?n.setAsyncValidators(PR(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ND(e._rawValidators,r),ND(e._rawAsyncValidators,r)}function LD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=FR(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(u=>u!==e.validator);l.length!==r.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const r=NR(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(u=>u!==e.asyncValidator);l.length!==r.length&&(t=!0,n.setAsyncValidators(l))}}}const i=()=>{};return ND(e._rawValidators,i),ND(e._rawAsyncValidators,i),t}function HR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function GR(n,e){ZS(n,e)}function zR(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function QS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const R0="VALID",VD="INVALID",dy="PENDING",k0="DISABLED";function XS(n){return(BD(n)?n.validators:n)||null}function WR(n){return Array.isArray(n)?GS(n):n||null}function ex(n,e){return(BD(e)?e.asyncValidators:n)||null}function qR(n){return Array.isArray(n)?$S(n):n||null}function BD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const tx=n=>n instanceof ix,UD=n=>n instanceof P0,ZR=n=>n instanceof JR;function KR(n){return tx(n)?n.value:n.getRawValue()}function YR(n,e){const t=UD(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")}function QR(n,e){UD(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})}class nx{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=WR(this._rawValidators),this._composedAsyncValidatorFn=qR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===R0}get invalid(){return this.status===VD}get pending(){return this.status==dy}get disabled(){return this.status===k0}get enabled(){return this.status!==k0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=WR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=qR(e)}addValidators(e){this.setValidators(LR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VR(e,this._rawAsyncValidators))}hasValidator(e){return RD(this._rawValidators,e)}hasAsyncValidator(e){return RD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=dy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=k0,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=R0,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===R0||this.status===dy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?k0:R0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=dy,this._hasOwnPendingAsyncValidator=!0;const t=SR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function ML(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=UD(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:ZR(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?k0:this.errors?VD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dy)?dy:this._anyControlsHaveStatus(VD)?VD:R0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){BD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ix extends nx{constructor(e=null,t,i){super(XS(t),ex(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),BD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class P0 extends nx{constructor(e,t,i){super(XS(t),ex(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){QR(this,e),Object.keys(e).forEach(i=>{YR(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=KR(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,l)=>{i=t(i,r,l)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class JR extends nx{constructor(e,t,i){super(XS(t),ex(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){QR(this,e),e.forEach((i,r)=>{YR(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>KR(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const OL={provide:zs,useExisting:(0,a.Gpc)(()=>N0)},F0=(()=>Promise.resolve(null))();let N0=(()=>{class n extends zs{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new P0({},GS(t),$S(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){F0.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),O0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){F0.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){F0.then(()=>{const i=this._findContainer(t.path),r=new P0({});GR(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){F0.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){F0.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,zR(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ds,10),a.Y36(_f,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([OL]),a.qOj]}),n})(),XR=(()=>{class n extends zs{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return PD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),hy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const PL={provide:vl,useExisting:(0,a.Gpc)(()=>jD),multi:!0};let jD=(()=>{class n extends Om{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[a._Bn([PL]),a.qOj]}),n})(),ik=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const rx=new a.OlP("NgModelWithFormControlWarning"),BL={provide:zs,useExisting:(0,a.Gpc)(()=>Mc)};let Mc=(()=>{class n extends zs{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(LD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return O0(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){FD(t.control||null,t,!1),QS(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,zR(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(FD(i||null,t),tx(r)&&(O0(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);GR(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function AL(n,e){return LD(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ZS(this.form,this),this._oldForm&&LD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ds,10),a.Y36(_f,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([BL]),a.qOj,a.TTD]}),n})();const UL={provide:zs,useExisting:(0,a.Gpc)(()=>sx)};let sx=(()=>{class n extends XR{constructor(t,i,r){super(),this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){ak(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(zs,13),a.Y36(Ds,10),a.Y36(_f,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a._Bn([UL]),a.qOj]}),n})();const jL={provide:zs,useExisting:(0,a.Gpc)(()=>HD)};let HD=(()=>{class n extends zs{constructor(t,i,r){super(),this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return PD(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ak(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(zs,13),a.Y36(Ds,10),a.Y36(_f,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a._Bn([jL]),a.qOj]}),n})();function ak(n){return!(n instanceof sx||n instanceof Mc||n instanceof HD)}const HL={provide:xc,useExisting:(0,a.Gpc)(()=>Rm)};let Rm=(()=>{class n extends xc{constructor(t,i,r,l,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function YS(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(l=>{l.constructor===mf?t=l:function xL(n){return Object.getPrototypeOf(n.constructor)===Om}(l)?i=l:r=l}),r||i||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function KS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return PD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(zs,13),a.Y36(Ds,10),a.Y36(_f,10),a.Y36(vl,10),a.Y36(rx,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([HL]),a.qOj,a.TTD]}),n})();let km=(()=>{class n{constructor(){this._validator=OD}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):OD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const QL={provide:Ds,useExisting:(0,a.Gpc)(()=>GD),multi:!0};let GD=(()=>{class n extends km{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function dk(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>vR(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[a._Bn([QL]),a.qOj]}),n})();const JL={provide:Ds,useExisting:(0,a.Gpc)(()=>$D),multi:!0};let $D=(()=>{class n extends km{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function KL(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>wR}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([JL]),a.qOj]}),n})(),rV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ik]]}),n})(),yk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rx,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rV]}),n})(),lx=(()=>{class n{group(t,i=null){const r=this._reduceControls(t);let f,l=null,u=null;return null!=i&&(function sV(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(l=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,f=null!=i.updateOn?i.updateOn:void 0):(l=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new P0(r,{asyncValidators:u,updateOn:f,validators:l})}control(t,i,r){return new ix(t,i,r)}array(t,i,r){const l=t.map(u=>this._createControl(u));return new JR(l,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return tx(t)||UD(t)||ZR(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:yk}),n})(),zD=(()=>{class n{constructor(t){this.formBuilder=t}createUnitForm(){return this.formBuilder.group({unitValue:this.formBuilder.control("",[bl.required])})}createLoginForm(){return this.formBuilder.group({login:this.formBuilder.control("",[bl.required,bl.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),password:this.formBuilder.control("",[bl.required])})}createFlavorForm(){return this.formBuilder.group({name:this.formBuilder.control("",[bl.required])})}createOrderForm(){return this.formBuilder.group({order:this.formBuilder.array([])})}createClientForm(){return this.formBuilder.group({firstName:this.formBuilder.control("",[bl.required]),lastName:this.formBuilder.control("",[bl.required])})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(lx))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vk{}const pd="*";function fy(n,e){return{type:7,name:n,definitions:e,options:{}}}function Pm(n,e=null){return{type:4,styles:e,timings:n}}function bk(n,e=null){return{type:2,steps:n,options:e}}function Ws(n){return{type:6,styles:n,offset:null}}function wl(n,e,t){return{type:0,name:n,styles:e,options:t}}function yf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function aV(n=null){return{type:9,options:n}}function lV(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function wk(n){Promise.resolve(null).then(n)}class L0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Ek{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const l=this.players.length;0==l?wk(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==l&&this._onFinish()}),u.onDestroy(()=>{++i==l&&this._onDestroy()}),u.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Ck=["toast-component",""];function cV(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){return a.CHM(t),a.oxw().remove()}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function uV(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.hij("[",t.duplicatesCount+1,"]")}}function dV(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,uV,2,1,"ng-container",4),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.titleClass),a.uIk("aria-label",t.title),a.xp6(1),a.hij(" ",t.title," "),a.xp6(1),a.Q6J("ngIf",t.duplicatesCount)}}function hV(n,e){if(1&n&&a._UZ(0,"div",7),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.Q6J("innerHTML",t.message,a.oJD)}}function fV(n,e){if(1&n&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.uIk("aria-label",t.message),a.xp6(1),a.hij(" ",t.message," ")}}function pV(n,e){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Udp("width",t.width+"%")}}function mV(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){return a.CHM(t),a.oxw().remove()}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function gV(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.hij("[",t.duplicatesCount+1,"]")}}function _V(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,gV,2,1,"ng-container",4),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.titleClass),a.uIk("aria-label",t.title),a.xp6(1),a.hij(" ",t.title," "),a.xp6(1),a.Q6J("ngIf",t.duplicatesCount)}}function yV(n,e){if(1&n&&a._UZ(0,"div",7),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.Q6J("innerHTML",t.message,a.oJD)}}function vV(n,e){if(1&n&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.Tol(t.options.messageClass),a.uIk("aria-label",t.message),a.xp6(1),a.hij(" ",t.message," ")}}function bV(n,e){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Udp("width",t.width+"%")}}class wV{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class WD{constructor(e,t,i,r,l,u){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=l,this.toastRef=u,this._onTap=new Nt.x,this._onAction=new Nt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Dk={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Tk=new a.OlP("ToastConfig");class CV{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Nt.x,this._activate=new Nt.x,this._manualClose=new Nt.x,this._resetTimeout=new Nt.x,this._countDuplicate=new Nt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class DV{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===WD?this._toastPackage:this._parentInjector.get(e,t,i)}}class TV extends class EV{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class IV{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let AV=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SV=(()=>{class n{constructor(t,i,r,l){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=l,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new TV(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new IV(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(AV),a.LFG(a._Vd),a.LFG(a.z2F),a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V0=(()=>{class n{constructor(t,i,r,l,u){this.overlay=i,this._injector=r,this.sanitizer=l,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,i,r={},l=""){return this._preBuildNotification(l,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,l){const{includeTitleDuplicates:u}=this.toastrConfig;for(const f of this.toasts){const _=u&&f.title===t;if((!u||_)&&f.message===i)return f.toastRef.onDuplicate(r,l),f}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,l)):this._buildNotification(t,i,r,l)}_buildNotification(t,i,r,l){if(!l.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let w=i;i&&l.enableHtml&&(w=this.sanitizer.sanitize(a.q3G.HTML,i));const T=new CV(_),M=new WD(this.index,l,w,r,t,T),N=new DV(M,this._injector),H=new wV(l.toastComponent,N),Z=_.attach(H,this.toastrConfig.newestOnTop);T.componentInstance=Z.instance;const ce={toastId:this.index,title:r||"",message:i||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:Z};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ce.toastRef.activate()})),this.toasts.push(ce),ce}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Tk),a.LFG(SV),a.LFG(a.zs3),a.LFG(ks),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xV=(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(V0),a.Y36(WD),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(a.d8E("@flyInOut",i.state),a.Tol(i.toastClasses),a.Udp("display",i.displayStyle))},attrs:Ck,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(a.YNc(0,cV,3,0,"button",0),a.YNc(1,dV,3,5,"div",1),a.YNc(2,hV,1,3,"div",2),a.YNc(3,fV,2,4,"div",3),a.YNc(4,pV,2,2,"div",4)),2&t&&(a.Q6J("ngIf",i.options.closeButton),a.xp6(1),a.Q6J("ngIf",i.title),a.xp6(1),a.Q6J("ngIf",i.message&&i.options.enableHtml),a.xp6(1),a.Q6J("ngIf",i.message&&!i.options.enableHtml),a.xp6(1),a.Q6J("ngIf",i.options.progressBar))},directives:[pe],encapsulation:2,data:{animation:[fy("flyInOut",[wl("inactive",Ws({opacity:0})),wl("active",Ws({opacity:1})),wl("removed",Ws({opacity:0})),yf("inactive => active",Pm("{{ easeTime }}ms {{ easing }}")),yf("active => removed",Pm("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const MV=Object.assign(Object.assign({},Dk),{toastComponent:xV});let OV=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:Tk,useValue:{default:MV,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ir]]}),n})(),RV=(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.appRef=r,this.width=-1,this.toastClasses="",this.state="inactive",this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(V0),a.Y36(WD),a.Y36(a.z2F))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(a.Tol(i.toastClasses),a.Udp("display",i.displayStyle))},attrs:Ck,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(a.YNc(0,mV,3,0,"button",0),a.YNc(1,_V,3,5,"div",1),a.YNc(2,yV,1,3,"div",2),a.YNc(3,vV,2,4,"div",3),a.YNc(4,bV,2,2,"div",4)),2&t&&(a.Q6J("ngIf",i.options.closeButton),a.xp6(1),a.Q6J("ngIf",i.title),a.xp6(1),a.Q6J("ngIf",i.message&&i.options.enableHtml),a.xp6(1),a.Q6J("ngIf",i.message&&!i.options.enableHtml),a.xp6(1),a.Q6J("ngIf",i.options.progressBar))},directives:[pe],encapsulation:2}),n})();Object.assign(Object.assign({},Dk),{toastComponent:RV});let kV=(()=>{class n{constructor(t,i,r,l){this.authService=t,this.db=i,this.formCreatorService=r,this.toast=l,this.userList=new gi.X([])}addUser(t,i){const r=t.trim(),l=i.trim();if(""===r||""===l)return void this.toast.error("Nie podano danych klienta","B\u0142\u0119dne dane");const u=`${r}.${l}@icecream.com`.toLowerCase();if(this.checkIfUserExist(u))return void this.toast.error("Klient o takich danych istnieje","Klient istnieje");const f=`${r} ${l}`;this.authService.createUser(u,"zaq1@WSX").pipe((0,Rn.w)(_=>this.db.doc(`users/${_.user.uid}`).set({uid:_.user.uid,email:u,displayName:f,role:"user",favoriteFlavors:[],lastOrder:{date:"",orderID:""}},{merge:!0}))).subscribe(),this.toast.success("Dodano nowego klienta","Klient dodany")}deleteUser(t){this.db.doc(`users/${t}`).delete()}getClients(){return this.db.collection("users").valueChanges().pipe((0,pt.U)(t=>t.filter(i=>"admin"!==i.role)),(0,kn.b)(t=>this.userList.next(t)))}checkIfUserExist(t){let i=!1;return this.userList.getValue().forEach(r=>{r.email===t&&(i=!0)}),i}createForm(){return this.formCreatorService.createClientForm()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wv),a.LFG(pf),a.LFG(zD),a.LFG(V0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ci(n){return null!=n&&"false"!=`${n}`}function py(n,e=0){return function PV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Ik(n){return Array.isArray(n)?n:[n]}function vr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function md(n){return n instanceof a.SBq?n.nativeElement:n}var Ak=A(8372);let Sk=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FV=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=md(t);return new jn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Nt.x,r=this._mutationObserverFactory.create(l=>i.next(l));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Sk))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NV=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ci(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=py(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,Ak.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(FV),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),LV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Sk]}),n})();const VV=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function BV(){return(0,a.f3M)(q)}}),UV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ux,qD=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new a.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function jV(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?UV.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(VV,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();try{ux="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ux=!1}let my,To=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function or(n){return n===Xs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ux)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ok(){if(my)return my;if("object"!=typeof document||!document)return my=new Set(Mk),my;let n=document.createElement("input");return my=new Set(Mk.filter(e=>(n.setAttribute("type",e),n.type===e))),my}let U0,Fm,dx;function ZD(n){return function HV(){if(null==U0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>U0=!0}))}finally{U0=U0||!1}return U0}()?n:!!n.capture}function GV(){if(null==Fm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fm=!1,Fm;if("scrollBehavior"in document.documentElement.style)Fm=!0;else{const n=Element.prototype.scrollTo;Fm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fm}function Rk(n){if(function $V(){if(null==dx){const n="undefined"!=typeof document?document.head:null;dx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return dx}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Nm(n){return n.composedPath?n.composedPath()[0]:n.target}function hx(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function vf(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var iB=A(5684),qr=A(2722);class Lk{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Nt.x,this._typeaheadSubscription=Or.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Nt.x,this.change=new Nt.x,e instanceof a.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,kn.b)(t=>this._pressedLetters.push(t)),(0,Ak.b)(e),(0,En.h)(()=>this._pressedLetters.length>0),(0,pt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const l=(this._activeItemIndex+r)%i.length,u=i[l];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!e[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||vf(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class oB extends Lk{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class Vk extends Lk{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function Uk(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function jk(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const hB=new a.OlP("cdk-input-modality-detector-options"),fB={ignoreKeys:[18,17,224,91,16]},gy=ZD({passive:!0,capture:!0});let pB=(()=>{class n{constructor(t,i,r,l){this._platform=t,this._mostRecentTarget=null,this._modality=new gi.X(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(w=>w===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Nm(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Uk(u)?"keyboard":"mouse"),this._mostRecentTarget=Nm(u))},this._onTouchstart=u=>{jk(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nm(u))},this._options=Object.assign(Object.assign({},fB),l),this.modalityDetected=this._modality.pipe((0,iB.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Wg.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,gy),r.addEventListener("mousedown",this._onMousedown,gy),r.addEventListener("touchstart",this._onTouchstart,gy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,gy),document.removeEventListener("mousedown",this._onMousedown,gy),document.removeEventListener("touchstart",this._onTouchstart,gy))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(To),a.LFG(a.R0b),a.LFG(q),a.LFG(hB,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mB=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function gB(){return null}}),_B=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let yB=(()=>{class n{constructor(t,i,r,l){this._ngZone=i,this._defaultOptions=l,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let l,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[l,u]=i,this.clear(),clearTimeout(this._previousTimeout),l||(l=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,i;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let l=0;l<i.length;l++)i[l].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(mB,8),a.LFG(a.R0b),a.LFG(q),a.LFG(_B,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vB=new a.OlP("cdk-focus-monitor-default-options"),JD=ZD({passive:!0,capture:!0});let px=(()=>{class n{constructor(t,i,r,l,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Nt.x,this._rootNodeFocusAndBlurListener=f=>{const _=Nm(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let T=_;T;T=T.parentElement)w.call(this,f,T)},this._document=l,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,i=!1){const r=md(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,lt.of)(null);const l=Rk(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Nt.x,rootNode:l};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=md(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const l=md(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),l=Nm(t);!r||!r.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,JD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,JD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,qr.R)(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,JD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,JD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,l)=>{(l===t||r.checkChildren&&l.contains(t))&&i.push([l,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(To),a.LFG(pB),a.LFG(q,8),a.LFG(vB,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gk="cdk-high-contrast-black-on-white",$k="cdk-high-contrast-white-on-black",mx="cdk-high-contrast-active";let bB=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(mx),t.remove(Gk),t.remove($k),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(mx),t.add(Gk)):2===i&&(t.add(mx),t.add($k))}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(To),a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gn=!1;function zk(n){return new a.vHH(3e3,gn)}function e2(){return"undefined"!=typeof window&&void 0!==window.document}function gx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function bf(n){switch(n.length){case 0:return new L0;case 1:return n[0];default:return new Ek(n)}}function Wk(n,e,t,i,r={},l={}){const u=[],f=[];let _=-1,w=null;if(i.forEach(T=>{const M=T.offset,N=M==_,H=N&&w||{};Object.keys(T).forEach(Z=>{let ce=Z,Ve=T[Z];if("offset"!==Z)switch(ce=e.normalizePropertyName(ce,u),Ve){case"!":Ve=r[Z];break;case pd:Ve=l[Z];break;default:Ve=e.normalizeStyleValue(Z,ce,Ve,u)}H[ce]=Ve}),N||f.push(H),w=H,_=M}),u.length)throw function GB(n){return new a.vHH(3502,gn)}();return f}function _x(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&yx(t,"start",n)));break;case"done":n.onDone(()=>i(t&&yx(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&yx(t,"destroy",n)))}}function yx(n,e,t){const i=t.totalTime,l=vx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),u=n._data;return null!=u&&(l._data=u),l}function vx(n,e,t,i,r="",l=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:l,disabled:!!u}}function ea(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function qk(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let bx=(n,e)=>!1,Zk=(n,e,t)=>[],Kk=null;function wx(n){const e=n.parentNode||n.host;return e===Kk?null:e}(gx()||"undefined"!=typeof Element)&&(e2()?(Kk=(()=>document.documentElement)(),bx=(n,e)=>{for(;e;){if(e===n)return!0;e=wx(e)}return!1}):bx=(n,e)=>n.contains(e),Zk=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Lm=null,Yk=!1;function Qk(n){Lm||(Lm=function n2(){return"undefined"!=typeof document?document.body:null}()||{},Yk=!!Lm.style&&"WebkitAppearance"in Lm.style);let e=!0;return Lm.style&&!function t2(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Lm.style,!e&&Yk&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Lm.style)),e}const Jk=bx,Xk=Zk;let e1=(()=>{class n{validateStyleProperty(t){return Qk(t)}matchesElement(t,i){return!1}containsElement(t,i){return Jk(t,i)}getParentElement(t){return wx(t)}query(t,i,r){return Xk(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,l,u,f=[],_){return new L0(r,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ex=(()=>{class n{}return n.NOOP=new e1,n})();const Cx="ng-enter",eT="ng-leave",tT="ng-trigger",nT=".ng-trigger",n1="ng-animating",Dx=".ng-animating";function Vm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Tx(parseFloat(e[1]),e[2])}function Tx(n,e){return"s"===e?1e3*n:n}function iT(n,e,t){return n.hasOwnProperty("duration")?n:function o2(n,e,t){let r,l=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(zk()),{duration:0,delay:0,easing:""};r=Tx(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=Tx(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function wB(){return new a.vHH(3100,gn)}()),f=!0),l<0&&(e.push(function EB(){return new a.vHH(3101,gn)}()),f=!0),f&&e.splice(_,0,zk())}return{duration:r,delay:l,easing:u}}(n,e,t)}function _y(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function wf(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else _y(n,t);return t}function s1(n,e,t){return t?e+":"+t+";":""}function o1(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=s1(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=s1(0,c2(t),n.style[t]));n.setAttribute("style",e)}function Oc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=Ax(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),gx()&&o1(n))}function Bm(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=Ax(t);n.style[i]=""}),gx()&&o1(n))}function G0(n){return Array.isArray(n)?1==n.length?n[0]:bk(n):n}const Ix=new RegExp("{{\\s*(.+?)\\s*}}","g");function a1(n){let e=[];if("string"==typeof n){let t;for(;t=Ix.exec(n);)e.push(t[1]);Ix.lastIndex=0}return e}function rT(n,e,t){const i=n.toString(),r=i.replace(Ix,(l,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function DB(n){return new a.vHH(3003,gn)}()),f=""),f.toString()});return r==i?n:r}function sT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const l2=/-+([a-z0-9])/g;function Ax(n){return n.replace(l2,(...e)=>e[1].toUpperCase())}function c2(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ta(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function TB(n){return new a.vHH(3004,gn)}()}}function l1(n,e){return window.getComputedStyle(n)[e]}function m2(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function g2(n,e,t){if(":"==n[0]){const _=function _2(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function BB(n){return new a.vHH(3016,gn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function VB(n){return new a.vHH(3015,gn)}()),e;const r=i[1],l=i[2],u=i[3];e.push(c1(r,u));"<"==l[0]&&!("*"==r&&"*"==u)&&e.push(c1(u,r))}(i,t,e)):t.push(n),t}const cT=new Set(["true","1"]),uT=new Set(["false","0"]);function c1(n,e){const t=cT.has(n)||uT.has(n),i=cT.has(e)||uT.has(e);return(r,l)=>{let u="*"==n||n==r,f="*"==e||e==l;return!u&&t&&"boolean"==typeof r&&(u=r?cT.has(n):uT.has(n)),!f&&i&&"boolean"==typeof l&&(f=l?cT.has(e):uT.has(e)),u&&f}}const y2=new RegExp("s*:selfs*,?","g");function Sx(n,e,t,i){return new v2(n).build(e,t,i)}class v2{constructor(e){this._driver=e}build(e,t,i){const r=new E2(t);this._resetContextStyleTimingState(r);const l=ta(this,G0(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const l=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function AB(){return new a.vHH(3006,gn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,l.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function SB(){return new a.vHH(3007,gn)}())}),{type:7,name:e.name,states:l,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const l=new Set,u=r||{};i.styles.forEach(f=>{if(dT(f)){const _=f;Object.keys(_).forEach(w=>{a1(_[w]).forEach(T=>{u.hasOwnProperty(T)||l.add(T)})})}}),l.size&&(sT(l.values()),t.errors.push(function xB(n,e){return new a.vHH(3008,gn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ta(this,G0(e.animation),t);return{type:1,matchers:m2(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Um(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ta(this,i,t)),options:Um(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const l=e.steps.map(u=>{t.currentTime=i;const f=ta(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:l,options:Um(e.options)}}visitAnimate(e,t){const i=function D2(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return xx(iT(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=xx(0,0,"");return l.dynamic=!0,l.strValue=i,l}return t=t||iT(i,e),xx(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,l=e.styles?e.styles:Ws({});if(5==l.type)r=this.visitKeyframes(l,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};i.easing&&(w.easing=i.easing),u=Ws(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==pd?i.push(u):t.errors.push(function MB(n){return new a.vHH(3002,gn)}()):i.push(u)}):i.push(e.styles);let r=!1,l=null;return i.forEach(u=>{if(dT(u)){const f=u,_=f.easing;if(_&&(l=_,delete f.easing),!r)for(let w in f)if(f[w].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,l=t.currentTime;i&&l>0&&(l-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],w=_[f];let T=!0;w&&(l!=r&&l>=w.startTime&&r<=w.endTime&&(t.errors.push(function OB(n,e,t,i,r){return new a.vHH(3010,gn)}()),T=!1),l=w.startTime),T&&(_[f]={startTime:l,endTime:r}),t.options&&function a2(n,e,t){const i=e.params||{},r=a1(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||t.push(function CB(n){return new a.vHH(3001,gn)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function RB(){return new a.vHH(3011,gn)}()),i;let l=0;const u=[];let f=!1,_=!1,w=0;const T=e.steps.map(Ze=>{const st=this._makeStyleAst(Ze,t);let ut=null!=st.offset?st.offset:function C2(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(dT(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(dT(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(st.styles),gt=0;return null!=ut&&(l++,gt=st.offset=ut),_=_||gt<0||gt>1,f=f||gt<w,w=gt,u.push(gt),st});_&&t.errors.push(function kB(){return new a.vHH(3012,gn)}()),f&&t.errors.push(function PB(){return new a.vHH(3200,gn)}());const M=e.steps.length;let N=0;l>0&&l<M?t.errors.push(function FB(){return new a.vHH(3202,gn)}()):0==l&&(N=1/(M-1));const H=M-1,Z=t.currentTime,ce=t.currentAnimateTimings,Ve=ce.duration;return T.forEach((Ze,st)=>{const ut=N>0?st==H?1:N*st:u[st],gt=ut*Ve;t.currentTime=Z+ce.delay+gt,ce.duration=gt,this._validateStyleAst(Ze,t),Ze.offset=ut,i.styles.push(Ze)}),i}visitReference(e,t){return{type:8,animation:ta(this,G0(e.animation),t),options:Um(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Um(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Um(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[l,u]=function b2(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(y2,"")),n=n.replace(/@\*/g,nT).replace(/@\w+/g,t=>nT+"-"+t.substr(1)).replace(/:animating/g,Dx),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+l:l,ea(t.collectedStyles,t.currentQuerySelector,{});const f=ta(this,G0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Um(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function NB(){return new a.vHH(3013,gn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:iT(e.timings,t.errors,!0);return{type:12,animation:ta(this,G0(e.animation),t),timings:i,options:null}}}class E2{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dT(n){return!Array.isArray(n)&&"object"==typeof n}function Um(n){return n?(n=_y(n)).params&&(n.params=function w2(n){return n?_y(n):null}(n.params)):n={},n}function xx(n,e,t){return{duration:n,delay:e,easing:t}}function Mx(n,e,t,i,r,l,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:u,subTimeline:f}}class hT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const A2=new RegExp(":enter","g"),x2=new RegExp(":leave","g");function Ox(n,e,t,i,r,l={},u={},f,_,w=[]){return(new M2).buildKeyframes(n,e,t,i,r,l,u,f,_,w)}class M2{buildKeyframes(e,t,i,r,l,u,f,_,w,T=[]){w=w||new hT;const M=new Rx(e,t,w,r,l,T,[]);M.options=_,M.currentTimeline.setStyles([u],null,M.errors,_),ta(this,i,M);const N=M.timelines.filter(H=>H.containsAnimation());if(Object.keys(f).length){let H;for(let Z=N.length-1;Z>=0;Z--){const ce=N[Z];if(ce.element===t){H=ce;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([f],null,M.errors,_)}return N.length?N.map(H=>H.buildKeyframes()):[Mx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),l=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);l!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let l=t.currentTimeline.currentTime;const u=null!=i.duration?Vm(i.duration):null,f=null!=i.delay?Vm(i.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);l=Math.max(l,w.duration+w.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),ta(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const l=e.options;if(l&&(l.params||l.delay)&&(r=t.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fT);const u=Vm(l.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ta(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Vm(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),ta(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return iT(t.params?rT(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(i.duration),this.visitStyle(l,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(l):i.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,l=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+l),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},l=r.delay?Vm(r.delay):0;l&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fT);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,T)=>{t.currentQueryIndex=T;const M=t.createSubContext(e.options,w);l&&M.delayNextStep(l),w===t.element&&(_=M.currentTimeline),ta(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,l=e.timings,u=Math.abs(l.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const T=t.currentTimeline;_&&T.delayNextStep(_);const M=T.currentTime;ta(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const fT={};class Rx{constructor(e,t,i,r,l,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new pT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Vm(i.duration)),null!=i.delay&&(r.delay=Vm(i.delay));const l=i.params;if(l){let u=r.params;u||(u=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=rT(l[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,l=new Rx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=fT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},l=new O2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,l,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(A2,"."+this._enterClassName)).replace(x2,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!l&&0==f.length&&u.push(function LB(n){return new a.vHH(3014,gn)}()),f}}class pT{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new pT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||pd,this._currentKeyframe[t]=pd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const l=r&&r.params||{},u=function R2(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(l=>{t[l]=pd})):wf(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=rT(u[f],l,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:pd),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=wf(f,!0);Object.keys(w).forEach(T=>{const M=w[T];"!"==M?e.add(T):M==pd&&t.add(T)}),i||(w.offset=_/this.duration),r.push(w)});const l=e.size?sT(e.values()):[],u=t.size?sT(t.values()):[];if(i){const f=r[0],_=_y(f);f.offset=0,_.offset=1,r=[f,_]}return Mx(this.element,r,l,u,this.duration,this.startTime,this.easing,!1)}}class O2 extends pT{constructor(e,t,i,r,l,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],u=i+t,f=t/u,_=wf(e[0],!1);_.offset=0,l.push(_);const w=wf(e[0],!1);w.offset=h1(f),l.push(w);const T=e.length-1;for(let M=1;M<=T;M++){let N=wf(e[M],!1);N.offset=h1((t+N.offset*i)/u),l.push(N)}i=u,t=0,r="",e=l}return Mx(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function h1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class kx{}class k2 extends kx{normalizePropertyName(e,t){return Ax(e)}normalizeStyleValue(e,t,i,r){let l="";const u=i.toString().trim();if(P2[t]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function IB(n,e){return new a.vHH(3005,gn)}())}return u+l}}const P2=(()=>function F2(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function f1(n,e,t,i,r,l,u,f,_,w,T,M,N){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:l,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:T,totalTime:M,errors:N}}const Px={};class p1{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function N2(n,e,t,i,r){return n.some(l=>l(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],l=this._stateStyles[e],u=r?r.buildStyles(t,i):{};return l?l.buildStyles(t,i):u}build(e,t,i,r,l,u,f,_,w,T){const M=[],N=this.ast.options&&this.ast.options.params||Px,Z=this.buildStyles(i,f&&f.params||Px,M),ce=_&&_.params||Px,Ve=this.buildStyles(r,ce,M),Ze=new Set,st=new Map,ut=new Map,gt="void"===r,Kt={params:Object.assign(Object.assign({},N),ce)},rn=T?[]:Ox(e,t,this.ast.animation,l,u,Z,Ve,Kt,w,M);let Sn=0;if(rn.forEach(yd=>{Sn=Math.max(yd.duration+yd.delay,Sn)}),M.length)return f1(t,this._triggerName,i,r,gt,Z,Ve,[],[],st,ut,Sn,M);rn.forEach(yd=>{const vd=yd.element,lF=ea(st,vd,{});yd.preStyleProps.forEach($m=>lF[$m]=!0);const X0=ea(ut,vd,{});yd.postStyleProps.forEach($m=>X0[$m]=!0),vd!==t&&Ze.add(vd)});const as=sT(Ze.values());return f1(t,this._triggerName,i,r,gt,Z,Ve,rn,as,st,ut,Sn)}}class L2{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=_y(this.defaultParams);return Object.keys(e).forEach(l=>{const u=e[l];null!=u&&(r[l]=u)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const u=l;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=rT(_,r,t));const w=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,w,_,t),i[w]=_})}}),i}}class B2{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new L2(r.style,r.options&&r.options.params||{},i)}),m1(this.states,"true","1"),m1(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new p1(e,r,this.states))}),this.fallbackTransition=function U2(n,e,t){return new p1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function m1(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const j2=new hT;class H2{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],l=Sx(this._driver,t,i,[]);if(i.length)throw function $B(n){return new a.vHH(3503,gn)}();this._animations[e]=l}_buildPlayer(e,t,i){const r=e.element,l=Wk(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],l=this._animations[e];let u;const f=new Map;if(l?(u=Ox(this._driver,t,l,Cx,eT,{},{},i,j2,r),u.forEach(T=>{const M=ea(f,T.element,{});T.postStyleProps.forEach(N=>M[N]=null)})):(r.push(function zB(){return new a.vHH(3300,gn)}()),u=[]),r.length)throw function WB(n){return new a.vHH(3504,gn)}();f.forEach((T,M)=>{Object.keys(T).forEach(N=>{T[N]=this._driver.computeStyle(M,N,pd)})});const w=bf(u.map(T=>{const M=f.get(T.element);return this._buildPlayer(T,{},M)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function qB(n){return new a.vHH(3301,gn)}();return t}listen(e,t,i,r){const l=vx(t,"","","");return _x(this._getPlayer(e),i,l,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const l=this._getPlayer(e);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const g1="ng-animate-queued",Fx="ng-animate-disabled",q2=[],_1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Z2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ba="__ng_removed";class Nx{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function J2(n){return null!=n?n:null}(i?e.value:e),i){const l=_y(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const $0="void",Lx=new Nx($0);class K2{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ua(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function ZB(n,e){return new a.vHH(3302,gn)}();if(null==i||0==i.length)throw function KB(n){return new a.vHH(3303,gn)}();if(!function X2(n){return"start"==n||"done"==n}(i))throw function YB(n,e){return new a.vHH(3400,gn)}();const l=ea(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};l.push(u);const f=ea(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Ua(e,tT),Ua(e,tT+"-"+t),f[t]=Lx),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(u);_>=0&&l.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function QB(n){return new a.vHH(3401,gn)}();return t}trigger(e,t,i,r=!0){const l=this._getTrigger(t),u=new Vx(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ua(e,tT),Ua(e,tT+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const w=new Nx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[t]=w,_||(_=Lx),w.value!==$0&&_.value===w.value){if(!function nU(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const l=t[r];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,w.params)){const ce=[],Ve=l.matchStyles(_.value,_.params,ce),Ze=l.matchStyles(w.value,w.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{Bm(e,Ve),Oc(e,Ze)})}return}const N=ea(this._engine.playersByElement,e,[]);N.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==t&&ce.queued&&ce.destroy()});let H=l.matchTransition(_.value,w.value,e,w.params),Z=!1;if(!H){if(!r)return;H=l.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:_,toState:w,player:u,isFallbackTransition:Z}),Z||(Ua(e,g1),u.onStart(()=>{yy(e,g1)})),u.onDone(()=>{let ce=this.players.indexOf(u);ce>=0&&this.players.splice(ce,1);const Ve=this._engine.playersByElement.get(e);if(Ve){let Ze=Ve.indexOf(u);Ze>=0&&Ve.splice(Ze,1)}}),this.players.push(u),N.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,nT,!0);i.forEach(r=>{if(r[Ba])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const l=this._engine.statesByElement.get(e),u=new Map;if(l){const f=[];if(Object.keys(l).forEach(_=>{if(u.set(_,l[_].value),this._triggers[_]){const w=this.trigger(e,_,$0,r);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&bf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(l=>{const u=l.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,w=i[u]||Lx,T=new Nx($0),M=new Vx(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(e):[];if(l&&l.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Ba];(!l||l===_1)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ua(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,u=this._elementListeners.get(l);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=vx(l,i.triggerName,i.fromState.value,i.toState.value);_._data=e,_x(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const l=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Y2{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new K2(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,l=i.length-1;if(l>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=l;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,t)){i.splice(f+1,0,e),u=!0;break}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let l=0;l<r.length;l++){const u=i[r[l]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,i,r){if(mT(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!mT(t))return;const l=t[Ba];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ua(e,Fx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),yy(e,Fx))}removeNode(e,t,i,r){if(mT(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,l){this.collectedLeaveElements.push(t),t[Ba]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,i,r,l){return mT(t)?this._fetchNamespace(e).listen(t,i,r,l):()=>{}}_buildInstruction(e,t,i,r,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,nT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Dx,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return bf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Ba];if(i&&i.setForRemoval){if(e[Ba]=_1,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Fx))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ua(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?bf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function JB(n){return new a.vHH(3402,gn)}()}_flushAnimations(e,t){const i=new hT,r=[],l=new Map,u=[],f=new Map,_=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(vt=>{T.add(vt);const Rt=this.driver.query(vt,".ng-animate-queued",!0);for(let Bt=0;Bt<Rt.length;Bt++)T.add(Rt[Bt])});const M=this.bodyNode,N=Array.from(this.statesByElement.keys()),H=b1(N,this.collectedEnterElements),Z=new Map;let ce=0;H.forEach((vt,Rt)=>{const Bt=Cx+ce++;Z.set(Rt,Bt),vt.forEach(Tn=>Ua(Tn,Bt))});const Ve=[],Ze=new Set,st=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const Rt=this.collectedLeaveElements[vt],Bt=Rt[Ba];Bt&&Bt.setForRemoval&&(Ve.push(Rt),Ze.add(Rt),Bt.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(Tn=>Ze.add(Tn)):st.add(Rt))}const ut=new Map,gt=b1(N,Array.from(Ze));gt.forEach((vt,Rt)=>{const Bt=eT+ce++;ut.set(Rt,Bt),vt.forEach(Tn=>Ua(Tn,Bt))}),e.push(()=>{H.forEach((vt,Rt)=>{const Bt=Z.get(Rt);vt.forEach(Tn=>yy(Tn,Bt))}),gt.forEach((vt,Rt)=>{const Bt=ut.get(Rt);vt.forEach(Tn=>yy(Tn,Bt))}),Ve.forEach(vt=>{this.processLeaveNode(vt)})});const Kt=[],rn=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(t).forEach(Bt=>{const Tn=Bt.player,Zr=Bt.element;if(Kt.push(Tn),this.collectedEnterElements.length){const Zs=Zr[Ba];if(Zs&&Zs.setForMove){if(Zs.previousTriggersValues&&Zs.previousTriggersValues.has(Bt.triggerName)){const zm=Zs.previousTriggersValues.get(Bt.triggerName),If=this.statesByElement.get(Bt.element);If&&If[Bt.triggerName]&&(If[Bt.triggerName].value=zm)}return void Tn.destroy()}}const Fc=!M||!this.driver.containsElement(M,Zr),ia=ut.get(Zr),Tf=Z.get(Zr),Pi=this._buildInstruction(Bt,i,Tf,ia,Fc);if(Pi.errors&&Pi.errors.length)return void rn.push(Pi);if(Fc)return Tn.onStart(()=>Bm(Zr,Pi.fromStyles)),Tn.onDestroy(()=>Oc(Zr,Pi.toStyles)),void r.push(Tn);if(Bt.isFallbackTransition)return Tn.onStart(()=>Bm(Zr,Pi.fromStyles)),Tn.onDestroy(()=>Oc(Zr,Pi.toStyles)),void r.push(Tn);const dF=[];Pi.timelines.forEach(Zs=>{Zs.stretchStartingKeyframe=!0,this.disabledNodes.has(Zs.element)||dF.push(Zs)}),Pi.timelines=dF,i.append(Zr,Pi.timelines),u.push({instruction:Pi,player:Tn,element:Zr}),Pi.queriedElements.forEach(Zs=>ea(f,Zs,[]).push(Tn)),Pi.preStyleProps.forEach((Zs,zm)=>{const If=Object.keys(Zs);if(If.length){let Wm=_.get(zm);Wm||_.set(zm,Wm=new Set),If.forEach(uM=>Wm.add(uM))}}),Pi.postStyleProps.forEach((Zs,zm)=>{const If=Object.keys(Zs);let Wm=w.get(zm);Wm||w.set(zm,Wm=new Set),If.forEach(uM=>Wm.add(uM))})});if(rn.length){const vt=[];rn.forEach(Rt=>{vt.push(function XB(n,e){return new a.vHH(3505,gn)}())}),Kt.forEach(Rt=>Rt.destroy()),this.reportError(vt)}const Sn=new Map,as=new Map;u.forEach(vt=>{const Rt=vt.element;i.has(Rt)&&(as.set(Rt,Rt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,Sn))}),r.forEach(vt=>{const Rt=vt.element;this._getPreviousPlayers(Rt,!1,vt.namespaceId,vt.triggerName,null).forEach(Tn=>{ea(Sn,Rt,[]).push(Tn),Tn.destroy()})});const yd=Ve.filter(vt=>E1(vt,_,w)),vd=new Map;v1(vd,this.driver,st,w,pd).forEach(vt=>{E1(vt,_,w)&&yd.push(vt)});const X0=new Map;H.forEach((vt,Rt)=>{v1(X0,this.driver,new Set(vt),_,"!")}),yd.forEach(vt=>{const Rt=vd.get(vt),Bt=X0.get(vt);vd.set(vt,Object.assign(Object.assign({},Rt),Bt))});const $m=[],cF=[],uF={};u.forEach(vt=>{const{element:Rt,player:Bt,instruction:Tn}=vt;if(i.has(Rt)){if(T.has(Rt))return Bt.onDestroy(()=>Oc(Rt,Tn.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(Tn.totalTime),void r.push(Bt);let Zr=uF;if(as.size>1){let ia=Rt;const Tf=[];for(;ia=ia.parentNode;){const Pi=as.get(ia);if(Pi){Zr=Pi;break}Tf.push(ia)}Tf.forEach(Pi=>as.set(Pi,Zr))}const Fc=this._buildAnimation(Bt.namespaceId,Tn,Sn,l,X0,vd);if(Bt.setRealPlayer(Fc),Zr===uF)$m.push(Bt);else{const ia=this.playersByElement.get(Zr);ia&&ia.length&&(Bt.parentPlayer=bf(ia)),r.push(Bt)}}else Bm(Rt,Tn.fromStyles),Bt.onDestroy(()=>Oc(Rt,Tn.toStyles)),cF.push(Bt),T.has(Rt)&&r.push(Bt)}),cF.forEach(vt=>{const Rt=l.get(vt.element);if(Rt&&Rt.length){const Bt=bf(Rt);vt.setRealPlayer(Bt)}}),r.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<Ve.length;vt++){const Rt=Ve[vt],Bt=Rt[Ba];if(yy(Rt,eT),Bt&&Bt.hasAnimation)continue;let Tn=[];if(f.size){let Fc=f.get(Rt);Fc&&Fc.length&&Tn.push(...Fc);let ia=this.driver.query(Rt,Dx,!0);for(let Tf=0;Tf<ia.length;Tf++){let Pi=f.get(ia[Tf]);Pi&&Pi.length&&Tn.push(...Pi)}}const Zr=Tn.filter(Fc=>!Fc.destroyed);Zr.length?eU(this,Rt,Zr):this.processLeaveNode(Rt)}return Ve.length=0,$m.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const Rt=this.players.indexOf(vt);this.players.splice(Rt,1)}),vt.play()}),$m}elementContainsData(e,t){let i=!1;const r=t[Ba];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,l){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!l||l==$0;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const l=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,T=w!==l,M=ea(i,w,[]);this._getPreviousPlayers(w,T,u,f,t.toState).forEach(H=>{const Z=H.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),H.destroy(),M.push(H)})}Bm(l,t.fromStyles)}_buildAnimation(e,t,i,r,l,u){const f=t.triggerName,_=t.element,w=[],T=new Set,M=new Set,N=t.timelines.map(Z=>{const ce=Z.element;T.add(ce);const Ve=ce[Ba];if(Ve&&Ve.removedBeforeQueried)return new L0(Z.duration,Z.delay);const Ze=ce!==_,st=function tU(n){const e=[];return w1(n,e),e}((i.get(ce)||q2).map(Sn=>Sn.getRealPlayer())).filter(Sn=>!!Sn.element&&Sn.element===ce),ut=l.get(ce),gt=u.get(ce),Kt=Wk(0,this._normalizer,0,Z.keyframes,ut,gt),rn=this._buildPlayer(Z,Kt,st);if(Z.subTimeline&&r&&M.add(ce),Ze){const Sn=new Vx(e,f,ce);Sn.setRealPlayer(rn),w.push(Sn)}return rn});w.forEach(Z=>{ea(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function Q2(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,Z.element,Z))}),T.forEach(Z=>Ua(Z,n1));const H=bf(N);return H.onDestroy(()=>{T.forEach(Z=>yy(Z,n1)),Oc(_,t.toStyles)}),M.forEach(Z=>{ea(r,Z,[]).push(H)}),H}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new L0(e.duration,e.delay)}}class Vx{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new L0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>_x(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ea(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mT(n){return n&&1===n.nodeType}function y1(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function v1(n,e,t,i,r){const l=[];t.forEach(_=>l.push(y1(_)));const u=[];i.forEach((_,w)=>{const T={};_.forEach(M=>{const N=T[M]=e.computeStyle(w,M,r);(!N||0==N.length)&&(w[Ba]=Z2,u.push(w))}),n.set(w,T)});let f=0;return t.forEach(_=>y1(_,l[f++])),u}function b1(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),l=new Map;function u(f){if(!f)return 1;let _=l.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:r.has(w)?1:u(w),l.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Ua(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function yy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function eU(n,e,t){bf(t).onDone(()=>n.processLeaveNode(e))}function w1(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Ek?w1(i.players,e):e.push(i)}}function E1(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(l=>r.add(l)):e.set(n,i),t.delete(n),!0}class gT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new Y2(e,t,i),this._timelineEngine=new H2(e,t,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(e,t,i,r,l){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],T=Sx(this._driver,l,_,[]);if(_.length)throw function HB(n,e){return new a.vHH(3404,gn)}();f=function V2(n,e,t){return new B2(n,e,t)}(r,T,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[l,u]=qk(i);this._timelineEngine.command(l,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,l){if("@"==i.charAt(0)){const[u,f]=qk(i);return this._timelineEngine.listen(u,t,f,l)}return this._transitionEngine.listen(e,t,i,r,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let rU=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Oc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Oc(this._element,this._initialStyles),this._endStyles&&(Oc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Bm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bm(this._element,this._endStyles),this._endStyles=null),Oc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Bx(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];sU(r)&&(e=e||{},e[r]=n[r])}return e}function sU(n){return"display"===n||"position"===n}class C1{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:l1(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class oU{validateStyleProperty(e){return Qk(e)}matchesElement(e,t){return!1}containsElement(e,t){return Jk(e,t)}getParentElement(e){return wx(e)}query(e,t,i){return Xk(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,l,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(_.easing=l);const w={},T=u.filter(N=>N instanceof C1);(function u2(n,e){return 0===n||0===e})(i,r)&&T.forEach(N=>{let H=N.currentSnapshot;Object.keys(H).forEach(Z=>w[Z]=H[Z])}),t=function d2(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let l=e[0],u=[];if(i.forEach(f=>{l.hasOwnProperty(f)||u.push(f),l[f]=t[f]}),u.length)for(var r=1;r<e.length;r++){let f=e[r];u.forEach(function(_){f[_]=l1(n,_)})}}return e}(e,t=t.map(N=>wf(N,!1)),w);const M=function iU(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Bx(e[0]),e.length>1&&(i=Bx(e[e.length-1]))):e&&(t=Bx(e)),t||i?new rU(n,t,i):null}(e,t);return new C1(e,t,_,M)}}let aU=(()=>{class n extends vk{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?bk(t):t;return D1(this._renderer,null,i,"register",[r]),new lU(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class lU extends class oV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new cU(this._id,e,t||{},this._renderer)}}class cU{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return D1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function D1(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const T1="@.disabled";let uU=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,u)=>{const f=null==u?void 0:u.parentNode(l);f&&u.removeChild(f,l)}}createRenderer(t,i){const l=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(l);return T||(T=new I1("",l,this.engine),this._rendererCache.set(l,T)),T}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(u,f,t,T.name,T)};return i.data.animation.forEach(_),new dU(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,f]=l;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(gT),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class I1{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==T1?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class dU extends I1{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==T1?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function hU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),u="";return"@"!=l.charAt(0)&&([l,u]=function fU(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,r,l,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let pU=(()=>{class n extends gT{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q),a.LFG(Ex),a.LFG(kx))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Rc=new a.OlP("AnimationModuleType"),A1=[{provide:vk,useClass:aU},{provide:kx,useFactory:function mU(){return new k2}},{provide:gT,useClass:pU},{provide:a.FYo,useFactory:function gU(n,e,t){return new uU(n,e,t)},deps:[On,gT,a.R0b]}],S1=[{provide:Ex,useFactory:()=>new oU},{provide:Rc,useValue:"BrowserAnimations"},...A1],_U=[{provide:Ex,useClass:e1},{provide:Rc,useValue:"NoopAnimations"},...A1];let yU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?_U:S1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:S1,imports:[ca]}),n})();function vU(n,e){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=a.oxw();a.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function bU(n,e){if(1&n&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.hij("(",t.group.label,")")}}const wU=["*"],CU=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function EU(){return!0}});let Ci=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!hx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(bB),a.LFG(CU,8),a.LFG(q))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[B0],B0]}),n})();function Ux(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ci(e)}}}function yT(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function vy(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ci(e)}}}function M1(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?py(t):this.defaultTabIndex}}}function O1(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Nt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}}}let jx=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function k1(n,e,t="mat"){n.changes.pipe(oi(n)).subscribe(({length:i})=>{z0(e,`${t}-2-line`,!1),z0(e,`${t}-3-line`,!1),z0(e,`${t}-multi-line`,!1),2===i||3===i?z0(e,`${t}-${i}-line`,!0):i>3&&z0(e,`${t}-multi-line`,!0)})}function z0(n,e,t){n.nativeElement.classList.toggle(e,t)}let P1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ci],Ci]}),n})();class TU{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const F1={enterDuration:225,exitDuration:150},Hx=ZD({passive:!0}),N1=["mousedown","touchstart"],L1=["mouseup","mouseleave","touchend","touchcancel"];class AU{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=md(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},F1),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function xU(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,w=l.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-u+"px",T.style.top=_-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(T),function SU(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const M=new TU(this,T,i);return M.state=0,this._activeRipples.add(M),i.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const N=M===this._mostRecentTransientRipple;M.state=1,!i.persistent&&(!N||!this._isPointerDown)&&M.fadeOut()},w),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},F1),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=md(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(N1))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(L1),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Uk(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!jk(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Hx)})})}_removeTriggerEvents(){this._triggerElement&&(N1.forEach(e=>{this._triggerElement.removeEventListener(e,this,Hx)}),this._pointerUpEventsRegistered&&L1.forEach(e=>{this._triggerElement.removeEventListener(e,this,Hx)}))}}const MU=new a.OlP("mat-ripple-global-options");let by=(()=>{class n{constructor(t,i,r,l,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new AU(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(To),a.Y36(MU,8),a.Y36(Rc,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),W0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ci],Ci]}),n})(),V1=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Rc,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ci]]}),n})();const B1=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),U1=new a.OlP("MatOptgroup");let OU=0;class RU{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let kU=(()=>{class n{constructor(t,i,r,l){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=l,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+OU++,this.onSelectionChange=new a.vpe,this._stateChanges=new Nt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=ci(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!vf(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new RU(this,t))}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),j1=(()=>{class n extends kU{constructor(t,i,r,l){super(t,i,r,l)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(B1,8),a.Y36(U1,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(l){return i._handleKeydown(l)}),2&t&&(a.Ikx("id",i.id),a.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),a.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:wU,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(a.F$t(),a.YNc(0,vU,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1),a.Hsn(2),a.qZA(),a.YNc(3,bU,2,1,"span",2),a._UZ(4,"div",3)),2&t&&(a.Q6J("ngIf",i.multiple),a.xp6(3),a.Q6J("ngIf",i.group&&i.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[V1,pe,by],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function H1(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),l=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[l]&&l++;return l}return 0}let G1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[W0,Ir,Ci,Gx]]}),n})();var FU=A(1144);const NU=["addListener","removeListener"],LU=["addEventListener","removeEventListener"],VU=["on","off"];function vT(n,e,t,i){if((0,Ki.m)(t)&&(i=t,t=void 0),i)return vT(n,e,t).pipe(Bl(i));const[r,l]=function jU(n){return(0,Ki.m)(n.addEventListener)&&(0,Ki.m)(n.removeEventListener)}(n)?LU.map(u=>f=>n[u](e,f,t)):function BU(n){return(0,Ki.m)(n.addListener)&&(0,Ki.m)(n.removeListener)}(n)?NU.map($1(n,e)):function UU(n){return(0,Ki.m)(n.on)&&(0,Ki.m)(n.off)}(n)?VU.map($1(n,e)):[];if(!r&&(0,FU.z)(n))return(0,ar.z)(u=>vT(u,e,t))((0,iu.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new jn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>l(f)})}function $1(n,e){return t=>i=>n[t](e,i)}const HU=["connectionContainer"],GU=["inputContainer"],$U=["label"];function zU(n,e){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function WU(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){return a.CHM(t),a.oxw().updateOutlineGap()}),a.Hsn(1,1),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function qU(n,e){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const t=a.oxw(2);a.xp6(3),a.Oqu(t._control.placeholder)}}function ZU(n,e){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function KU(n,e){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function YU(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(t),a.oxw().updateOutlineGap()}),a.YNc(2,qU,4,1,"ng-container",12),a.YNc(3,ZU,1,0,"ng-content",12),a.YNc(4,KU,2,0,"span",22),a.qZA()}if(2&n){const t=a.oxw();a.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),a.uIk("for",t._control.id)("aria-owns",t._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function QU(n,e){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function JU(n,e){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function XU(n,e){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function ej(n,e){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function tj(n,e){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,ej,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const nj=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ij=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],rj=new a.OlP("MatError"),sj={transitionMessages:fy("transitionMessages",[wl("enter",Ws({opacity:1,transform:"translateY(0%)"})),yf("void => enter",[Ws({opacity:0,transform:"translateY(-5px)"}),Pm("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let bT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),n})();const oj=new a.OlP("MatHint");let wy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),aj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const lj=new a.OlP("MatPrefix"),cj=new a.OlP("MatSuffix");let z1=0;const dj=yT(class{constructor(n){this._elementRef=n}},"primary"),hj=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),$x=new a.OlP("MatFormField");let wT=(()=>{class n extends dj{constructor(t,i,r,l,u,f,_){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=l,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Nt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+z1++,this._labelId="mat-form-field-label-"+z1++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ci(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(oi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,qr.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,qr.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Jl.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(oi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(oi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,qr.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,vT(this._label.nativeElement,"transitionend").pipe((0,jr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,r=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const T=i.querySelectorAll(`${r}, ${l}`);for(let M=0;M<T.length;M++)T[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const _=i.querySelectorAll(r),w=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(T),N=t.children,H=this._getStartEnd(N[0].getBoundingClientRect());let Z=0;for(let ce=0;ce<N.length;ce++)Z+=N[ce].offsetWidth;u=Math.abs(H-M)-5,f=Z>0?.75*Z+10:0}for(let T=0;T<_.length;T++)_[T].style.width=`${u}px`;for(let T=0;T<w.length;T++)w[T].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(qD,8),a.Y36(hj,8),a.Y36(To),a.Y36(a.R0b),a.Y36(Rc,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,bT,5),a.Suo(r,bT,7),a.Suo(r,wy,5),a.Suo(r,wy,7),a.Suo(r,aj,5),a.Suo(r,rj,5),a.Suo(r,oj,5),a.Suo(r,lj,5),a.Suo(r,cj,5)),2&t){let l;a.iGM(l=a.CRH())&&(i._controlNonStatic=l.first),a.iGM(l=a.CRH())&&(i._controlStatic=l.first),a.iGM(l=a.CRH())&&(i._labelChildNonStatic=l.first),a.iGM(l=a.CRH())&&(i._labelChildStatic=l.first),a.iGM(l=a.CRH())&&(i._placeholderChild=l.first),a.iGM(l=a.CRH())&&(i._errorChildren=l),a.iGM(l=a.CRH())&&(i._hintChildren=l),a.iGM(l=a.CRH())&&(i._prefixChildren=l),a.iGM(l=a.CRH())&&(i._suffixChildren=l)}},viewQuery:function(t,i){if(1&t&&(a.Gf(HU,7),a.Gf(GU,5),a.Gf($U,5)),2&t){let r;a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:$x,useExisting:n}]),a.qOj],ngContentSelectors:ij,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(a.F$t(nj),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),a.YNc(3,zU,9,0,"ng-container",3),a.YNc(4,WU,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,YU,5,16,"label",8),a.qZA()(),a.YNc(10,QU,2,0,"div",9),a.qZA(),a.YNc(11,JU,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,XU,2,1,"div",12),a.YNc(14,tj,5,2,"div",13),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[pe,NV,Ge,xt],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[sj.transitionMessages]},changeDetection:0}),n})(),zx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ir,Ci,LV],Ci]}),n})();const q1=ZD({passive:!0});let fj=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return xi.E;const i=md(t),r=this._monitoredElements.get(i);if(r)return r.subject;const l=new Nt.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,q1),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",f,q1)}}),l}stopMonitoring(t){const i=md(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(To),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const pj=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),mj=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let gj=0;const _j=O1(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let ET=(()=>{class n extends _j{constructor(t,i,r,l,u,f,_,w,T,M){super(f,l,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=w,this._formField=M,this._uid="mat-input-"+gj++,this.focused=!1,this.stateChanges=new Nt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Z=>Ok().has(Z)),this._iOSKeyupListener=Z=>{const ce=Z.target;!ce.value&&0===ce.selectionStart&&0===ce.selectionEnd&&(ce.setSelectionRange(1,1),ce.setSelectionRange(0,0))};const N=this._elementRef.nativeElement,H=N.nodeName.toLowerCase();this._inputValueAccessor=_||N,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ci(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(bl.required))&&void 0!==l&&l}set required(t){this._required=ci(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Ok().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ci(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=r,r?l.setAttribute("placeholder",r):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){mj.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(To),a.Y36(xc,10),a.Y36(N0,8),a.Y36(Mc,8),a.Y36(jx),a.Y36(pj,10),a.Y36(fj),a.Y36(a.R0b),a.Y36($x,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:bT,useExisting:n}]),a.qOj,a.TTD]}),n})(),K1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[jx],imports:[[Z1,zx,Ci],Z1,zx]}),n})();const yj=["mat-button",""],vj=["*"],wj=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Ej=yT(Ux(vy(class{constructor(n){this._elementRef=n}})));let Ef=(()=>{class n extends Ej{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of wj)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(px),a.Y36(Rc,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&a.Gf(by,5),2&t){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:yj,ngContentSelectors:vj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&t&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[by],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Y1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[W0,Ci],Ci]}),n})();class Wx{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Nt.x,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let Q1=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ci],Ci]}),n})();const J1=["*"],X1='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n',Dj=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Tj=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Ij=["text"];function Aj(n,e){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",5),2&n){const t=a.oxw();a.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Sj=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],xj=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"],Mj=Ux(vy(class{})),Oj=vy(class{}),eP=new a.OlP("MatList"),Rj=new a.OlP("MatNavList");let CT=(()=>{class n extends Mj{constructor(t){super(),this._elementRef=t,this._stateChanges=new Nt.x,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[a._Bn([{provide:eP,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:J1,decls:1,vars:0,template:function(t,i){1&t&&(a.F$t(),a.Hsn(0))},styles:[X1],encapsulation:2,changeDetection:0}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),nP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),q0=(()=>{class n extends Oj{constructor(t,i,r,l){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Nt.x,this._disabled=!1,this._isInteractiveList=!!(r||l&&"action-list"===l._getListType()),this._list=r||l;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,qr.R)(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=ci(t)}ngAfterContentInit(){k1(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Rj,8),a.Y36(eP,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,tP,5),a.Suo(r,nP,5),a.Suo(r,R1,5)),2&t){let l;a.iGM(l=a.CRH())&&(i._avatar=l.first),a.iGM(l=a.CRH())&&(i._icon=l.first),a.iGM(l=a.CRH())&&(i._lines=l)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&a.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[a.qOj],ngContentSelectors:Tj,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(a.F$t(Dj),a.TgZ(0,"span",0),a._UZ(1,"span",1),a.Hsn(2),a.TgZ(3,"span",2),a.Hsn(4,1),a.qZA(),a.Hsn(5,2),a.qZA()),2&t&&(a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[by],encapsulation:2,changeDetection:0}),n})();const kj=vy(class{}),Pj=vy(class{}),Fj={provide:vl,useExisting:(0,a.Gpc)(()=>qx),multi:!0};class Nj{constructor(e,t,i){this.source=e,this.option=t,this.options=i}}let iP=(()=>{class n extends Pj{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new a.vpe,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const i=ci(t);i!==this._disabled&&(this._disabled=i,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const i=ci(t);i!==this._selected&&(this._setSelected(i),(i||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(r=>t.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){k1(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,i=this.selectionList._removeOptionFromList(this);t&&i&&i.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>qx)))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,tP,5),a.Suo(r,nP,5),a.Suo(r,R1,5)),2&t){let l;a.iGM(l=a.CRH())&&(i._avatar=l.first),a.iGM(l=a.CRH())&&(i._icon=l.first),a.iGM(l=a.CRH())&&(i._lines=l)}},viewQuery:function(t,i){if(1&t&&a.Gf(Ij,5),2&t){let r;a.iGM(r=a.CRH())&&(i._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&a.NdJ("focus",function(){return i._handleFocus()})("blur",function(){return i._handleBlur()})("click",function(){return i._handleClick()}),2&t&&(a.uIk("aria-selected",i.selected)("aria-disabled",i.disabled)("tabindex",-1),a.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)("mat-primary","primary"===i.color)("mat-accent","primary"!==i.color&&"warn"!==i.color)("mat-warn","warn"===i.color)("mat-list-single-selected-option",i.selected&&!i.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[a.qOj],ngContentSelectors:xj,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,i){1&t&&(a.F$t(Sj),a.TgZ(0,"div",0),a._UZ(1,"div",1),a.YNc(2,Aj,1,2,"mat-pseudo-checkbox",2),a.TgZ(3,"div",3,4),a.Hsn(5),a.qZA(),a.Hsn(6,1),a.qZA()),2&t&&(a.ekj("mat-list-item-content-reverse","after"==i.checkboxPosition),a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()),a.xp6(1),a.Q6J("ngIf",i.selectionList.multiple))},directives:[V1,by,pe],encapsulation:2,changeDetection:0}),n})(),qx=(()=>{class n extends kj{constructor(t,i,r,l){super(),this._element=t,this._changeDetector=r,this._focusMonitor=l,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new a.vpe,this.tabIndex=0,this.color="accent",this.compareWith=(u,f)=>u===f,this._disabled=!1,this.selectedOptions=new Wx(this._multiple),this._tabIndex=-1,this._onChange=u=>{},this._destroyed=new Nt.x,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=ci(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const i=ci(t);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new Wx(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var t;this._contentInitialized=!0,this._keyManager=new Vk(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe((0,qr.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(oi(null),(0,qr.R)(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe((0,qr.R)(this._destroyed)).subscribe(i=>{if(i.added)for(let r of i.added)r.selected=!0;if(i.removed)for(let r of i.removed)r.selected=!1}),null===(t=this._focusMonitor)||void 0===t||t.monitor(this._element).pipe((0,qr.R)(this._destroyed)).subscribe(i=>{var r;if("keyboard"===i||"program"===i){let l=0;for(let u=0;u<this.options.length;u++)if(null===(r=this.options.get(u))||void 0===r?void 0:r.selected){l=u;break}this._keyManager.setActiveItem(l)}})}ngOnChanges(t){const i=t.disableRipple,r=t.color;(i&&!i.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var t;null===(t=this._focusMonitor)||void 0===t||t.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const i=this._getOptionIndex(t);return i>-1&&this._keyManager.activeItemIndex===i&&(i>0?this._keyManager.updateActiveItem(i-1):0===i&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(i+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const i=t.keyCode,r=this._keyManager,l=r.activeItemIndex,u=vf(t);switch(i){case 32:case 13:!u&&!r.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===i&&this.multiple&&vf(t,"ctrlKey")&&!r.isTyping()){const f=this.options.some(_=>!_.disabled&&!_.selected);this._setAllOptionsSelected(f,!0,!0),t.preventDefault()}else r.onKeydown(t)}this.multiple&&(38===i||40===i)&&t.shiftKey&&r.activeItemIndex!==l&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new Nj(this,t[0],t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(i=>i._setSelected(!1)),t.forEach(i=>{const r=this.options.find(l=>!l.selected&&this.compareWith(l.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let i=this.options.toArray()[t];i&&!i.disabled&&(this._multiple||!i.selected)&&(i.toggle(),this._emitChangeEvent([i]))}}_setAllOptionsSelected(t,i,r){const l=[];return this.options.forEach(u=>{(!i||!u.disabled)&&u._setSelected(t)&&l.push(u)}),l.length&&(this._reportValueChange(),r&&this._emitChangeEvent(l)),l}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.$8M("tabindex"),a.Y36(a.sBO),a.Y36(px))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,iP,5),2&t){let l;a.iGM(l=a.CRH())&&(i.options=l)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,i){1&t&&a.NdJ("keydown",function(l){return i._keydown(l)}),2&t&&a.uIk("aria-multiselectable",i.multiple)("aria-disabled",i.disabled.toString())("tabindex",i._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[a._Bn([Fj]),a.qOj,a.TTD],ngContentSelectors:J1,decls:1,vars:0,template:function(t,i){1&t&&(a.F$t(),a.Hsn(0))},styles:[X1],encapsulation:2,changeDetection:0}),n})(),rP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[P1,W0,Ci,Gx,Ir],P1,Ci,Gx,Cj]}),n})();function Lj(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-list-item",6)(1,"div",9)(2,"span"),a._uU(3),a.qZA(),a.TgZ(4,"span"),a._uU(5),a.qZA(),a.TgZ(6,"span",10),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw().deleteUser(l.uid)}),a._uU(7,"\u274c"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(3),a.Oqu(t.displayName),a.xp6(2),a.Oqu(t.email)}}let Vj=(()=>{class n{constructor(t){this.clientListService=t,this.blockButton=!1}ngOnInit(){this.userList$=this.clientListService.getClients(),this.addClientForm=this.clientListService.createForm()}submit(){this.blockButton=!0,this.addClientForm.markAllAsTouched();const{firstName:t,lastName:i}=this.addClientForm.value;this.clientListService.addUser(t,i),this.blockButton=!0,setTimeout(()=>this.blockButton=!1,1e3),this.addClientForm.reset(),this.addClientForm.controls.firstName.setValue(" "),this.addClientForm.controls.lastName.setValue(" ")}deleteUser(t){this.clientListService.deleteUser(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(kV))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-client-list"]],decls:21,vars:5,consts:[[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","firstName"],["type","text","matInput","","formControlName","lastName"],["mat-raised-button","","color","primary",3,"disabled"],["role","list",1,"list"],["role","listitem"],[1,"items","heading"],["role","listitem",4,"ngFor","ngForOf"],[1,"items"],[1,"delete-icon-client",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return i.submit()}),a.TgZ(1,"div")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Imi\u0119"),a.qZA(),a._UZ(5,"input",2),a.qZA(),a.TgZ(6,"mat-form-field",1)(7,"mat-label"),a._uU(8,"Nazwisko"),a.qZA(),a._UZ(9,"input",3),a.qZA()(),a.TgZ(10,"button",4),a._uU(11,"Dodaj klienta"),a.qZA()(),a.TgZ(12,"mat-list",5)(13,"mat-list-item",6)(14,"div",7)(15,"span"),a._uU(16,"Klient"),a.qZA(),a.TgZ(17,"span"),a._uU(18,"Adres e-mail"),a.qZA()()(),a.YNc(19,Lj,8,2,"mat-list-item",8),a.ALo(20,"async"),a.qZA()),2&t&&(a.Q6J("formGroup",i.addClientForm),a.xp6(10),a.Q6J("disabled",i.addClientForm.invalid||i.blockButton),a.xp6(9),a.Q6J("ngForOf",a.lcZ(20,3,i.userList$)))},directives:[hy,uy,Mc,wT,wy,ET,mf,cy,Rm,Ef,CT,q0,Mn],pipes:[fs],styles:[".list[_ngcontent-%COMP%]{width:80%;max-width:500px;margin:0 auto;background-color:#db7093;border-radius:10px}.items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%;justify-content:space-between;position:relative}.heading[_ngcontent-%COMP%]{font-weight:700}.example-form[_ngcontent-%COMP%]{margin:3rem auto 2rem;min-width:150px;max-width:500px;width:80%;text-align:right}.example-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.example-full-width[_ngcontent-%COMP%]{width:48%}.delete-icon-client[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),n})();function qs(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Bj(n){return qs(1,arguments),n instanceof Date||"object"==typeof n&&"[object Date]"===Object.prototype.toString.call(n)}function kc(n){qs(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||"object"==typeof n&&"[object Date]"===e?new Date(n.getTime()):"number"==typeof n||"[object Number]"===e?new Date(n):(("string"==typeof n||"[object String]"===e)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function Uj(n){if(qs(1,arguments),!Bj(n)&&"number"!=typeof n)return!1;var e=kc(n);return!isNaN(Number(e))}var jj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Zx(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,i=n.formats[t]||n.formats[n.defaultWidth];return i}}const Zj={date:Zx({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Zx({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Zx({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Kj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Z0(n){return function(e,t){var l,i=t||{};if("formatting"===(i.context?String(i.context):"standalone")&&n.formattingValues){var u=n.defaultFormattingWidth||n.defaultWidth,f=i.width?String(i.width):u;l=n.formattingValues[f]||n.formattingValues[u]}else{var _=n.defaultWidth,w=i.width?String(i.width):n.defaultWidth;l=n.values[w]||n.values[_]}return l[n.argumentCallback?n.argumentCallback(e):e]}}var sH={ordinalNumber:function(n,e){var t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:Z0({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Z0({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Z0({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Z0({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Z0({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};const oH=sH;function K0(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(r);if(!l)return null;var w,u=l[0],f=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],_=Array.isArray(f)?lH(f,function(M){return M.test(u)}):aH(f,function(M){return M.test(u)});w=n.valueCallback?n.valueCallback(_):_,w=t.valueCallback?t.valueCallback(w):w;var T=e.slice(u.length);return{value:w,rest:T}}}function aH(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function lH(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}var EH={ordinalNumber:function cH(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.match(n.matchPattern);if(!i)return null;var r=i[0],l=e.match(n.parsePattern);if(!l)return null;var u=n.valueCallback?n.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;var f=e.slice(r.length);return{value:u,rest:f}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:K0({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:K0({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:K0({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:K0({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:K0({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const DH={code:"en-US",formatDistance:function(n,e,t){var i,r=jj[n];return i="string"==typeof r?r:1===e?r.one:r.other.replace("{{count}}",e.toString()),null!=t&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i},formatLong:Zj,formatRelative:function(n,e,t,i){return Kj[n]},localize:oH,match:EH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ja(n){if(null===n||!0===n||!1===n)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function TH(n,e){qs(2,arguments);var t=kc(n).getTime(),i=ja(e);return new Date(t+i)}function IH(n,e){qs(2,arguments);var t=ja(e);return TH(n,-t)}function DT(n){qs(1,arguments);var e=1,t=kc(n),i=t.getUTCDay(),r=(i<e?7:0)+i-e;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function sP(n){qs(1,arguments);var e=kc(n),t=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(t+1,0,4),i.setUTCHours(0,0,0,0);var r=DT(i),l=new Date(0);l.setUTCFullYear(t,0,4),l.setUTCHours(0,0,0,0);var u=DT(l);return e.getTime()>=r.getTime()?t+1:e.getTime()>=u.getTime()?t:t-1}function xH(n){qs(1,arguments);var e=sP(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var i=DT(t);return i}var MH=6048e5;function TT(n,e){qs(1,arguments);var t=e||{},i=t.locale,r=i&&i.options&&i.options.weekStartsOn,l=null==r?0:ja(r),u=null==t.weekStartsOn?l:ja(t.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=kc(n),_=f.getUTCDay(),w=(_<u?7:0)+_-u;return f.setUTCDate(f.getUTCDate()-w),f.setUTCHours(0,0,0,0),f}function oP(n,e){qs(1,arguments);var t=kc(n),i=t.getUTCFullYear(),r=e||{},l=r.locale,u=l&&l.options&&l.options.firstWeekContainsDate,f=null==u?1:ja(u),_=null==r.firstWeekContainsDate?f:ja(r.firstWeekContainsDate);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(i+1,0,_),w.setUTCHours(0,0,0,0);var T=TT(w,e),M=new Date(0);M.setUTCFullYear(i,0,_),M.setUTCHours(0,0,0,0);var N=TT(M,e);return t.getTime()>=T.getTime()?i+1:t.getTime()>=N.getTime()?i:i-1}function RH(n,e){qs(1,arguments);var t=e||{},i=t.locale,r=i&&i.options&&i.options.firstWeekContainsDate,l=null==r?1:ja(r),u=null==t.firstWeekContainsDate?l:ja(t.firstWeekContainsDate),f=oP(n,e),_=new Date(0);_.setUTCFullYear(f,0,u),_.setUTCHours(0,0,0,0);var w=TT(_,e);return w}var kH=6048e5;function Fn(n,e){for(var t=n<0?"-":"",i=Math.abs(n).toString();i.length<e;)i="0"+i;return t+i}var FH={y:function(n,e){var t=n.getUTCFullYear(),i=t>0?t:1-t;return Fn("yy"===e?i%100:i,e.length)},M:function(n,e){var t=n.getUTCMonth();return"M"===e?String(t+1):Fn(t+1,2)},d:function(n,e){return Fn(n.getUTCDate(),e.length)},a:function(n,e){var t=n.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return"am"===t?"a.m.":"p.m."}},h:function(n,e){return Fn(n.getUTCHours()%12||12,e.length)},H:function(n,e){return Fn(n.getUTCHours(),e.length)},m:function(n,e){return Fn(n.getUTCMinutes(),e.length)},s:function(n,e){return Fn(n.getUTCSeconds(),e.length)},S:function(n,e){var t=e.length,i=n.getUTCMilliseconds();return Fn(Math.floor(i*Math.pow(10,t-3)),e.length)}};const Cf=FH;var NH={G:function(n,e,t){var i=n.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if("yo"===e){var i=n.getUTCFullYear();return t.ordinalNumber(i>0?i:1-i,{unit:"year"})}return Cf.y(n,e)},Y:function(n,e,t,i){var r=oP(n,i),l=r>0?r:1-r;return"YY"===e?Fn(l%100,2):"Yo"===e?t.ordinalNumber(l,{unit:"year"}):Fn(l,e.length)},R:function(n,e){return Fn(sP(n),e.length)},u:function(n,e){return Fn(n.getUTCFullYear(),e.length)},Q:function(n,e,t){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Fn(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Fn(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){var i=n.getUTCMonth();switch(e){case"M":case"MM":return Cf.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){var i=n.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return Fn(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){var r=function PH(n,e){qs(1,arguments);var t=kc(n),i=TT(t,e).getTime()-RH(t,e).getTime();return Math.round(i/kH)+1}(n,i);return"wo"===e?t.ordinalNumber(r,{unit:"week"}):Fn(r,e.length)},I:function(n,e,t){var i=function OH(n){qs(1,arguments);var e=kc(n),t=DT(e).getTime()-xH(e).getTime();return Math.round(t/MH)+1}(n);return"Io"===e?t.ordinalNumber(i,{unit:"week"}):Fn(i,e.length)},d:function(n,e,t){return"do"===e?t.ordinalNumber(n.getUTCDate(),{unit:"date"}):Cf.d(n,e)},D:function(n,e,t){var i=function SH(n){qs(1,arguments);var e=kc(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime();return Math.floor((t-i)/864e5)+1}(n);return"Do"===e?t.ordinalNumber(i,{unit:"dayOfYear"}):Fn(i,e.length)},E:function(n,e,t){var i=n.getUTCDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){var r=n.getUTCDay(),l=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Fn(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){var r=n.getUTCDay(),l=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Fn(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(n,e,t){var i=n.getUTCDay(),r=0===i?7:i;switch(e){case"i":return String(r);case"ii":return Fn(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){var r=n.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,t){var r,i=n.getUTCHours();switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,e,t){var r,i=n.getUTCHours();switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,e,t){if("ho"===e){var i=n.getUTCHours()%12;return 0===i&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return Cf.h(n,e)},H:function(n,e,t){return"Ho"===e?t.ordinalNumber(n.getUTCHours(),{unit:"hour"}):Cf.H(n,e)},K:function(n,e,t){var i=n.getUTCHours()%12;return"Ko"===e?t.ordinalNumber(i,{unit:"hour"}):Fn(i,e.length)},k:function(n,e,t){var i=n.getUTCHours();return 0===i&&(i=24),"ko"===e?t.ordinalNumber(i,{unit:"hour"}):Fn(i,e.length)},m:function(n,e,t){return"mo"===e?t.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):Cf.m(n,e)},s:function(n,e,t){return"so"===e?t.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):Cf.s(n,e)},S:function(n,e){return Cf.S(n,e)},X:function(n,e,t,i){var l=(i._originalDate||n).getTimezoneOffset();if(0===l)return"Z";switch(e){case"X":return lP(l);case"XXXX":case"XX":return jm(l);default:return jm(l,":")}},x:function(n,e,t,i){var l=(i._originalDate||n).getTimezoneOffset();switch(e){case"x":return lP(l);case"xxxx":case"xx":return jm(l);default:return jm(l,":")}},O:function(n,e,t,i){var l=(i._originalDate||n).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aP(l,":");default:return"GMT"+jm(l,":")}},z:function(n,e,t,i){var l=(i._originalDate||n).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aP(l,":");default:return"GMT"+jm(l,":")}},t:function(n,e,t,i){return Fn(Math.floor((i._originalDate||n).getTime()/1e3),e.length)},T:function(n,e,t,i){return Fn((i._originalDate||n).getTime(),e.length)}};function aP(n,e){var t=n>0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),l=i%60;if(0===l)return t+String(r);var u=e||"";return t+String(r)+u+Fn(l,2)}function lP(n,e){return n%60==0?(n>0?"-":"+")+Fn(Math.abs(n)/60,2):jm(n,e)}function jm(n,e){var t=e||"",i=n>0?"-":"+",r=Math.abs(n);return i+Fn(Math.floor(r/60),2)+t+Fn(r%60,2)}const LH=NH;function cP(n,e){switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}}function uP(n,e){switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}}var BH={p:uP,P:function VH(n,e){var l,t=n.match(/(P+)(p+)?/)||[],i=t[1],r=t[2];if(!r)return cP(n,e);switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"})}return l.replace("{{date}}",cP(i,e)).replace("{{time}}",uP(r,e))}};const UH=BH;function jH(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}var HH=["D","DD"],GH=["YY","YYYY"];function $H(n){return-1!==HH.indexOf(n)}function zH(n){return-1!==GH.indexOf(n)}function dP(n,e,t){if("YYYY"===n)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if("YY"===n)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if("D"===n)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if("DD"===n)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var WH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZH=/^'([^]*?)'?$/,KH=/''/g,YH=/[a-zA-Z]/;function Hm(n,e,t){qs(2,arguments);var i=String(e),r=t||{},l=r.locale||DH,u=l.options&&l.options.firstWeekContainsDate,f=null==u?1:ja(u),_=null==r.firstWeekContainsDate?f:ja(r.firstWeekContainsDate);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=l.options&&l.options.weekStartsOn,T=null==w?0:ja(w),M=null==r.weekStartsOn?T:ja(r.weekStartsOn);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!l.localize)throw new RangeError("locale must contain localize property");if(!l.formatLong)throw new RangeError("locale must contain formatLong property");var N=kc(n);if(!Uj(N))throw new RangeError("Invalid time value");var H=jH(N),Z=IH(N,H),ce={firstWeekContainsDate:_,weekStartsOn:M,locale:l,_originalDate:N},Ve=i.match(qH).map(function(Ze){var st=Ze[0];return"p"===st||"P"===st?(0,UH[st])(Ze,l.formatLong,ce):Ze}).join("").match(WH).map(function(Ze){if("''"===Ze)return"'";var st=Ze[0];if("'"===st)return QH(Ze);var ut=LH[st];if(ut)return!r.useAdditionalWeekYearTokens&&zH(Ze)&&dP(Ze,e,n),!r.useAdditionalDayOfYearTokens&&$H(Ze)&&dP(Ze,e,n),ut(Z,Ze,l.localize,ce);if(st.match(YH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+st+"`");return Ze}).join("");return Ve}function QH(n){return n.match(ZH)[1].replace(KH,"'")}class hP{}class fP{}class gd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),l=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,l),this.headers.has(l)?this.headers.get(l).push(u):this.headers.set(l,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof gd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new gd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof gd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const l=e.value;if(l){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===l.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class JH{encodeKey(e){return pP(e)}encodeValue(e){return pP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const e3=/%(\d[a-f0-9])/gi,t3={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function pP(n){return encodeURIComponent(n).replace(e3,(e,t)=>{var i;return null!==(i=t3[t])&&void 0!==i?i:e})}function mP(n){return`${n}`}class Df{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new JH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function XH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const l=r.indexOf("="),[u,f]=-1==l?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,l)),e.decodeValue(r.slice(l+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(l=>{t.push({param:i,value:l,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Df({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(mP(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(mP(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class n3{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function gP(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function _P(n){return"undefined"!=typeof Blob&&n instanceof Blob}function yP(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Y0{constructor(e,t,i,r){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function i3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,l=r):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new gd),this.context||(this.context=new n3),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Df,this.urlWithParams=t}serializeBody(){return null===this.body?null:gP(this.body)||_P(this.body)||yP(this.body)||function r3(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Df?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yP(this.body)?null:_P(this.body)?this.body.type||null:gP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Df?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,l=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,T=e.params||this.params;const M=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((N,H)=>N.set(H,e.setHeaders[H]),w)),e.setParams&&(T=Object.keys(e.setParams).reduce((N,H)=>N.set(H,e.setParams[H]),T)),new Y0(i,r,u,{params:T,headers:w,context:M,reportProgress:_,responseType:l,withCredentials:f})}}var br=(()=>((br=br||{})[br.Sent=0]="Sent",br[br.UploadProgress=1]="UploadProgress",br[br.ResponseHeader=2]="ResponseHeader",br[br.DownloadProgress=3]="DownloadProgress",br[br.Response=4]="Response",br[br.User=5]="User",br))();class Kx{constructor(e,t=200,i="OK"){this.headers=e.headers||new gd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Yx extends Kx{constructor(e={}){super(e),this.type=br.ResponseHeader}clone(e={}){return new Yx({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class IT extends Kx{constructor(e={}){super(e),this.type=br.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new IT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Qx extends Kx{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Jx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let s3=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let l;if(t instanceof Y0)l=t;else{let _,w;_=r.headers instanceof gd?r.headers:new gd(r.headers),r.params&&(w=r.params instanceof Df?r.params:new Df({fromObject:r.params})),l=new Y0(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=(0,lt.of)(l).pipe((0,uo.b)(_=>this.handler.handle(_)));if(t instanceof Y0||"events"===r.observe)return u;const f=u.pipe((0,En.h)(_=>_ instanceof IT));switch(r.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,pt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Df).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Jx(r,i))}post(t,i,r={}){return this.request("POST",t,Jx(r,i))}put(t,i,r={}){return this.request("PUT",t,Jx(r,i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(hP))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class vP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const bP=new a.OlP("HTTP_INTERCEPTORS");let o3=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const a3=/^\)\]\}',?\n/;let wP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new jn.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((H,Z)=>r.setRequestHeader(H,Z.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&r.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();r.responseType="json"!==H?H:"text"}const l=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const H=r.statusText||"OK",Z=new gd(r.getAllResponseHeaders()),ce=function l3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new Yx({headers:Z,status:r.status,statusText:H,url:ce}),u},_=()=>{let{headers:H,status:Z,statusText:ce,url:Ve}=f(),Ze=null;204!==Z&&(Ze=void 0===r.response?r.responseText:r.response),0===Z&&(Z=Ze?200:0);let st=Z>=200&&Z<300;if("json"===t.responseType&&"string"==typeof Ze){const ut=Ze;Ze=Ze.replace(a3,"");try{Ze=""!==Ze?JSON.parse(Ze):null}catch(gt){Ze=ut,st&&(st=!1,Ze={error:gt,text:Ze})}}st?(i.next(new IT({body:Ze,headers:H,status:Z,statusText:ce,url:Ve||void 0})),i.complete()):i.error(new Qx({error:Ze,headers:H,status:Z,statusText:ce,url:Ve||void 0}))},w=H=>{const{url:Z}=f(),ce=new Qx({error:H,status:r.status||0,statusText:r.statusText||"Unknown Error",url:Z||void 0});i.error(ce)};let T=!1;const M=H=>{T||(i.next(f()),T=!0);let Z={type:br.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(Z.total=H.total),"text"===t.responseType&&!!r.responseText&&(Z.partialText=r.responseText),i.next(Z)},N=H=>{let Z={type:br.UploadProgress,loaded:H.loaded};H.lengthComputable&&(Z.total=H.total),i.next(Z)};return r.addEventListener("load",_),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),t.reportProgress&&(r.addEventListener("progress",M),null!==l&&r.upload&&r.upload.addEventListener("progress",N)),r.send(l),i.next({type:br.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",_),r.removeEventListener("timeout",w),t.reportProgress&&(r.removeEventListener("progress",M),null!==l&&r.upload&&r.upload.removeEventListener("progress",N)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(In))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Xx=new a.OlP("XSRF_COOKIE_NAME"),eM=new a.OlP("XSRF_HEADER_NAME");class EP{}let c3=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=As(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q),a.LFG(a.Lbi),a.LFG(Xx))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),tM=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(EP),a.LFG(eM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),u3=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(bP,[]);this.chain=i.reduceRight((r,l)=>new vP(r,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fP),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),d3=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:tM,useClass:o3}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Xx,useValue:t.cookieName}:[],t.headerName?{provide:eM,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[tM,{provide:bP,useExisting:tM,multi:!0},{provide:EP,useClass:c3},{provide:Xx,useValue:"XSRF-TOKEN"},{provide:eM,useValue:"X-XSRF-TOKEN"}]}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[s3,{provide:hP,useClass:u3},wP,{provide:fP,useExisting:wP}],imports:[[d3.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var na=A(5620);const AT={signIn:(0,na.PH)("[Auth] Sign In User"),signOut:(0,na.PH)("[Auth] Sign Out User")},p3=(0,na.Lq)({isAuth:!1},(0,na.on)(AT.signIn,n=>Object.assign(Object.assign({},n),{isAuth:!0})),(0,na.on)(AT.signOut,n=>Object.assign(Object.assign({},n),{isAuth:!1}))),ST={setUser:(0,na.PH)("[User] Set User",(0,na.Ky)()),clearUser:(0,na.PH)("[User] Clear User Data")},CP={displayName:"",email:"",uid:"",role:"",favoriteFlavors:[],lastOrder:{date:"",orderID:""}},m3=(0,na.Lq)(CP,(0,na.on)(ST.setUser,(n,e)=>Object.assign(Object.assign({},n),{displayName:e.displayName,email:e.email,uid:e.uid,role:e.role,favoriteFlavors:e.favoriteFlavors,lastOrder:e.lastOrder})),(0,na.on)(ST.clearUser,n=>Object.assign(Object.assign({},n),CP)));let Pc=(()=>{class n{constructor(t,i,r){this.authService=t,this.store=i,this.db=r}signIn(t,i){return this.authService.login(t,i).pipe((0,Fs.K)(r=>(0,lt.of)(r)),(0,pt.U)(r=>r instanceof Qx?{error:"Nie mo\u017cna po\u0142\u0105czy\u0107 si\u0119 z serwerem.",res:null}:r instanceof sp.ZR?{error:"Z\u0142y login lub has\u0142o.",res:null}:{error:null,res:r}),(0,kn.b)(r=>{null===r.error&&this.store.dispatch(AT.signIn())}))}logOut(){return this.authService.logout().pipe((0,kn.b)(()=>{this.store.dispatch(AT.signOut()),this.store.dispatch(ST.clearUser())}))}setUserData(){return this.db.doc(`users/${this.userID}`).valueChanges().pipe((0,kn.b)(t=>{t&&this.store.dispatch(ST.setUser({uid:t.uid,displayName:t.displayName,email:t.email,role:t.role,favoriteFlavors:t.favoriteFlavors,lastOrder:t.lastOrder}))}))}isAuth(){return this.store.select(t=>t.auth.isAuth)}getUserID(){return this.userID}setUserID(t){this.userID=t}getUserName(){return this.store.select(t=>t.user.displayName)}getUserRole(){return this.store.select(t=>t.user.role)}getUserFavoriteFlavors(){return this.store.select(t=>t.user.favoriteFlavors)}getLastOrder(){return this.store.select(t=>t.user.lastOrder)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wv),a.LFG(na.yh),a.LFG(pf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DP=(()=>{class n{constructor(t,i){this.db=t,this.userSerive=i,this.favoritesFlavors=new gi.X([""])}getFlavors(){return this.db.collection("icecreams").valueChanges()}getFavoriteFlavors(){return this.userSerive.getUserFavoriteFlavors().pipe((0,kn.b)(t=>this.favoritesFlavors.next(t)))}addFlavorToFavorites(t){const i=this.userSerive.getUserID();if(this.favoritesFlavors.getValue().includes(t))return;const r=[...this.favoritesFlavors.getValue(),t];this.db.doc(`users/${i}`).update({favoriteFlavors:[...r]})}removeFlavorFromFavorites(t){const i=this.userSerive.getUserID(),r=this.favoritesFlavors.getValue().filter(l=>l!==t);this.db.doc(`users/${i}`).update({favoriteFlavors:[...r]})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(pf),a.LFG(Pc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TP=(()=>{class n{constructor(t,i,r){this.db=t,this.formCreatorService=i,this.toast=r,this.unitList=new gi.X([])}addUnit(t){const i=this.generateDocID(28);this.checkIfUnitExist(t)?this.toast.error("Pojemno\u015b\u0107 o takim rozmiarze istnieje","Pojemno\u015b\u0107 istnieje"):(this.db.doc(`units/${i}`).set({id:i,value:t,unitName:"ml"},{merge:!0}),this.toast.success("Dodano now\u0105 pojemno\u015b\u0107","Pojemno\u015b\u0107 dodana"))}deleteUnit(t){this.db.doc(`units/${t}`).delete()}getUnits(){return this.db.collection("units").valueChanges().pipe((0,pt.U)(t=>t.sort((i,r)=>i.value-r.value)),(0,kn.b)(t=>this.unitList.next(t)))}generateDocID(t){let i="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let l=r.length;for(let u=0;u<t;u++)i+=r.charAt(Math.floor(Math.random()*l));return i}checkIfUnitExist(t){let i=!1;return this.unitList.getValue().forEach(r=>{r.value===t&&(i=!0)}),i}createForm(){return this.formCreatorService.createUnitForm()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(pf),a.LFG(zD),a.LFG(V0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g3=(()=>{class n{constructor(t,i,r,l){this.formBuilder=t,this.unitListService=i,this.db=r,this.userService=l}createForm(){return this.formBuilder.group({order:this.formBuilder.array([])})}getUnits(){return this.unitListService.getUnits()}sendOrder(t,i){const r=this.generateDocID(28),l=this.userService.getUserID();this.db.doc(`orders/${r}`).set({client:i,date:Hm(new Date,"yyyy-MM-dd"),order:t.order},{merge:!0}),this.db.doc(`users/${l}`).update({lastOrder:{date:Hm(new Date,"yyyy-MM-dd"),orderID:r}})}generateDocID(t){let i="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let l=r.length;for(let u=0;u<t;u++)i+=r.charAt(Math.floor(Math.random()*l));return i}getLastOrder(){return this.userService.getLastOrder().pipe((0,Rn.w)(t=>this.db.doc(`orders/${t.orderID}`).valueChanges().pipe((0,Fs.K)(i=>(0,lt.of)(i)),(0,pt.U)(i=>i instanceof sp.ZR||void 0===i?null:i))))}sendLastOrder(t){const i=this.generateDocID(28),r=this.userService.getUserID();this.db.doc(`orders/${i}`).set({client:t.client,order:t.order,date:Hm(new Date,"yyyy-MM-dd")},{merge:!0}),this.db.doc(`users/${r}`).update({lastOrder:{date:Hm(new Date,"yyyy-MM-dd"),orderID:i}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(lx),a.LFG(TP),a.LFG(pf),a.LFG(Pc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var IP=A(4408);const Q0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Q0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(l=>{t=void 0,n(l)});return new Or.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=Q0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Q0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var AP=A(7565);new class y3 extends AP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class _3 extends IP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Q0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(Q0.cancelAnimationFrame(t),e._scheduled=void 0)}});let nM,b3=1;const xT={};function SP(n){return n in xT&&(delete xT[n],!0)}const w3={setImmediate(n){const e=b3++;return xT[e]=!0,nM||(nM=Promise.resolve()),nM.then(()=>SP(e)&&n()),e},clearImmediate(n){SP(n)}},{setImmediate:E3,clearImmediate:C3}=w3,MT={setImmediate(...n){const{delegate:e}=MT;return((null==e?void 0:e.setImmediate)||E3)(...n)},clearImmediate(n){const{delegate:e}=MT;return((null==e?void 0:e.clearImmediate)||C3)(n)},delegate:void 0};new class T3 extends AP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class D3 extends IP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=MT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(MT.clearImmediate(t),e._scheduled=void 0)}});var S3=A(3532),x3=A(1165);function xP(n,e=Zo.z){return function A3(n){return(0,Rr.e)((e,t)=>{let i=!1,r=null,l=null,u=!1;const f=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const w=r;r=null,t.next(w)}u&&t.complete()},_=()=>{l=null,u&&t.complete()};e.subscribe((0,Ui.x)(t,w=>{i=!0,r=w,l||(0,iu.Xf)(n(w)).subscribe(l=(0,Ui.x)(t,f,_))},()=>{u=!0,(!i||!l||l.closed)&&t.complete()}))})}(()=>function M3(n=0,e,t=Zo.P){let i=-1;return null!=e&&((0,S3.K)(e)?t=e:i=e),new jn.y(r=>{let l=(0,x3.q)(n)?+n-t.now():n;l<0&&(l=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},l)})}(n,e))}let R3=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Nt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new jn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(xP(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,lt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,En.h)(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,t)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=md(i),l=t.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vT(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(To),a.LFG(q,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OT=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Nt.x,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,l=r.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(To),a.LFG(a.R0b),a.LFG(q,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),MP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[B0,iM],B0,iM]}),n})();class rM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class P3 extends rM{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class sM extends rM{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class F3 extends rM{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class OP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof P3?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof sM?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof F3?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class N3 extends OP{constructor(e,t,i,r,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=l}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let L3=(()=>{class n extends OP{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=l=>{const u=l.element,f=this._document.createComment("dom-portal");l.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,l=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(l,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(q))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),RP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const kP=GV();class B3{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=vr(-this._previousScrollPosition.left),e.style.top=vr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,l=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),kP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),kP&&(i.scrollBehavior=l,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class U3{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class PP{enable(){}disable(){}attach(){}}function oM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function FP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class j3{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();oM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let H3=(()=>{class n{constructor(t,i,r,l){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new PP,this.close=u=>new U3(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new B3(this._viewportRuler,this._document),this.reposition=u=>new j3(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(R3),a.LFG(OT),a.LFG(a.R0b),a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class NP{constructor(e){if(this.scrollStrategy=new PP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class G3{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class $3{constructor(e,t,i,r,l,u,f,_,w){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=l,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new Nt.x,this._attachments=new Nt.x,this._detachments=new Nt.x,this._locationChanges=Or.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Nt.x,this._outsidePointerEvents=new Nt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,jr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=vr(this._config.width),e.height=vr(this._config.height),e.minWidth=vr(this._config.minWidth),e.minHeight=vr(this._config.minHeight),e.maxWidth=vr(this._config.maxWidth),e.maxHeight=vr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=Ik(t||[]).filter(l=>!!l);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,qr.R)((0,Jl.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let LP=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||hx()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<r.length;l++)r[l].remove()}const i=this._document.createElement("div");i.classList.add(t),hx()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q),a.LFG(To))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VP="cdk-overlay-connected-position-bounding-box",z3=/([A-Za-z%]+)$/;class W3{constructor(e,t,i,r,l){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Nt.x,this._resizeSubscription=Or.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(VP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,l=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),w=this._getOverlayPoint(_,t,f),T=this._getOverlayFit(w,t,i,f);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(T,w,i)?l.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(l.length){let f=null,_=-1;for(const w of l){const T=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);T>_&&(_=T,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Gm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(VP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,l;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),l="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(l-=t.top),{x:r,y:l}}_getOverlayPoint(e,t,i){let r,l;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+l}}_getOverlayFit(e,t,i,r){const l=UP(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(f+=w);let N=0-f,H=f+l.height-i.height,Z=this._subtractOverflows(l.width,0-u,u+l.width-i.width),ce=this._subtractOverflows(l.height,N,H),Ve=Z*ce;return{visibleArea:Ve,isCompletelyWithinViewport:l.width*l.height===Ve,fitsInViewportVertically:ce===l.height,fitsInViewportHorizontally:Z==l.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,l=i.right-t.x,u=BP(this._overlayRef.getConfig().minHeight),f=BP(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=l;return(e.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=UP(t),l=this._viewportRect,u=Math.max(e.x+r.width-l.width,0),f=Math.max(e.y+r.height-l.height,0),_=Math.max(l.top-i.top-e.y,0),w=Math.max(l.left-i.left-e.x,0);let T=0,M=0;return T=r.width<=l.width?w||-u:e.x<this._viewportMargin?l.left-i.left-e.x:0,M=r.height<=l.height?_||-f:e.y<this._viewportMargin?l.top-i.top-e.y:0,this._previousPushAmount={x:T,y:M},{x:e.x+T,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new G3(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let l,u,f,T,M,N;if("top"===t.overlayY)u=e.y,l=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,l=i.height-f+this._viewportMargin;else{const H=Math.min(i.bottom-e.y+i.top,e.y),Z=this._lastBoundingBoxSize.height;l=2*H,u=e.y-H,l>Z&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-Z/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)N=i.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)M=e.x,T=i.right-e.x;else{const H=Math.min(i.right-e.x+i.left,e.x),Z=this._lastBoundingBoxSize.width;T=2*H,M=e.x-H,T>Z&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-Z/2)}return{top:u,left:M,bottom:f,right:N,width:T,height:l}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=vr(i.height),r.top=vr(i.top),r.bottom=vr(i.bottom),r.width=vr(i.width),r.left=vr(i.left),r.right=vr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(r.maxHeight=vr(l)),u&&(r.maxWidth=vr(u))}this._lastBoundingBoxSize=i,Gm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Gm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Gm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),l=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();Gm(i,this._getExactOverlayY(t,e,T)),Gm(i,this._getExactOverlayX(t,e,T))}else i.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=vr(u.maxHeight):l&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=vr(u.maxWidth):l&&(i.maxWidth="")),Gm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":r.top=vr(l.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":r.left=vr(l.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:FP(e,i),isOriginOutsideView:oM(e,i),isOverlayClipped:FP(t,i),isOverlayOutsideView:oM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ik(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Gm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function BP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(z3);return t&&"px"!==t?null:parseFloat(e)}return n||null}function UP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const jP="cdk-global-overlay-wrapper";class q3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(jP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:l,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==l&&"100vh"!==l||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(jP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Z3=(()=>{class n{constructor(t,i,r,l){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=l}global(){return new q3}flexibleConnectedTo(t){return new W3(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(OT),a.LFG(q),a.LFG(To),a.LFG(LP))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K3=(()=>{class n extends HP{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const l=this._attachedOverlays;for(let u=l.length-1;u>-1;u--)if(l[u]._keydownEvents.observers.length>0){const f=l[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y3=(()=>{class n extends HP{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Nm(l)},this._clickListener=l=>{const u=Nm(l),f="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const T=_[w];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(u)||T.overlayElement.contains(f))break;const M=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(l)):M.next(l)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(q),a.LFG(To),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q3=0,RT=(()=>{class n{constructor(t,i,r,l,u,f,_,w,T,M,N){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=l,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=T,this._location=M,this._outsideClickDispatcher=N}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),l=this._createPortalOutlet(r),u=new NP(t);return u.direction=u.direction||this._directionality.value,new $3(l,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Q3++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new N3(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(H3),a.LFG(LP),a.LFG(a._Vd),a.LFG(Z3),a.LFG(K3),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(q),a.LFG(qD),a.LFG(ye),a.LFG(Y3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const J3=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],GP=new a.OlP("cdk-connected-overlay-scroll-strategy");let $P=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),zP=(()=>{class n{constructor(t,i,r,l,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Or.w0.EMPTY,this._attachSubscription=Or.w0.EMPTY,this._detachSubscription=Or.w0.EMPTY,this._positionSubscription=Or.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new sM(i,r),this._scrollStrategyFactory=l,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=ci(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=ci(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=ci(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=ci(t)}get push(){return this._push}set push(t){this._push=ci(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=J3);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!vf(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new NP({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof $P?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function V3(n,e=!1){return(0,Rr.e)((t,i)=>{let r=0;t.subscribe((0,Ui.x)(i,l=>{const u=n(l,r++);(u||e)&&i.next(l),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(RT),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(GP),a.Y36(qD,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[a.TTD]}),n})();const e6={provide:GP,deps:[RT],useFactory:function X3(n){return()=>n.scrollStrategies.reposition()}};let t6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[RT,e6],imports:[[B0,RP,MP],MP]}),n})();const n6=["trigger"],i6=["panel"];function r6(n,e){if(1&n&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.placeholder)}}function s6(n,e){if(1&n&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(t.triggerValue)}}function o6(n,e){1&n&&a.Hsn(0,0,["*ngSwitchCase","true"])}function a6(n,e){if(1&n&&(a.TgZ(0,"span",9),a.YNc(1,s6,2,1,"span",10),a.YNc(2,o6,1,0,"ng-content",11),a.qZA()),2&n){const t=a.oxw();a.Q6J("ngSwitch",!!t.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function l6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",13)(1,"div",14,15),a.NdJ("@transformPanel.done",function(r){return a.CHM(t),a.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return a.CHM(t),a.oxw()._handleKeydown(r)}),a.Hsn(3,1),a.qZA()()}if(2&n){const t=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",t._getPanelTheme(),""),a.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),a.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),a.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const c6=[[["mat-select-trigger"]],"*"],u6=["mat-select-trigger","*"],WP={transformPanelWrap:fy("transformPanelWrap",[yf("* => void",lV("@transformPanel",[aV()],{optional:!0}))]),transformPanel:fy("transformPanel",[wl("void",Ws({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),wl("showing",Ws({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),wl("showing-multiple",Ws({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),yf("void => *",Pm("120ms cubic-bezier(0, 0, 0.2, 1)")),yf("* => void",Pm("100ms 25ms linear",Ws({opacity:0})))])};let qP=0;const KP=new a.OlP("mat-select-scroll-strategy"),p6=new a.OlP("MAT_SELECT_CONFIG"),m6={provide:KP,deps:[RT],useFactory:function f6(n){return()=>n.scrollStrategies.reposition()}};class g6{constructor(e,t){this.source=e,this.value=t}}const _6=vy(M1(Ux(O1(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r}})))),y6=new a.OlP("MatSelectTrigger");let v6=(()=>{class n extends _6{constructor(t,i,r,l,u,f,_,w,T,M,N,H,Z,ce){var Ve,Ze,st;super(u,l,_,w,M),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=T,this._liveAnnouncer=Z,this._defaultOptions=ce,this._panelOpen=!1,this._compareWith=(ut,gt)=>ut===gt,this._uid="mat-select-"+qP++,this._triggerAriaLabelledBy=null,this._destroy=new Nt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+qP++,this._panelDoneAnimatingStream=new Nt.x,this._overlayPanelClass=(null===(Ve=this._defaultOptions)||void 0===Ve?void 0:Ve.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(st=null===(Ze=this._defaultOptions)||void 0===Ze?void 0:Ze.disableOptionCentering)&&void 0!==st&&st,this.ariaLabel="",this.optionSelectionChanges=Ya(()=>{const ut=this.options;return ut?ut.changes.pipe(oi(ut),(0,Rn.w)(()=>(0,Jl.T)(...ut.map(gt=>gt.onSelectionChange)))):this._ngZone.onStable.pipe((0,jr.q)(1),(0,Rn.w)(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe((0,En.h)(ut=>ut),(0,pt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,En.h)(ut=>!ut),(0,pt.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ce?void 0:ce.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ce.typeaheadDebounceInterval),this._scrollStrategyFactory=H,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(N)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,r,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(bl.required))&&void 0!==l&&l}set required(t){this._required=ci(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=ci(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=ci(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=py(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Wx(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Wg.x)(),(0,qr.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,qr.R)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(oi(null),(0,qr.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,l=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&l&&!vf(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(t);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,l=40===r||38===r,u=i.isTyping();if(l&&t.altKey)t.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||vf(t))if(!u&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(t),this._multiple&&l&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,jr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(l){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new oB(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,qr.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,qr.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Jl.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,qr.R)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Jl.T)(...this.options.map(i=>i._stateChanges)).pipe((0,qr.R)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(OT),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(jx),a.Y36(a.SBq),a.Y36(qD,8),a.Y36(N0,8),a.Y36(Mc,8),a.Y36($x,8),a.Y36(xc,10),a.$8M("tabindex"),a.Y36(KP),a.Y36(yB),a.Y36(p6,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&(a.Gf(n6,5),a.Gf(i6,5),a.Gf(zP,5)),2&t){let r;a.iGM(r=a.CRH())&&(i.trigger=r.first),a.iGM(r=a.CRH())&&(i.panel=r.first),a.iGM(r=a.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),n})(),b6=(()=>{class n extends v6{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const l=this._getItemHeight();return Math.min(Math.max(0,l*t-i+l/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,qr.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,jr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=H1(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function PU(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new g6(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),l=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let w=this._selectionModel.selected[0]||this.options.first;u=w&&w.group?32:16}r||(u*=-1);const f=0-(t.left+u-(r?l:0)),_=t.right+u-i.width+(r?0:l);f>0?u+=f+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const l=this._getItemHeight(),u=(l-this._triggerRect.height)/2,f=Math.floor(256/l);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?t*l:this._scrollTop===r?(t-(this._getItemCount()-f))*l+(l-(this._getItemCount()*l-256)%l):i-l/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),l=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),w=Math.min(this._getItemCount()*i,256)-f-this._triggerRect.height;w>u?this._adjustPanelUp(w,u):f>l?this._adjustPanelDown(f,l,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const l=Math.round(t-i);if(this._scrollTop+=l,this._offsetY+=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),u=i*t-r;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=H1(f,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(f,_,u),this._offsetY=this._calculateOverlayOffsetY(f,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,y6,5),a.Suo(r,j1,5),a.Suo(r,U1,5)),2&t){let l;a.iGM(l=a.CRH())&&(i.customTrigger=l.first),a.iGM(l=a.CRH())&&(i.options=l),a.iGM(l=a.CRH())&&(i.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&a.NdJ("keydown",function(l){return i._handleKeydown(l)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(a.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),a.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:bT,useExisting:n},{provide:B1,useExisting:n}]),a.qOj],ngContentSelectors:u6,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(a.F$t(c6),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return i.toggle()}),a.TgZ(3,"div",2),a.YNc(4,r6,2,1,"span",3),a.YNc(5,a6,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA()(),a.YNc(8,l6,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=a.MAs(1);a.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",i.empty),a.uIk("id",i._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[$P,Ge,xt,zn,zP,Qr],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[WP.transformPanelWrap,WP.transformPanel]},changeDetection:0}),n})(),YP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[m6],imports:[[Ir,t6,G1,Ci],iM,zx,G1,Ci]}),n})();function w6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-list-item",12)(1,"div",15)(2,"span"),a._uU(3),a.qZA(),a.TgZ(4,"button",16),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(3).addFlavorToOrder(l)}),a._uU(5," Dodaj "),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(3),a.Oqu(t)}}function E6(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"mat-list",11)(2,"mat-list-item",12)(3,"div",13)(4,"span"),a._uU(5,"Ulubione smaki"),a.qZA()()(),a.YNc(6,w6,6,1,"mat-list-item",14),a.ALo(7,"async"),a.qZA(),a.BQk()),2&n){const t=a.oxw(2);a.xp6(6),a.Q6J("ngForOf",a.lcZ(7,1,t.favoriteList$))}}function C6(n,e){if(1&n&&(a.TgZ(0,"mat-option",30),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.Q6J("value",t),a.xp6(1),a.hij(" ",t.value," ")}}function D6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",31),a.NdJ("click",function(){a.CHM(t);const r=a.oxw().index;return a.oxw(4).removeFlavor(r)}),a._uU(1," \u274c "),a.qZA()}}function T6(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"div",23)(2,"label")(3,"span"),a._uU(4),a.qZA()(),a.TgZ(5,"mat-form-field",24)(6,"mat-label"),a._uU(7,"Pojemno\u015b\u0107"),a.qZA(),a.TgZ(8,"mat-select",25)(9,"mat-option"),a._uU(10,"--"),a.qZA(),a.YNc(11,C6,2,2,"mat-option",26),a.ALo(12,"async"),a.qZA()(),a.TgZ(13,"mat-form-field",27)(14,"mat-label"),a._uU(15,"Ilo\u015b\u0107"),a.qZA(),a._UZ(16,"input",28),a.qZA(),a.YNc(17,D6,2,0,"button",29),a.qZA(),a.BQk()),2&n){const t=e.$implicit,i=a.oxw(4);a.xp6(1),a.Q6J("formGroup",t),a.xp6(3),a.Oqu(t.controls.flavor.value),a.xp6(7),a.Q6J("ngForOf",a.lcZ(12,4,i.unitList$)),a.xp6(6),a.Q6J("ngIf",i.orderFormArray.length>0)}}function I6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",19),a.NdJ("ngSubmit",function(){a.CHM(t);const r=a.oxw().ngIf;return a.oxw(2).onSubmit(r)}),a.TgZ(1,"div",20),a.YNc(2,T6,18,6,"ng-container",21),a.qZA(),a.TgZ(3,"button",22),a._uU(4," Z\u0142\xf3\u017c zam\xf3wienie "),a.qZA()()}if(2&n){const t=a.oxw(3);a.Q6J("formGroup",t.orderForm),a.xp6(2),a.Q6J("ngForOf",t.orderFormGroup),a.xp6(1),a.Q6J("disabled",!t.orderForm.valid)}}function A6(n,e){if(1&n&&(a.TgZ(0,"div",17)(1,"p"),a._uU(2,"Zam\xf3wienie na lody"),a.qZA(),a.YNc(3,I6,5,3,"form",18),a.qZA()),2&n){const t=a.oxw(2),i=a.MAs(9);a.xp6(3),a.Q6J("ngIf",t.orderFormArray.length>0)("ngIfElse",i)}}function S6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",7)(1,"div",8)(2,"button",9),a.NdJ("click",function(){return a.CHM(t),a.oxw().changeFlavorList()}),a._uU(3),a.qZA(),a.YNc(4,E6,8,3,"ng-container",2),a.qZA(),a.YNc(5,A6,4,2,"div",10),a.ALo(6,"async"),a.qZA()}if(2&n){const t=a.oxw(),i=a.MAs(7);a.xp6(3),a.hij(" Prze\u0142\u0105cz na ",t.favoriteListSelected?"wszystkie":"ulubione"," smaki "),a.xp6(1),a.Q6J("ngIf",t.favoriteListSelected)("ngIfElse",i),a.xp6(1),a.Q6J("ngIf",a.lcZ(6,4,t.userName$))}}function x6(n,e){if(1&n&&(a.TgZ(0,"p"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.HOy(" ",t.flavor," ",t.unit.value," ",t.unit.unitName," x",t.amount," ")}}function M6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){a.CHM(t);const r=a.oxw().ngIf;return a.oxw().sendLastOrder(r)}),a._uU(1," Zam\xf3w ponownie "),a.qZA()}}function O6(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"p"),a._uU(2),a.qZA(),a.YNc(3,x6,2,4,"p",21),a.YNc(4,M6,2,0,"button",32),a.BQk()),2&n){const t=e.ngIf,i=a.oxw();a.xp6(2),a.hij("Dnia ",t.date,""),a.xp6(1),a.Q6J("ngForOf",t.order),a.xp6(1),a.Q6J("ngIf",i.showOrder)}}function R6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-list-item",12)(1,"div",15)(2,"span"),a._uU(3),a.qZA(),a.TgZ(4,"button",16),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).addFlavorToOrder(l.name)}),a._uU(5," Dodaj "),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(3),a.Oqu(t.name)}}function k6(n,e){if(1&n&&(a.TgZ(0,"mat-list",11)(1,"mat-list-item",12)(2,"div",13)(3,"span"),a._uU(4,"Wszystkie smaki"),a.qZA()()(),a.YNc(5,R6,6,1,"mat-list-item",14),a.ALo(6,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(5),a.Q6J("ngForOf",a.lcZ(6,1,t.flavorList$))}}function P6(n,e){1&n&&(a.TgZ(0,"p"),a._uU(1,"Nie wybrano jeszcze lod\xf3w do zam\xf3wienia."),a.qZA())}function F6(n,e){1&n&&(a.TgZ(0,"p"),a._uU(1,"Brak zam\xf3wie\u0144"),a.qZA())}function N6(n,e){1&n&&(a.TgZ(0,"p",33),a._uU(1," Tylko jedno zam\xf3wienie na dzie\u0144, zapraszamy jutro. "),a.qZA())}let L6=(()=>{class n{constructor(t,i,r,l,u){this.userSerivce=t,this.flavorListClientService=i,this.clientOrderService=r,this.formBuilder=l,this.cdr=u,this.favoriteListSelected=!0,this.showOrder=!0}get orderFormArray(){return this.orderForm.controls.order}get orderFormGroup(){return this.orderFormArray.controls}ngOnInit(){this.favoriteList$=this.userSerivce.getUserFavoriteFlavors(),this.flavorList$=this.flavorListClientService.getFlavors(),this.orderForm=this.clientOrderService.createForm(),this.unitList$=this.clientOrderService.getUnits(),this.userName$=this.userSerivce.getUserName(),this.lastOrder$=this.clientOrderService.getLastOrder().pipe((0,kn.b)(t=>{t.date===Hm(new Date,"yyyy-MM-dd")&&(this.showOrder=!1)}))}changeFlavorList(){this.favoriteListSelected=!this.favoriteListSelected}addFlavorToOrder(t){this.addNextFlavor(t)}addNextFlavor(t){this.orderFormArray.push(new P0({flavor:this.formBuilder.control(t),unit:this.formBuilder.control("",[bl.required]),amount:this.formBuilder.control("",[bl.required])}))}removeFlavor(t){this.orderFormArray.removeAt(t)}onSubmit(t){this.orderForm.markAllAsTouched(),!this.orderForm.invalid&&(this.clientOrderService.sendOrder(this.orderForm.value,t),this.showOrder=!1,this.cdr.detectChanges())}sendLastOrder(t){this.clientOrderService.sendLastOrder(t),this.showOrder=!1}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Pc),a.Y36(DP),a.Y36(g3),a.Y36(lx),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-client-order"]],decls:14,vars:6,consts:[["class","order-view",4,"ngIf","ngIfElse"],[1,"last-order"],[4,"ngIf","ngIfElse"],["allFlavors",""],["noOrder",""],["noLastOrder",""],["returnTomorrow",""],[1,"order-view"],[1,"items-to-order"],["mat-raised-button","","color","primary",3,"click"],["class","selected-items",4,"ngIf"],["role","list",1,"list-container"],["role","listitem"],[1,"items","heading"],["role","listitem",4,"ngFor","ngForOf"],[1,"items","items-order"],["mat-raised-button","","color","accent",3,"click"],[1,"selected-items"],[3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"formGroup","ngSubmit"],["formArrayName","order",1,"order"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled"],[1,"order-item",3,"formGroup"],["appearance","fill"],["formControlName","unit","required",""],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"example-full-width"],["type","number","min","1","matInput","","formControlName","amount"],["type","button",3,"click",4,"ngIf"],[3,"value"],["type","button",3,"click"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"return-tomorrow"]],template:function(t,i){if(1&t&&(a.YNc(0,S6,7,6,"div",0),a.TgZ(1,"div",1)(2,"p"),a._uU(3,"Ostatnie zam\xf3wienie"),a.qZA(),a.YNc(4,O6,5,3,"ng-container",2),a.ALo(5,"async"),a.qZA(),a.YNc(6,k6,7,3,"ng-template",null,3,a.W1O),a.YNc(8,P6,2,0,"ng-template",null,4,a.W1O),a.YNc(10,F6,2,0,"ng-template",null,5,a.W1O),a.YNc(12,N6,2,0,"ng-template",null,6,a.W1O)),2&t){const r=a.MAs(11),l=a.MAs(13);a.Q6J("ngIf",i.showOrder)("ngIfElse",l),a.xp6(4),a.Q6J("ngIf",a.lcZ(5,4,i.lastOrder$))("ngIfElse",r)}},directives:[pe,Ef,CT,q0,Mn,hy,uy,Mc,HD,wT,wy,b6,cy,Rm,$D,j1,GD,jD,ET,mf],pipes:[fs],styles:[".order-view[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;width:80%;margin:0 auto}.items-to-order[_ngcontent-%COMP%]{flex-basis:40%}.list-container[_ngcontent-%COMP%]{flex-basis:40%;max-width:300px;background-color:#ffefd5;border-radius:10px;margin-bottom:1rem;margin-top:1rem}.list[_ngcontent-%COMP%]{background-color:#ffefd5;border-radius:10px;margin-bottom:1rem}.items[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;text-align:center}.items-order[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{text-align:center;flex-basis:50%}.heading[_ngcontent-%COMP%]{font-weight:700}.example-form[_ngcontent-%COMP%]{margin:3rem auto 2rem;min-width:150px;max-width:500px;width:100%;text-align:center}.example-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center}.selected-items[_ngcontent-%COMP%]{flex-grow:1}.selected-items[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem}.selected-items[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(2){font-weight:400;font-size:1.2rem}.order[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px;padding:1rem;margin-bottom:1rem}.order-item[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;align-items:center}.order-item[_ngcontent-%COMP%] > .example-full-width[_ngcontent-%COMP%]{margin-left:1rem}.order-item[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-child{flex-basis:15%}.order-item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-grow:1}.order-item[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{flex-basis:content;margin-left:1rem;border:none;background-color:transparent;cursor:pointer}.last-order[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:1rem;background-color:#ffefd5;border-radius:10px}.last-order[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-child{font-weight:700}.return-tomorrow[_ngcontent-%COMP%]{width:80%;text-align:center;font-weight:700;background-color:#f5f5f5;border-radius:10px;padding:3rem;margin:2rem auto}"],changeDetection:0}),n})(),V6=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-client"]],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},directives:[Wl],styles:[""],changeDetection:0}),n})(),B6=(()=>{class n{constructor(t,i,r){this.db=t,this.formCreatorService=i,this.toast=r,this.flavorList=new gi.X([])}addFlavor(t){const i=this.generateDocID(28),r=t.trim();""!==r?this.checkIfFlavorExist(r.toLowerCase())?this.toast.error("Smak o takiej nazwie istnieje","Smak istnieje"):(this.db.doc(`icecreams/${i}`).set({id:i,name:r},{merge:!0}),this.toast.success("Dodano nowy smak","Smak dodany")):this.toast.error("Nie podano \u017cadnego smaku","B\u0142\u0119dne dane")}deleteFlavor(t){this.db.doc(`icecreams/${t}`).delete()}getFlavors(){return this.db.collection("icecreams").valueChanges().pipe((0,kn.b)(t=>this.flavorList.next(t)))}generateDocID(t){let i="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let l=r.length;for(let u=0;u<t;u++)i+=r.charAt(Math.floor(Math.random()*l));return i}checkIfFlavorExist(t){let i=!1;return this.flavorList.getValue().forEach(r=>{r.name===t&&(i=!0)}),i}createForm(){return this.formCreatorService.createFlavorForm()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(pf),a.LFG(zD),a.LFG(V0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function U6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-list-item",8)(1,"div",9)(2,"span"),a._uU(3),a.qZA()(),a.TgZ(4,"span",10),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw().deleteFlavor(l.id)}),a._uU(5,"\u274c"),a.qZA()()}if(2&n){const t=e.$implicit;a.xp6(3),a.Oqu(t.name)}}let j6=(()=>{class n{constructor(t){this.flavorListService=t,this.blockButton=!1}ngOnInit(){this.flavorList$=this.flavorListService.getFlavors(),this.addFlavorForm=this.flavorListService.createForm()}submit(){this.blockButton=!0,this.addFlavorForm.markAllAsTouched();const{name:t}=this.addFlavorForm.value;this.addFlavorForm.invalid||(setTimeout(()=>this.blockButton=!1,1e3),this.flavorListService.addFlavor(t),this.addFlavorForm.reset(),this.addFlavorForm.controls.name.setValue(" "))}deleteFlavor(t){this.flavorListService.deleteFlavor(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(B6))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-flavor-list-admin"]],decls:15,vars:5,consts:[[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","name"],["mat-raised-button","","color","primary",3,"disabled"],["role","list",1,"list"],["role","listitem"],[1,"items","heading"],["role","listitem","class","items",4,"ngFor","ngForOf"],["role","listitem",1,"items"],[1,"items"],[1,"delete-icon",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return i.submit()}),a.TgZ(1,"div")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Smak lod\xf3w"),a.qZA(),a._UZ(5,"input",2),a.qZA()(),a.TgZ(6,"button",3),a._uU(7,"Dodaj nowy smak"),a.qZA()(),a.TgZ(8,"mat-list",4)(9,"mat-list-item",5)(10,"div",6)(11,"span"),a._uU(12,"Smaki lod\xf3w"),a.qZA()()(),a.YNc(13,U6,6,1,"mat-list-item",7),a.ALo(14,"async"),a.qZA()),2&t&&(a.Q6J("formGroup",i.addFlavorForm),a.xp6(6),a.Q6J("disabled",i.addFlavorForm.invalid||i.blockButton),a.xp6(7),a.Q6J("ngForOf",a.lcZ(14,3,i.flavorList$)))},directives:[hy,uy,Mc,wT,wy,ET,mf,cy,Rm,Ef,CT,q0,Mn],pipes:[fs],styles:[".list[_ngcontent-%COMP%]{width:300px;margin:0 auto;background-color:#ffefd5;border-radius:10px}.items[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;position:relative}.heading[_ngcontent-%COMP%]{font-weight:700}.example-form[_ngcontent-%COMP%]{margin:3rem auto 2rem;min-width:150px;max-width:500px;width:100%;text-align:center}.example-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center}.example-full-width[_ngcontent-%COMP%]{width:50%}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(-50%,-50%);cursor:pointer}"],changeDetection:0}),n})();function H6(n,e){if(1&n&&(a.TgZ(0,"mat-list-option",8),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.Q6J("value",t.name),a.xp6(1),a.hij(" ",t.name," ")}}function G6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-selection-list",1,2)(2,"div",3)(3,"mat-list-item",4)(4,"div",5)(5,"span"),a._uU(6,"Dost\u0119pne smaki lod\xf3w"),a.qZA()()(),a.YNc(7,H6,2,2,"mat-list-option",6),a.qZA(),a.TgZ(8,"button",7),a.NdJ("click",function(){a.CHM(t);const r=a.MAs(1);return a.oxw().addToFavorites(r.selectedOptions.selected[0].value)}),a._uU(9," Dodaj do ulubionych "),a.qZA()()}if(2&n){const t=e.ngIf,i=a.MAs(1);a.Q6J("multiple",!1),a.xp6(7),a.Q6J("ngForOf",t),a.xp6(1),a.Q6J("disabled",!i.selectedOptions.selected.length)}}function $6(n,e){if(1&n&&(a.TgZ(0,"mat-list-option",8),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.Q6J("value",t),a.xp6(1),a.hij(" ",t," ")}}function z6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-selection-list",1,9)(2,"div",3)(3,"mat-list-item",4)(4,"div",5)(5,"span"),a._uU(6,"Ulubione smaki lod\xf3w"),a.qZA()()(),a.YNc(7,$6,2,2,"mat-list-option",6),a.qZA(),a.TgZ(8,"button",7),a.NdJ("click",function(){a.CHM(t);const r=a.MAs(1);return a.oxw().removeFromFavorites(r.selectedOptions.selected[0].value)}),a._uU(9," Usu\u0144 z ulubionych "),a.qZA()()}if(2&n){const t=e.ngIf,i=a.MAs(1);a.Q6J("multiple",!1),a.xp6(7),a.Q6J("ngForOf",t),a.xp6(1),a.Q6J("disabled",!i.selectedOptions.selected.length)}}let W6=(()=>{class n{constructor(t){this.flavorListService=t}ngOnInit(){this.flavorList$=this.flavorListService.getFlavors(),this.favoriteList$=this.flavorListService.getFavoriteFlavors()}addToFavorites(t){this.flavorListService.addFlavorToFavorites(t)}removeFromFavorites(t){this.flavorListService.removeFlavorFromFavorites(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(DP))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-flavor-list-client"]],decls:4,vars:6,consts:[["class","list-container",3,"multiple",4,"ngIf"],[1,"list-container",3,"multiple"],["flavors",""],[1,"list"],["role","listitem"],[1,"items","heading"],["class","items",3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"items",3,"value"],["favorites",""]],template:function(t,i){1&t&&(a.YNc(0,G6,10,3,"mat-selection-list",0),a.ALo(1,"async"),a.YNc(2,z6,10,3,"mat-selection-list",0),a.ALo(3,"async")),2&t&&(a.Q6J("ngIf",a.lcZ(1,2,i.flavorList$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(3,4,i.favoriteList$)))},directives:[pe,qx,q0,Mn,iP,Ef],pipes:[fs],styles:["[_nghost-%COMP%]{display:flex;width:80%;justify-content:space-evenly;margin:0 auto}.list-container[_ngcontent-%COMP%]{flex-basis:40%;max-width:300px}.list[_ngcontent-%COMP%]{background-color:#ffefd5;border-radius:10px;margin-bottom:1rem}.items[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;text-align:center}.heading[_ngcontent-%COMP%]{font-weight:700}.example-form[_ngcontent-%COMP%]{margin:3rem auto 2rem;min-width:150px;max-width:500px;width:100%;text-align:center}.example-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center}.example-full-width[_ngcontent-%COMP%]{width:50%}"],changeDetection:0}),n})(),q6=(()=>{class n{constructor(t,i){this.userService=t,this.router=i}canActivate(){return this.userService.getUserRole().pipe((0,pt.U)(t=>"admin"===t||(this.router.navigate(["home"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pc),a.LFG(Qn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z6=(()=>{class n{constructor(t,i){this.userService=t,this.router=i}canActivate(){return this.userService.isAuth().pipe((0,pt.U)(t=>!!t||(this.router.navigate(["login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pc),a.LFG(Qn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K6=(()=>{class n{constructor(t,i){this.userService=t,this.router=i}canActivate(){return this.userService.isAuth().pipe((0,pt.U)(t=>!t||(this.router.navigate(["home"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pc),a.LFG(Qn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y6=(()=>{class n{constructor(t,i){this.userService=t,this.router=i}canActivate(){return this.userService.getUserRole().pipe((0,pt.U)(t=>"user"===t||(this.router.navigate(["home"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pc),a.LFG(Qn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q6=["*",[["mat-toolbar-row"]]],J6=["*","mat-toolbar-row"],X6=yT(class{constructor(n){this._elementRef=n}});let QP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),eG=(()=>{class n extends X6{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(To),a.Y36(q))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,QP,5),2&t){let l;a.iGM(l=a.CRH())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&a.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:J6,decls:2,vars:0,template:function(t,i){1&t&&(a.F$t(Q6),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),JP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ci],Ci]}),n})();function tG(n,e){if(1&n&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&n){const t=e.ngIf;a.xp6(1),a.hij(" Zalogowano jako ",t," ")}}let nG=(()=>{class n{constructor(t,i){this.userService=t,this.router=i,this.appName="Ice cream shop"}ngOnInit(){this.username$=this.userService.getUserName()}logout(){this.userService.logOut().subscribe(()=>this.router.navigate(["login"]))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Pc),a.Y36(Qn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-header"]],decls:11,vars:6,consts:[["color","primary"],[1,"row"],[1,"example-spacer"],["class","username",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"username"]],template:function(t,i){1&t&&(a.TgZ(0,"p")(1,"mat-toolbar",0)(2,"mat-toolbar-row",1)(3,"span"),a._uU(4),a.ALo(5,"uppercase"),a.qZA(),a._UZ(6,"span",2),a.YNc(7,tG,2,1,"span",3),a.ALo(8,"async"),a.TgZ(9,"button",4),a.NdJ("click",function(){return i.logout()}),a._uU(10,"Log Out"),a.qZA()()()()),2&t&&(a.xp6(4),a.Oqu(a.lcZ(5,2,i.appName)),a.xp6(3),a.Q6J("ngIf",a.lcZ(8,4,i.username$)))},directives:[eG,QP,pe,Ef],pipes:[Lc,fs],styles:[".row[_ngcontent-%COMP%]{flex-wrap:wrap}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.username[_ngcontent-%COMP%]{margin-right:2rem;font-size:1rem}@media screen and (max-width: 760px){.username[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),n})();function iG(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const t=a.oxw(),i=a.MAs(1);a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),a.uIk("r",t._getCircleRadius())}}function rG(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const t=a.oxw(),i=a.MAs(1);a.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),a.uIk("r",t._getCircleRadius())}}const oG=yT(class{constructor(n){this._elementRef=n}},"primary"),aG=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function lG(){return{diameter:100}}});class _d extends oG{constructor(e,t,i,r,l,u,f,_){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Or.w0.EMPTY,this.mode="determinate";const w=_d._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),w.has(i.head)||w.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!l&&!l._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth)),t.isBrowser&&t.SAFARI&&f&&u&&_&&(this._resizeSubscription=f.change(150).subscribe(()=>{"indeterminate"===this.mode&&_.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=py(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=py(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,py(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=Rk(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const i=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${i}% ${i}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=_d._diameters;let r=i.get(e);if(!r||!r.has(t)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),e.appendChild(l),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}_d._diameters=new WeakMap,_d.\u0275fac=function(e){return new(e||_d)(a.Y36(a.SBq),a.Y36(To),a.Y36(q,8),a.Y36(Rc,8),a.Y36(aG),a.Y36(a.sBO),a.Y36(OT),a.Y36(a.R0b))},_d.\u0275cmp=a.Xpm({type:_d,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(a.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(a.O4$(),a.TgZ(0,"svg",0,1),a.YNc(2,iG,1,11,"circle",2),a.YNc(3,rG,1,9,"circle",3),a.qZA()),2&e&&(a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===t.mode),a.uIk("viewBox",t._getViewBox()),a.xp6(2),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},directives:[Ge,xt],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let XP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ci,Ir],Ci]}),n})();const uG=function(n){return["admin",n]};function dG(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"a",5)(2,"div",6),a._uU(3),a.qZA()(),a.BQk()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("routerLink",a.VKq(5,uG,t.route)),a.xp6(1),a.Q6J("matRippleCentered",!0)("matRippleDisabled",!1)("matRippleUnbounded",!1),a.xp6(1),a.Oqu(t.name)}}function hG(n,e){if(1&n&&(a.ynx(0),a.YNc(1,dG,4,7,"ng-container",4),a.BQk()),2&n){const t=a.oxw(3);a.xp6(1),a.Q6J("ngForOf",t.adminNav)}}const fG=function(n){return["client",n]};function pG(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"a",5)(2,"div",6),a._uU(3),a.qZA()(),a.BQk()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("routerLink",a.VKq(5,fG,t.route)),a.xp6(1),a.Q6J("matRippleCentered",!0)("matRippleDisabled",!1)("matRippleUnbounded",!1),a.xp6(1),a.Oqu(t.name)}}function mG(n,e){if(1&n&&(a.ynx(0),a.YNc(1,pG,4,7,"ng-container",4),a.BQk()),2&n){const t=a.oxw(3);a.xp6(1),a.Q6J("ngForOf",t.clientNav)}}function gG(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"div",3),a.YNc(2,hG,2,1,"ng-container",2),a.YNc(3,mG,2,1,"ng-container",2),a.qZA(),a.BQk()),2&n){const t=e.ngIf;a.xp6(2),a.Q6J("ngIf","admin"===t),a.xp6(1),a.Q6J("ngIf","user"===t)}}function _G(n,e){if(1&n&&(a.ynx(0),a.YNc(1,gG,4,2,"ng-container",2),a.ALo(2,"async"),a.BQk()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,t.role$))}}function yG(n,e){1&n&&a._UZ(0,"mat-spinner",7)}let vG=(()=>{class n{constructor(t,i){this.userService=t,this.router=i,this.adminNav=[{route:"clients",name:"Lista klient\xf3w"},{route:"flavors",name:"Lista smak\xf3w"},{route:"units",name:"Lista pojemno\u015bci"},{route:"orders",name:"Lista zam\xf3wie\u0144"}],this.clientNav=[{route:"flavors",name:"Lista smak\xf3w"},{route:"order",name:"Z\u0142\xf3\u017c zam\xf3wienie"}]}ngOnInit(){this.user$=this.userService.setUserData(),this.role$=this.userService.getUserRole()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Pc),a.Y36(Qn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:4,consts:[[4,"ngIf","ngIfElse"],["spinner",""],[4,"ngIf"],[1,"nav"],[4,"ngFor","ngForOf"],["routerLinkActive","item-active",3,"routerLink"],["matRipple","",1,"example-ripple-container","mat-elevation-z4",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded"],["diameter","100",1,"spinner"]],template:function(t,i){if(1&t&&(a._UZ(0,"app-header"),a.YNc(1,_G,3,3,"ng-container",0),a.ALo(2,"async"),a._UZ(3,"router-outlet"),a.YNc(4,yG,1,0,"ng-template",null,1,a.W1O)),2&t){const r=a.MAs(5);a.xp6(1),a.Q6J("ngIf",a.lcZ(2,2,i.user$))("ngIfElse",r)}},directives:[nG,pe,Mn,Eg,ow,by,Wl,_d],pipes:[fs],styles:["[_nghost-%COMP%]{display:block;padding-bottom:2rem}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin:2rem auto;width:80%;max-width:700px;justify-content:space-evenly}.example-ripple-container[_ngcontent-%COMP%]{cursor:pointer;text-align:center;width:200px;height:100px;line-height:100px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-webkit-user-drag:none;-webkit-tap-highlight-color:transparent}.item-active[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;background-color:#ffc000}a[_ngcontent-%COMP%]{color:unset;text-decoration:none}"],changeDetection:0}),n})();function bG(n,e){1&n&&(a.TgZ(0,"p",7),a._uU(1," Nie podano loginu. "),a.qZA())}function wG(n,e){1&n&&(a.TgZ(0,"p",7),a._uU(1," Niepoprawny format loginu (nazwa@poczta.pl). "),a.qZA())}function EG(n,e){1&n&&(a.TgZ(0,"p",7),a._uU(1," Nie podano nazwy. "),a.qZA())}function CG(n,e){1&n&&(a.TgZ(0,"p",8),a._uU(1," Niepoprawny login lub has\u0142o. "),a.qZA())}let DG=(()=>{class n{constructor(t,i,r,l){this.userService=t,this.formCreatorService=i,this.router=r,this.cdr=l,this.badLoginData=!1,this.blockButton=!1}ngOnInit(){this.loginForm=this.formCreatorService.createLoginForm()}submit(){this.blockButton=!0,this.loginForm.markAllAsTouched();const{login:t,password:i}=this.loginForm.value;this.loginForm.invalid||(setTimeout(()=>this.blockButton=!1,1e3),this.userService.signIn(t,i).pipe((0,kn.b)(r=>{"Z\u0142y login lub has\u0142o."===r.error&&(this.badLoginData=!0,this.cdr.detectChanges())})).subscribe(r=>{null===r.error&&(this.userService.setUserID(r.res.user.uid),this.router.navigate(["home"]))}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Pc),a.Y36(zD),a.Y36(Qn),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login-panel"]],decls:12,vars:6,consts:[["src","https://cdn.pixabay.com/photo/2018/01/23/22/42/dessert-3102653_960_720.jpg","alt","login panel image",1,"img"],[3,"formGroup","ngSubmit"],["type","text","formControlName","login","placeholder","Email"],["class","error-message",4,"ngIf"],["type","password","formControlName","password","placeholder","Has\u0142o"],["mat-raised-button","","color","primary",3,"disabled"],["class","bad-login-message",4,"ngIf"],[1,"error-message"],[1,"bad-login-message"]],template:function(t,i){1&t&&(a._UZ(0,"img",0),a.TgZ(1,"form",1),a.NdJ("ngSubmit",function(){return i.submit()}),a.TgZ(2,"label"),a._UZ(3,"input",2),a.YNc(4,bG,2,0,"p",3),a.YNc(5,wG,2,0,"p",3),a.qZA(),a.TgZ(6,"label"),a._UZ(7,"input",4),a.YNc(8,EG,2,0,"p",3),a.qZA(),a.TgZ(9,"button",5),a._uU(10," Zaloguj "),a.qZA(),a.YNc(11,CG,2,0,"p",6),a.qZA()),2&t&&(a.xp6(1),a.Q6J("formGroup",i.loginForm),a.xp6(3),a.Q6J("ngIf",i.loginForm.controls.login.touched&&(null==i.loginForm.controls.login.errors?null:i.loginForm.controls.login.errors.required)),a.xp6(1),a.Q6J("ngIf",i.loginForm.controls.login.touched&&(null==i.loginForm.controls.login.errors?null:i.loginForm.controls.login.errors.pattern)),a.xp6(3),a.Q6J("ngIf",i.loginForm.controls.password.touched&&i.loginForm.controls.password.errors),a.xp6(1),a.Q6J("disabled",i.loginForm.invalid||i.blockButton),a.xp6(2),a.Q6J("ngIf",i.badLoginData))},directives:[hy,uy,Mc,mf,cy,Rm,pe,Ef],styles:[".img[_ngcontent-%COMP%]{display:block;margin:0 auto 70px;width:300px;height:300px;border-radius:50%;transform:translateY(20px)}form[_ngcontent-%COMP%]{width:50%;margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:center}form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{position:relative;display:block;width:60%;max-width:30rem;min-width:22rem;text-align:center}form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:nth-child(2){margin:3rem 0}input[_ngcontent-%COMP%]{width:100%;padding:1rem;font-size:1.2rem;text-align:center;border:1px solid gray;border-radius:4px;outline:none}.error-message[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;font-size:1rem;color:#ff1141}.bad-login-message[_ngcontent-%COMP%]{margin-top:1rem;font-size:1rem;color:#ff1141;text-align:center}button[_ngcontent-%COMP%]{width:16rem;padding:.4rem;font-size:1rem}"],changeDetection:0}),n})(),TG=0;const lM=new a.OlP("CdkAccordion");let IG=(()=>{class n{constructor(){this._stateChanges=new Nt.x,this._openCloseAllActions=new Nt.x,this.id="cdk-accordion-"+TG++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=ci(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a._Bn([{provide:lM,useExisting:n}]),a.TTD]}),n})(),AG=0,SG=(()=>{class n{constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Or.w0.EMPTY,this.closed=new a.vpe,this.opened=new a.vpe,this.destroyed=new a.vpe,this.expandedChange=new a.vpe,this.id="cdk-accordion-child-"+AG++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((l,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==l&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=ci(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=ci(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(lM,12),a.Y36(a.sBO),a.Y36(Q1))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a._Bn([{provide:lM,useValue:void 0}])]}),n})(),xG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const MG=["body"];function OG(n,e){}const RG=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],kG=["mat-expansion-panel-header","*","mat-action-row"];function PG(n,e){if(1&n&&a._UZ(0,"span",2),2&n){const t=a.oxw();a.Q6J("@indicatorRotate",t._getExpandedState())}}const FG=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],NG=["mat-panel-title","mat-panel-description","*"],cM=new a.OlP("MAT_ACCORDION"),eF="225ms cubic-bezier(0.4,0.0,0.2,1)",tF={indicatorRotate:fy("indicatorRotate",[wl("collapsed, void",Ws({transform:"rotate(0deg)"})),wl("expanded",Ws({transform:"rotate(180deg)"})),yf("expanded <=> collapsed, void => collapsed",Pm(eF))]),bodyExpansion:fy("bodyExpansion",[wl("collapsed, void",Ws({height:"0px",visibility:"hidden"})),wl("expanded",Ws({height:"*",visibility:"visible"})),yf("expanded <=> collapsed, void => collapsed",Pm(eF))])};let LG=(()=>{class n{constructor(t){this._template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),VG=0;const nF=new a.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let iF=(()=>{class n extends SG{constructor(t,i,r,l,u,f,_){super(t,i,r),this._viewContainerRef=l,this._animationMode=f,this._hideToggle=!1,this.afterExpand=new a.vpe,this.afterCollapse=new a.vpe,this._inputChanges=new Nt.x,this._headerId="mat-expansion-panel-header-"+VG++,this._bodyAnimationDone=new Nt.x,this.accordion=t,this._document=u,this._bodyAnimationDone.pipe((0,Wg.x)((w,T)=>w.fromState===T.fromState&&w.toState===T.toState)).subscribe(w=>{"void"!==w.fromState&&("expanded"===w.toState?this.afterExpand.emit():"collapsed"===w.toState&&this.afterCollapse.emit())}),_&&(this.hideToggle=_.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=ci(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(oi(null),(0,En.h)(()=>this.expanded&&!this._portal),(0,jr.q)(1)).subscribe(()=>{this._portal=new sM(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(cM,12),a.Y36(a.sBO),a.Y36(Q1),a.Y36(a.s_b),a.Y36(q),a.Y36(Rc,8),a.Y36(nF,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,LG,5),2&t){let l;a.iGM(l=a.CRH())&&(i._lazyContent=l.first)}},viewQuery:function(t,i){if(1&t&&a.Gf(MG,5),2&t){let r;a.iGM(r=a.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&a.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a._Bn([{provide:cM,useValue:void 0}]),a.qOj,a.TTD],ngContentSelectors:kG,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(a.F$t(RG),a.Hsn(0),a.TgZ(1,"div",0,1),a.NdJ("@bodyExpansion.done",function(l){return i._bodyAnimationDone.next(l)}),a.TgZ(3,"div",2),a.Hsn(4,1),a.YNc(5,OG,0,0,"ng-template",3),a.qZA(),a.Hsn(6,2),a.qZA()),2&t&&(a.xp6(1),a.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),a.uIk("aria-labelledby",i._headerId),a.xp6(4),a.Q6J("cdkPortalOutlet",i._portal))},directives:[L3],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n'],encapsulation:2,data:{animation:[tF.bodyExpansion]},changeDetection:0}),n})();class BG{}const UG=M1(BG);let rF=(()=>{class n extends UG{constructor(t,i,r,l,u,f,_){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=l,this._animationMode=f,this._parentChangeSubscription=Or.w0.EMPTY;const w=t.accordion?t.accordion._stateChanges.pipe((0,En.h)(T=>!(!T.hideToggle&&!T.togglePosition))):xi.E;this.tabIndex=parseInt(_||"")||0,this._parentChangeSubscription=(0,Jl.T)(t.opened,t.closed,w,t._inputChanges.pipe((0,En.h)(T=>!!(T.hideToggle||T.disabled||T.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,En.h)(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:vf(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(iF,1),a.Y36(a.SBq),a.Y36(px),a.Y36(a.sBO),a.Y36(nF,8),a.Y36(Rc,8),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i._toggle()})("keydown",function(l){return i._keydown(l)}),2&t&&(a.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),a.Udp("height",i._getHeaderHeight()),a.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[a.qOj],ngContentSelectors:NG,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(a.F$t(FG),a.TgZ(0,"span",0),a.Hsn(1),a.Hsn(2,1),a.Hsn(3,2),a.qZA(),a.YNc(4,PG,1,1,"span",1)),2&t&&(a.xp6(4),a.Q6J("ngIf",i._showToggle()))},directives:[pe],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[tF.indicatorRotate]},changeDetection:0}),n})(),jG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),sF=(()=>{class n extends IG{constructor(){super(...arguments),this._ownHeaders=new a.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=ci(t)}ngAfterContentInit(){this._headers.changes.pipe(oi(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Vk(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,rF,5),2&t){let l;a.iGM(l=a.CRH())&&(i._headers=l)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[a._Bn([{provide:cM,useExisting:n}]),a.qOj]}),n})(),oF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ir,Ci,xG,RP]]}),n})(),HG=(()=>{class n{constructor(t){this.db=t}getOrders(){return this.db.collection("orders").valueChanges().pipe((0,pt.U)(t=>t.filter(i=>i.date===Hm(new Date,"yyyy-MM-dd"))))}getSummary(){return this.db.collection("orders").valueChanges().pipe((0,pt.U)(t=>t.filter(i=>i.date===Hm(new Date,"yyyy-MM-dd"))),(0,pt.U)(t=>t.map(i=>i.order.map(r=>({flavor:r.flavor,amount:r.amount*r.unit.value}))).flat()),(0,pt.U)(t=>t.reduce((i,r)=>{let l=r.flavor;return i[l]||(i[l]=[]),i[l].push(r.amount),i},{})),(0,pt.U)(t=>Object.entries(t).map(i=>({flavor:i[0],amount:i[1].reduce((r,l)=>r+l)}))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(pf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GG=["*",[["mat-card-footer"]]],$G=["*","mat-card-footer"];let zG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),WG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),qG=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Rc,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:$G,decls:2,vars:0,template:function(t,i){1&t&&(a.F$t(GG),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),aF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ci],Ci]}),n})();function ZG(n,e){if(1&n&&(a.TgZ(0,"div",11)(1,"p"),a._uU(2),a.qZA(),a.TgZ(3,"p"),a._uU(4),a.qZA(),a.TgZ(5,"p"),a._uU(6),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.flavor),a.xp6(2),a.AsE("",t.unit.value," ",t.unit.unitName,""),a.xp6(2),a.Oqu(t.amount)}}function KG(n,e){if(1&n&&(a.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"span",7),a._uU(4),a.qZA(),a.TgZ(5,"span",8),a._uU(6),a.qZA()()(),a.TgZ(7,"div",9)(8,"p"),a._uU(9,"Smak lod\xf3w"),a.qZA(),a.TgZ(10,"p"),a._uU(11,"Pojemno\u015b\u0107 w [ml]"),a.qZA(),a.TgZ(12,"p"),a._uU(13,"Ilo\u015b\u0107"),a.qZA()(),a.YNc(14,ZG,7,4,"div",10),a.qZA()),2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t.client),a.xp6(2),a.hij("Zam\xf3wienie z dnia ",t.date,""),a.xp6(8),a.Q6J("ngForOf",t.order)}}function YG(n,e){if(1&n&&(a.TgZ(0,"div",12)(1,"p"),a._uU(2),a.qZA(),a.TgZ(3,"p"),a._uU(4),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.flavor),a.xp6(2),a.hij("",t.amount/1e3," l")}}let QG=(()=>{class n{constructor(t){this.orderListService=t}ngOnInit(){this.orderList$=this.orderListService.getOrders(),this.ordersSummary$=this.orderListService.getSummary()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(HG))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-order-list"]],viewQuery:function(t,i){if(1&t&&a.Gf(sF,5),2&t){let r;a.iGM(r=a.CRH())&&(i.accordion=r.first)}},decls:20,vars:6,consts:[[1,"example-action-buttons"],["mat-button","",3,"click"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[1,"summary"],[1,"heading","summary-item"],["class","summary-item",4,"ngFor","ngForOf"],[1,"client-name"],[1,"order-date"],[1,"heading","order-item"],["class","order-item",4,"ngFor","ngForOf"],[1,"order-item"],[1,"summary-item"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(){return i.accordion.openAll()}),a._uU(2," Rozwi\u0144 wszystkie zam\xf3wienia "),a.qZA(),a.TgZ(3,"button",1),a.NdJ("click",function(){return i.accordion.closeAll()}),a._uU(4," Zwi\u0144 wszystkie zam\xf3wienial "),a.qZA()(),a.TgZ(5,"mat-accordion",2),a.YNc(6,KG,15,3,"mat-expansion-panel",3),a.ALo(7,"async"),a.qZA(),a.TgZ(8,"mat-card",4)(9,"mat-card-title"),a._uU(10," Podsumowanie zam\xf3wie\u0144 "),a.qZA(),a.TgZ(11,"mat-card-subtitle"),a._uU(12,"Zam\xf3wione dzi\u015b, do odbioru jutro"),a.qZA(),a.TgZ(13,"div",5)(14,"p"),a._uU(15,"Smak lod\xf3w"),a.qZA(),a.TgZ(16,"p"),a._uU(17,"\u0141\u0105cznie do wyprodukowania w [l]"),a.qZA()(),a.YNc(18,YG,5,2,"div",6),a.ALo(19,"async"),a.qZA()),2&t&&(a.xp6(6),a.Q6J("ngForOf",a.lcZ(7,2,i.orderList$)),a.xp6(12),a.Q6J("ngForOf",a.lcZ(19,4,i.ordersSummary$)))},directives:[Ef,sF,Mn,iF,rF,jG,qG,zG,WG],pipes:[fs],styles:["[_nghost-%COMP%]{display:block;max-width:800px;margin:0 auto}.example-action-buttons[_ngcontent-%COMP%]{padding-bottom:10px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.heading[_ngcontent-%COMP%]{font-weight:700}.order-item[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}.order-item[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex-basis:33%;text-align:center}.client-name[_ngcontent-%COMP%]{font-weight:700}.summary[_ngcontent-%COMP%]{margin-top:3rem}.order-date[_ngcontent-%COMP%]{color:gray;font-style:italic;margin-right:3rem}.summary-item[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}.summary-item[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex-basis:50%;text-align:center}"],changeDetection:0}),n})();function JG(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-list-item",8)(1,"div",9)(2,"span"),a._uU(3),a.qZA()(),a.TgZ(4,"span",10),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw().deleteUnit(l.id)}),a._uU(5,"\u274c"),a.qZA()()}if(2&n){const t=e.$implicit;a.xp6(3),a.AsE("",t.value," ",t.unitName,"")}}const XG=[{path:"login",component:DG,canActivate:[K6]},{path:"home",component:vG,canActivate:[Z6],children:[{path:"admin",component:rp,canActivate:[q6],children:[{path:"clients",component:Vj},{path:"flavors",component:j6},{path:"units",component:(()=>{class n{constructor(t){this.unitListService=t,this.blockButton=!1}ngOnInit(){this.unitList$=this.unitListService.getUnits(),this.addUnitForm=this.unitListService.createForm()}submit(){this.blockButton=!0,this.addUnitForm.markAllAsTouched();const{unitValue:t}=this.addUnitForm.value;this.addUnitForm.invalid||(setTimeout(()=>this.blockButton=!1,1e3),this.unitListService.addUnit(t),this.addUnitForm.reset(),this.addUnitForm.controls.unitValue.setValue(1))}deleteUnit(t){this.unitListService.deleteUnit(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(TP))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-unit-list"]],decls:15,vars:5,consts:[[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["type","number","min","1","matInput","","formControlName","unitValue"],["mat-raised-button","","color","primary",3,"disabled"],["role","list",1,"list"],["role","listitem"],[1,"items","heading"],["role","listitem","class","items",4,"ngFor","ngForOf"],["role","listitem",1,"items"],[1,"items"],[1,"delete-icon",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return i.submit()}),a.TgZ(1,"div")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Pojemno\u015b\u0107 w [ml]"),a.qZA(),a._UZ(5,"input",2),a.qZA()(),a.TgZ(6,"button",3),a._uU(7," Dodaj now\u0105 pojemno\u015b\u0107 "),a.qZA()(),a.TgZ(8,"mat-list",4)(9,"mat-list-item",5)(10,"div",6)(11,"span"),a._uU(12,"Pojemno\u015bci lod\xf3w"),a.qZA()()(),a.YNc(13,JG,6,2,"mat-list-item",7),a.ALo(14,"async"),a.qZA()),2&t&&(a.Q6J("formGroup",i.addUnitForm),a.xp6(6),a.Q6J("disabled",i.addUnitForm.invalid||i.blockButton),a.xp6(7),a.Q6J("ngForOf",a.lcZ(14,3,i.unitList$)))},directives:[hy,uy,Mc,wT,wy,GD,jD,ET,mf,cy,Rm,Ef,CT,q0,Mn],pipes:[fs],styles:[".list[_ngcontent-%COMP%]{width:300px;margin:0 auto;background-color:#ffdab9;border-radius:10px}.items[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;position:relative}.heading[_ngcontent-%COMP%]{font-weight:700}.example-form[_ngcontent-%COMP%]{margin:3rem auto 2rem;min-width:150px;max-width:500px;width:100%;text-align:center}.example-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center}.example-full-width[_ngcontent-%COMP%]{width:50%}.delete-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:-3rem;transform:translate(-50%,-50%);cursor:pointer}"],changeDetection:0}),n})()},{path:"orders",component:QG}]},{path:"client",component:V6,canActivate:[Y6],children:[{path:"flavors",component:W6},{path:"order",component:L6}]}]},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login"}];let e$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[hw.forRoot(XG)],hw]}),n})(),t$=(()=>{class n{constructor(){this.title="ice-cream-shop"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},directives:[Wl],styles:[""],changeDetection:0}),n})();const n$=[Y1,JP,XP,W0,rP,K1,oF,aF,YP];let i$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[n$],Y1,JP,XP,W0,rP,K1,oF,aF,YP]}),n})();var r$=A(9565);let s$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[t$]}),n.\u0275inj=a.cJS({providers:[],imports:[[ca,e$,yU,i$,yk,h3,na.Aw.forRoot({user:m3,auth:p3}),OV.forRoot(),qo.hO.initializeApp(Sg_firebaseConfig),Gw,cL,r$.FT.instrument({logOnly:true,autoPause:!0})]]}),n})();(0,a.G48)(),qc().bootstrapModule(s$).catch(n=>console.error(n))},5867:(ne,z,A)=>{A.d(z,{ZR:()=>a.FirebaseError,Mq:()=>a.getApp,C6:()=>a.getApps});var a=A(9681);(0,a.registerVersion)("firebase","9.7.0","app")},127:(ne,z,A)=>{A.d(z,{Z:()=>a.Z});var a=A(3942);a.Z.registerVersion("firebase","9.7.0","app-compat")},820:(ne,z,A)=>{A.r(z);var a=A(5861),$=A(3942),k=A(2090),ee=A(9681),U=A(655),te=A(1877),q=A(4859);const xe=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ke=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new te.Yd("@firebase/auth");function Le(y,...p){He.logLevel<=te.in.ERROR&&He.error(`Auth (${ee.SDK_VERSION}): ${y}`,...p)}function Ie(y,...p){throw Ke(y,...p)}function ye(y,...p){return Ke(y,...p)}function Ae(y,p,g){const b=Object.assign(Object.assign({},ke()),{[p]:g});return new k.LL("auth","Firebase",b).create(p,{appName:y.name})}function qe(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ie(y,"argument-error"),Ae(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return he.create(y,...p)}function ue(y,p,...g){if(!y)throw Ke(p,...g)}function nt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Le(p),new Error(p)}function le(y,p){y||nt(p)}const _e=new Map;function de(y){le(y instanceof Function,"Expected a class definition");let p=_e.get(y);return p?(le(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,_e.set(y,p),p)}function $e(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Mt(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Xt{constructor(p,g){this.shortDelay=p,this.longDelay=g,le(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function dn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ei(y,p){le(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class xn{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ir=new Xt(3e4,6e4);function sn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function en(y,p,g,b){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(y,p,g,b,x={}){return Fi(y,x,(0,a.Z)(function*(){let P={},re={};b&&("GET"===p?re=b:P={body:JSON.stringify(b)});const ve=(0,k.xO)(Object.assign({key:y.config.apiKey},re)).slice(1),Qe=yield y._getAdditionalHeaders();return Qe["Content-Type"]="application/json",y.languageCode&&(Qe["X-Firebase-Locale"]=y.languageCode),xn.fetch()(Di(y,y.config.apiHost,g,ve),Object.assign({method:p,headers:Qe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Fi(y,p,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},nn),p);try{const x=new Kr(y),P=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const re=yield P.json();if("needConfirmation"in re)throw rr(y,"account-exists-with-different-credential",re);if(P.ok&&!("errorMessage"in re))return re;{const ve=P.ok?re.errorMessage:re.error.message,[Qe,ht]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw rr(y,"credential-already-in-use",re);if("EMAIL_EXISTS"===Qe)throw rr(y,"email-already-in-use",re);const It=b[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(ht)throw Ae(y,It,ht);Ie(y,It)}}catch(x){if(x instanceof k.ZR)throw x;Ie(y,"network-request-failed")}})).apply(this,arguments)}function Ni(y,p,g,b){return wr.apply(this,arguments)}function wr(){return(wr=(0,a.Z)(function*(y,p,g,b,x={}){const P=yield en(y,p,g,b,x);return"mfaPendingCredential"in P&&Ie(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Di(y,p,g,b){const x=`${p}${g}?${b}`;return y.config.emulator?ei(y.config,x):`${y.config.apiScheme}://${x}`}class Kr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ye(this.auth,"network-request-failed")),ir.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const x=ye(y,p,b);return x.customData._tokenResponse=g,x}function Li(){return(Li=(0,a.Z)(function*(y,p){return en(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ln(y,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(y,p){return en(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ti(y,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,a.Z)(function*(y,p){return en(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function yn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Io(){return(Io=(0,a.Z)(function*(y,p=!1){const g=(0,k.m9)(y),b=yield g.getIdToken(p),x=_t(b);ue(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const P="object"==typeof x.firebase?x.firebase:void 0,re=null==P?void 0:P.sign_in_provider;return{claims:x,token:b,authTime:yn(Gt(x.auth_time)),issuedAtTime:yn(Gt(x.iat)),expirationTime:yn(Gt(x.exp)),signInProvider:re||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Gt(y){return 1e3*Number(y)}function _t(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,k.tV)(g);return x?JSON.parse(x):(Le("Failed to decode base64 JWT payload"),null)}catch(x){return Le("Caught error parsing JWT payload as JSON",x),null}}function ii(y,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,a.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof k.ZR&&Yt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Yt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class cs{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,a.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Ii{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=yn(this.lastLoginAt),this.creationTime=yn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pi(y){return bt.apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),x=yield ii(y,Ti(g,{idToken:b}));ue(null==x?void 0:x.users.length,g,"internal-error");const P=x.users[0];y._notifyReloadListener(P);const re=(null===(p=P.providerUserInfo)||void 0===p?void 0:p.length)?Re(P.providerUserInfo):[],ve=rt(y.providerData,re),It=!!y.isAnonymous&&!(y.email&&P.passwordHash||(null==ve?void 0:ve.length)),Et={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ve,metadata:new Ii(P.createdAt,P.lastLoginAt),isAnonymous:It};Object.assign(y,Et)})).apply(this,arguments)}function $t(){return($t=(0,a.Z)(function*(y){const p=(0,k.m9)(y);yield pi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function rt(y,p){return[...y.filter(b=>!p.some(x=>x.providerId===b.providerId)),...p]}function Re(y){return y.map(p=>{var{providerId:g}=p,b=(0,U._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function wt(){return(wt=(0,a.Z)(function*(y,p){const g=yield Fi(y,{},(0,a.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:P}=y.config,re=Di(y,x,"/v1/token",`key=${P}`),ve=yield y._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",xn.fetch()(re,{method:"POST",headers:ve,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ue(p.idToken,"internal-error"),ue(void 0!==p.idToken,"internal-error"),ue(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function St(y){const p=_t(y);return ue(p,"internal-error"),ue(void 0!==p.exp,"internal-error"),ue(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,a.Z)(function*(){return ue(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,a.Z)(function*(){const{accessToken:x,refreshToken:P,expiresIn:re}=yield function at(y,p){return wt.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(x,P,Number(re))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:x,expirationTime:P}=g,re=new zt;return b&&(ue("string"==typeof b,"internal-error",{appName:p}),re.refreshToken=b),x&&(ue("string"==typeof x,"internal-error",{appName:p}),re.accessToken=x),P&&(ue("number"==typeof P,"internal-error",{appName:p}),re.expirationTime=P),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Wt(y,p){ue("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Q{constructor(p){var{uid:g,auth:b,stsTokenManager:x}=p,P=(0,U._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Ii(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,a.Z)(function*(){const b=yield ii(g,g.stsTokenManager.getToken(g.auth,p));return ue(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function ls(y){return Io.apply(this,arguments)}(this,p)}reload(){return function mi(y){return $t.apply(this,arguments)}(this)}_assign(p){this!==p&&(ue(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Q(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,a.Z)(function*(){let x=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),x=!0),g&&(yield pi(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,a.Z)(function*(){const g=yield p.getIdToken();return yield ii(p,function yt(y,p){return Li.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,x,P,re,ve,Qe,ht,It;const Et=null!==(b=g.displayName)&&void 0!==b?b:void 0,Yn=null!==(x=g.email)&&void 0!==x?x:void 0,ys=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,al=null!==(re=g.photoURL)&&void 0!==re?re:void 0,Iu=null!==(ve=g.tenantId)&&void 0!==ve?ve:void 0,Au=null!==(Qe=g._redirectEventId)&&void 0!==Qe?Qe:void 0,ep=null!==(ht=g.createdAt)&&void 0!==ht?ht:void 0,Gy=null!==(It=g.lastLoginAt)&&void 0!==It?It:void 0,{uid:Ca,emailVerified:Su,isAnonymous:tp,providerData:np,stsTokenManager:Qn}=g;ue(Ca&&Qn,p,"internal-error");const $y=zt.fromJSON(this.name,Qn);ue("string"==typeof Ca,p,"internal-error"),Wt(Et,p.name),Wt(Yn,p.name),ue("boolean"==typeof Su,p,"internal-error"),ue("boolean"==typeof tp,p,"internal-error"),Wt(ys,p.name),Wt(al,p.name),Wt(Iu,p.name),Wt(Au,p.name),Wt(ep,p.name),Wt(Gy,p.name);const sh=new Q({uid:Ca,auth:p,email:Yn,emailVerified:Su,displayName:Et,isAnonymous:tp,photoURL:al,phoneNumber:ys,tenantId:Iu,stsTokenManager:$y,createdAt:ep,lastLoginAt:Gy});return np&&Array.isArray(np)&&(sh.providerData=np.map(ip=>Object.assign({},ip))),Au&&(sh._redirectEventId=Au),sh}static _fromIdTokenResponse(p,g,b=!1){return(0,a.Z)(function*(){const x=new zt;x.updateFromServerResponse(g);const P=new Q({uid:g.localId,auth:p,stsTokenManager:x,isAnonymous:b});return yield pi(P),P})()}}const X=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,b){var x=this;return(0,a.Z)(function*(){x.storage[g]=b})()}_get(g){var b=this;return(0,a.Z)(function*(){const x=b.storage[g];return void 0===x?null:x})()}_remove(g){var b=this;return(0,a.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function Ee(y,p,g){return`firebase:${y}:${p}:${g}`}class ae{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:x,name:P}=this.auth;this.fullUserKey=Ee(this.userKey,x.apiKey,P),this.fullPersistenceKey=Ee("persistence",x.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Q._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,a.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,a.Z)(function*(){if(!g.length)return new ae(de(X),p,b);const x=(yield Promise.all(g.map(function(){var ht=(0,a.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return ht.apply(this,arguments)}}()))).filter(ht=>ht);let P=x[0]||de(X);const re=Ee(b,p.config.apiKey,p.name);let ve=null;for(const ht of g)try{const It=yield ht._get(re);if(It){const Et=Q._fromJSON(p,It);ht!==P&&(ve=Et),P=ht;break}}catch(It){}const Qe=x.filter(ht=>ht._shouldAllowMigration);return P._shouldAllowMigration&&Qe.length?(P=Qe[0],ve&&(yield P._set(re,ve.toJSON())),yield Promise.all(g.map(function(){var ht=(0,a.Z)(function*(It){if(It!==P)try{yield It._remove(re)}catch(Et){}});return function(It){return ht.apply(this,arguments)}}())),new ae(P,p,b)):new ae(P,p,b)})()}}function Ye(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(on(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Tt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Lt(p))return"Blackberry";if(vn(p))return"Webos";if(an(p))return"Safari";if((p.includes("chrome/")||Ai(p))&&!p.includes("edge/"))return"Chrome";if(Pn(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Tt(y=(0,k.z$)()){return/firefox\//i.test(y)}function an(y=(0,k.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ai(y=(0,k.z$)()){return/crios\//i.test(y)}function on(y=(0,k.z$)()){return/iemobile/i.test(y)}function Pn(y=(0,k.z$)()){return/android/i.test(y)}function Lt(y=(0,k.z$)()){return/blackberry/i.test(y)}function vn(y=(0,k.z$)()){return/webos/i.test(y)}function Gn(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)}function Yr(y=(0,k.z$)()){return Gn(y)||Pn(y)||vn(y)||Lt(y)||/windows phone/i.test(y)||on(y)}function Ao(y,p=[]){let g;switch(y){case"Browser":g=Ye((0,k.z$)());break;case"Worker":g=`${Ye((0,k.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ee.SDK_VERSION}/${b}`}class sr{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ut(this),this.idTokenSubscription=new Ut(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=de(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var x,P;if(!b._deleted&&(b.persistenceManager=yield ae.create(b,p),!b._deleted)){if(null===(x=b._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(re){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(P=b.currentUser)||void 0===P?void 0:P.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,a.Z)(function*(){var b;let x=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const P=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,re=null==x?void 0:x._redirectEventId,ve=yield g.tryRedirectSignIn(p);(!P||P===re)&&(null==ve?void 0:ve.user)&&(x=ve.user)}return x?x._redirectEventId?(ue(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)):g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,a.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(x){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,a.Z)(function*(){try{yield pi(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function tt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,a.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,a.Z)(function*(){const b=p?(0,k.m9)(p):null;return b&&ue(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,a.Z)(function*(){if(!g._deleted)return p&&ue(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,a.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(de(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,a.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(g);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&de(p)||g._popupRedirectResolver;ue(b,g,"argument-error"),g.redirectPersistenceManager=yield ae.create(g,[de(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,a.Z)(function*(){var b,x;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,a.Z)(function*(){if(p===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,x){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),re=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(re,this,"internal-error"),re.then(()=>P(this.currentUser)),"function"==typeof g?p.addObserver(g,b,x):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ao(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,a.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function Ue(y){return(0,k.m9)(y)}class Ut{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ui(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function $n(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class pn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return nt("not implemented")}_getIdTokenResponse(p){return nt("not implemented")}_linkToIdToken(p,g){return nt("not implemented")}_getReauthenticationResolver(p){return nt("not implemented")}}function Vn(y,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(y,p){return en(y,"POST","/v1/accounts:resetPassword",sn(y,p))})).apply(this,arguments)}function Ft(y,p){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(y,p){return en(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qr(y,p){return So.apply(this,arguments)}function So(){return(So=(0,a.Z)(function*(y,p){return en(y,"POST","/v1/accounts:update",sn(y,p))})).apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithPassword",sn(y,p))})).apply(this,arguments)}function Jr(y,p){return G.apply(this,arguments)}function G(){return(G=(0,a.Z)(function*(y,p){return en(y,"POST","/v1/accounts:sendOobCode",sn(y,p))})).apply(this,arguments)}function pe(y,p){return ie.apply(this,arguments)}function ie(){return(ie=(0,a.Z)(function*(y,p){return Jr(y,p)})).apply(this,arguments)}function ge(y,p){return We.apply(this,arguments)}function We(){return(We=(0,a.Z)(function*(y,p){return Jr(y,p)})).apply(this,arguments)}function Ge(y,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(y,p){return Jr(y,p)})).apply(this,arguments)}function zn(y,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(y,p){return Jr(y,p)})).apply(this,arguments)}function qt(){return(qt=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithEmailLink",sn(y,p))})).apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithEmailLink",sn(y,p))})).apply(this,arguments)}class xo extends pn{constructor(p,g,b,x=null){super("password",b),this._email=p,this._password=g,this._tenantId=x}static _fromEmailAndPassword(p,g){return new xo(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new xo(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function hs(y,p){return Mn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Si(y,p){return qt.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ie(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,a.Z)(function*(){switch(b.signInMethod){case"password":return Ft(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Dr(y,p){return El.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Ie(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Bn(y,p){return bd.apply(this,arguments)}function bd(){return(bd=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithIdp",sn(y,p))})).apply(this,arguments)}class Ss extends pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Ss(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x}=g,P=(0,U._T)(g,["providerId","signInMethod"]);if(!b||!x)return null;const re=new Ss(b,x);return re.idToken=P.idToken||void 0,re.accessToken=P.accessToken||void 0,re.secret=P.secret,re.nonce=P.nonce,re.pendingToken=P.pendingToken||null,re}_getIdTokenResponse(p){return Bn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Bn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Bn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,k.xO)(g)}return p}}function Zm(y,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,a.Z)(function*(y,p){return en(y,"POST","/v1/accounts:sendVerificationCode",sn(y,p))})).apply(this,arguments)}function Qs(){return(Qs=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithPhoneNumber",sn(y,p))})).apply(this,arguments)}function Lc(){return(Lc=(0,a.Z)(function*(y,p){const g=yield Ni(y,"POST","/v1/accounts:signInWithPhoneNumber",sn(y,p));if(g.temporaryProof)throw rr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ym={USER_NOT_FOUND:"user-not-found"};function wd(){return(wd=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithPhoneNumber",sn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ym)})).apply(this,arguments)}class ra extends pn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new ra({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new ra({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Nc(y,p){return Qs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Km(y,p){return Lc.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Qm(y,p){return wd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:x}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:P}=p;return b||g||x||P?new ra({verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:P}):null}}class Mo{constructor(p){var g,b,x,P,re,ve;const Qe=(0,k.zd)((0,k.pd)(p)),ht=null!==(g=Qe.apiKey)&&void 0!==g?g:null,It=null!==(b=Qe.oobCode)&&void 0!==b?b:null,Et=function Dy(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Qe.mode)&&void 0!==x?x:null);ue(ht&&It&&Et,"argument-error"),this.apiKey=ht,this.operation=Et,this.code=It,this.continueUrl=null!==(P=Qe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(re=Qe.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(ve=Qe.tenantId)&&void 0!==ve?ve:null}static parseLink(p){const g=function Cl(y){const p=(0,k.zd)((0,k.pd)(y)).link,g=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||g||p||y}(p);try{return new Mo(g)}catch(b){return null}}}let Vc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return xo._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const x=Mo.parseLink(b);return ue(x,"argument-error"),xo._fromEmailAndCode(g,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Js{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Tr extends Js{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class sa extends Tr{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ue("providerId"in g&&"signInMethod"in g,"argument-error"),Ss._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ue(p.idToken||p.accessToken,"argument-error"),Ss._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return sa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return sa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:P,nonce:re,providerId:ve}=p;if(!b&&!x&&!g&&!P||!ve)return null;try{return new sa(ve)._credential({idToken:g,accessToken:b,nonce:re,pendingToken:P})}catch(Qe){return null}}}let Oo=(()=>{class y extends Tr{constructor(){super("facebook.com")}static credential(g){return Ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ha=(()=>{class y extends Tr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:x}=g;if(!b&&!x)return null;try{return y.credential(b,x)}catch(P){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ed=(()=>{class y extends Tr{constructor(){super("github.com")}static credential(g){return Ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ir extends pn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Bn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Bn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Bn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x,pendingToken:P}=g;return b&&x&&P&&b===x?new Ir(b,P):null}static _create(p,g){return new Ir(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Br extends Js{constructor(p){ue(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Br.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Br.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Ir.fromJSON(p);return ue(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Ir._create(b,g)}catch(x){return null}}}let Dl=(()=>{class y extends Tr{constructor(){super("twitter.com")}static credential(g,b){return Ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=g;if(!b||!x)return null;try{return y.credential(b,x)}catch(P){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Tl(y,p){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signUp",sn(y,p))})).apply(this,arguments)}class Vi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,x=!1){return(0,a.Z)(function*(){const P=yield Q._fromIdTokenResponse(p,b,x),re=Sf(b);return new Vi({user:P,providerId:re,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,a.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const x=Sf(b);return new Vi({user:p,providerId:x,_tokenResponse:b,operationType:g})})()}}function Sf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Cd(){return(Cd=(0,a.Z)(function*(y){var p;const g=Ue(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Vi({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Tl(g,{returnSecureToken:!0}),x=yield Vi._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Al extends k.ZR{constructor(p,g,b,x){var P;super(g.code,g.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,Al.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,x){return new Al(p,g,b,x)}}function Sl(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Al._fromErrorAndOperation(y,P,p,b):P})}function xs(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Bc(){return(Bc=(0,a.Z)(function*(y,p){const g=(0,k.m9)(y);yield eo(!0,g,p);const{providerUserInfo:b}=yield Ln(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),x=xs(b||[]);return g.providerData=g.providerData.filter(P=>x.has(P.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function In(y,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(y,p,g=!1){const b=yield ii(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Vi._forOperation(y,"link",b)})).apply(this,arguments)}function eo(y,p,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(y,p,g){yield pi(p);const x=!1===y?"provider-already-linked":"no-such-provider";ue(xs(p.providerData).has(g)===y,p.auth,x)})).apply(this,arguments)}function Dd(y,p){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,a.Z)(function*(y,p,g=!1){const{auth:b}=y,x="reauthenticate";try{const P=yield ii(y,Sl(b,x,p,y),g);ue(P.idToken,b,"internal-error");const re=_t(P.idToken);ue(re,b,"internal-error");const{sub:ve}=re;return ue(y.uid===ve,b,"user-mismatch"),Vi._forOperation(y,x,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ie(b,"user-mismatch"),P}})).apply(this,arguments)}function ko(y,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,a.Z)(function*(y,p,g=!1){const b="signIn",x=yield Sl(y,b,p),P=yield Vi._fromIdTokenResponse(y,b,x);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function si(y,p){return $a.apply(this,arguments)}function $a(){return($a=(0,a.Z)(function*(y,p){return ko(Ue(y),p)})).apply(this,arguments)}function Xr(y,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,a.Z)(function*(y,p){const g=(0,k.m9)(y);return yield eo(!1,g,p.providerId),In(g,p)})).apply(this,arguments)}function to(y,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,a.Z)(function*(y,p){return Dd((0,k.m9)(y),p)})).apply(this,arguments)}function xl(y,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithCustomToken",sn(y,p))})).apply(this,arguments)}function io(){return(io=(0,a.Z)(function*(y,p){const g=Ue(y),b=yield xl(g,{token:p,returnSecureToken:!0}),x=yield Vi._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ct{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ml._fromServerResponse(p,g):Ie(p,"internal-error")}}class Ml extends Ct{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ml(g)}}function za(y,p,g){var b;ue((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ue(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ue(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(ue(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Rl(){return(Rl=(0,a.Z)(function*(y,p,g){const b=(0,k.m9)(y),x={requestType:"PASSWORD_RESET",email:p};g&&za(b,x,g),yield ge(b,x)})).apply(this,arguments)}function Uc(){return(Uc=(0,a.Z)(function*(y,p,g){yield Vn((0,k.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Pe(){return(Pe=(0,a.Z)(function*(y,p){yield Qr((0,k.m9)(y),{oobCode:p})})).apply(this,arguments)}function Qt(y,p){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,a.Z)(function*(y,p){const g=(0,k.m9)(y),b=yield Vn(g,{oobCode:p}),x=b.requestType;switch(ue(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(b.mfaInfo,g,"internal-error");default:ue(b.email,g,"internal-error")}let P=null;return b.mfaInfo&&(P=Ct._fromServerResponse(Ue(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:x}})).apply(this,arguments)}function aa(){return(aa=(0,a.Z)(function*(y,p){const{data:g}=yield Qt((0,k.m9)(y),p);return g.email})).apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(y,p,g){const b=Ue(y),x=yield Tl(b,{returnSecureToken:!0,email:p,password:g}),P=yield Vi._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(P.user),P})).apply(this,arguments)}function Td(){return(Td=(0,a.Z)(function*(y,p,g){const b=(0,k.m9)(y),x={requestType:"EMAIL_SIGNIN",email:p};ue(g.handleCodeInApp,b,"argument-error"),g&&za(b,x,g),yield Ge(b,x)})).apply(this,arguments)}function ro(){return(ro=(0,a.Z)(function*(y,p,g){const b=(0,k.m9)(y),x=Vc.credentialWithLink(p,g||$e());return ue(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),si(b,x)})).apply(this,arguments)}function Bi(y,p){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,a.Z)(function*(y,p){return en(y,"POST","/v1/accounts:createAuthUri",sn(y,p))})).apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(y,p){const b={identifier:p,continueUri:Mt()?$e():"http://localhost"},{signinMethods:x}=yield Bi((0,k.m9)(y),b);return x||[]})).apply(this,arguments)}function Wc(){return(Wc=(0,a.Z)(function*(y,p){const g=(0,k.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&za(g.auth,x,p);const{email:P}=yield pe(g.auth,x);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ll(){return(Ll=(0,a.Z)(function*(y,p,g){const b=(0,k.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&za(b.auth,P,g);const{email:re}=yield zn(b.auth,P);re!==y.email&&(yield y.reload())})).apply(this,arguments)}function qc(y,p){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,a.Z)(function*(y,p){return en(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zc(){return(Zc=(0,a.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,k.m9)(y),P={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},re=yield ii(b,qc(b.auth,P));b.displayName=re.displayName||null,b.photoURL=re.photoUrl||null;const ve=b.providerData.find(({providerId:Qe})=>"password"===Qe);ve&&(ve.displayName=b.displayName,ve.photoURL=b.photoURL),yield b._updateTokensIfNecessary(re)})).apply(this,arguments)}function Yc(y,p,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(y,p,g){const{auth:b}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(P.email=p),g&&(P.password=g);const re=yield ii(y,Ft(b,P));yield y._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Fo{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Sd extends Fo{constructor(p,g,b,x){super(p,g,b),this.username=x}}class xd extends Fo{constructor(p,g){super(p,"facebook.com",g)}}class No extends Sd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class oo extends Fo{constructor(p,g){super(p,"google.com",g)}}class Qc extends Sd{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Zi(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Ad(y){var p,g;if(!y)return null;const{providerId:b}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const re=null===(g=null===(p=_t(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(re)return new Fo(P,"anonymous"!==re&&"custom"!==re?re:null)}if(!b)return null;switch(b){case"facebook.com":return new xd(P,x);case"github.com":return new No(P,x);case"google.com":return new oo(P,x);case"twitter.com":return new Qc(P,x,y.screenName||null);case"custom":case"anonymous":return new Fo(P,null);default:return new Fo(P,b,x)}}(g)}class Os{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Os("enroll",p)}static _fromMfaPendingCredential(p){return new Os("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Os._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Os._fromIdtoken(p.multiFactorSession.idToken)}return null}}class qa{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Ue(p),x=g.customData._serverResponse,P=(x.mfaInfo||[]).map(ve=>Ct._fromServerResponse(b,ve));ue(x.mfaPendingCredential,b,"internal-error");const re=Os._fromMfaPendingCredential(x.mfaPendingCredential);return new qa(re,P,function(){var ve=(0,a.Z)(function*(Qe){const ht=yield Qe._process(b,re);delete x.mfaInfo,delete x.mfaPendingCredential;const It=Object.assign(Object.assign({},x),{idToken:ht.idToken,refreshToken:ht.refreshToken});switch(g.operationType){case"signIn":const Et=yield Vi._fromIdTokenResponse(b,g.operationType,It);return yield b._updateCurrentUser(Et.user),Et;case"reauthenticate":return ue(g.user,b,"internal-error"),Vi._forOperation(g.user,g.operationType,It);default:Ie(b,"internal-error")}});return function(Qe){return ve.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,a.Z)(function*(){return g.signInResolver(p)})()}}function di(y,p){return en(y,"POST","/v2/accounts/mfaEnrollment:start",sn(y,p))}class Rs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Ct._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Rs(p)}getSession(){var p=this;return(0,a.Z)(function*(){return Os._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,a.Z)(function*(){const x=p,P=yield b.getSession(),re=yield ii(b.user,x._process(b.user.auth,P,g));return yield b.user._updateTokensIfNecessary(re),b.user.reload()})()}unenroll(p){var g=this;return(0,a.Z)(function*(){const b="string"==typeof p?p:p.uid,x=yield g.user.getIdToken(),P=yield ii(g.user,function Xm(y,p){return en(y,"POST","/v2/accounts/mfaEnrollment:withdraw",sn(y,p))}(g.user.auth,{idToken:x,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:re})=>re!==b),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(re){if("auth/user-token-expired"!==re.code)throw re}})()}}const ua=new WeakMap,eu="__sak";class ks{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(eu,"1"),this.storage.removeItem(eu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const lt=(()=>{class y extends ks{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function tu(){const y=(0,k.z$)();return an(y)||Gn(y)}()&&function ri(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Yr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),P=this.localCache[b];x!==P&&g(b,P,x)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ve,Qe,ht)=>{this.notifyListeners(ve,ht)});const x=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(x);if(g.newValue!==ve)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!b)return}const P=()=>{const ve=this.storage.getItem(x);!b&&this.localCache[x]===ve||this.notifyListeners(x,ve)},re=this.storage.getItem(x);!function Ys(){return(0,k.w1)()&&10===document.documentMode}()||re===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const P of Array.from(x))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var x=()=>super._set,P=this;return(0,a.Z)(function*(){yield x().call(P,g,b),P.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,x=this;return(0,a.Z)(function*(){const P=yield b().call(x,g);return x.localCache[g]=JSON.stringify(P),P})()}_remove(g){var b=()=>super._remove,x=this;return(0,a.Z)(function*(){yield b().call(x,g),delete x.localCache[g]})()}}return y.type="LOCAL",y})(),jn=(()=>{class y extends ks{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let Za=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(P=>P.isListeningto(g));if(b)return b;const x=new y(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,a.Z)(function*(){const x=g,{eventId:P,eventType:re,data:ve}=x.data,Qe=b.handlersMap[re];if(!(null==Qe?void 0:Qe.size))return;x.ports[0].postMessage({status:"ack",eventId:P,eventType:re});const ht=Array.from(Qe).map(function(){var Et=(0,a.Z)(function*(Yn){return Yn(x.origin,ve)});return function(Yn){return Et.apply(this,arguments)}}()),It=yield function nu(y){return Promise.all(y.map(function(){var p=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(ht);x.ports[0].postMessage({status:"done",eventId:P,eventType:re,response:It})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function da(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class Pd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var x=this;return(0,a.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let re,ve;return new Promise((Qe,ht)=>{const It=da("",20);P.port1.start();const Et=setTimeout(()=>{ht(new Error("unsupported_event"))},b);ve={messageChannel:P,onMessage(Yn){const ys=Yn;if(ys.data.eventId===It)switch(ys.data.status){case"ack":clearTimeout(Et),re=setTimeout(()=>{ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),Qe(ys.data.response);break;default:clearTimeout(Et),clearTimeout(re),ht(new Error("invalid_response"))}}},x.handlers.add(ve),P.port1.addEventListener("message",ve.onMessage),x.target.postMessage({eventType:p,eventId:It,data:g},[P.port2])}).finally(()=>{ve&&x.removeMessageHandler(ve)})})()}}function Cn(){return window}function xr(){return void 0!==Cn().WorkerGlobalScope&&"function"==typeof Cn().importScripts}function lo(){return(lo=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Lo="firebaseLocalStorageDb",Ui="firebaseLocalStorage",ha="fbase_key";class Ps{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function fa(y,p){return y.transaction([Ui],p?"readwrite":"readonly").objectStore(Ui)}function Ki(){const y=indexedDB.open(Lo,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Ui,{keyPath:ha})}catch(x){g(x)}}),y.addEventListener("success",(0,a.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Ui)?p(b):(b.close(),yield function Mr(){const y=indexedDB.deleteDatabase(Lo);return new Ps(y).toPromise()}(),p(yield Ki()))}))})}function pa(y,p,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,a.Z)(function*(y,p,g){const b=fa(y,!0).put({[ha]:p,value:g});return new Ps(b).toPromise()})).apply(this,arguments)}function co(){return(co=(0,a.Z)(function*(y,p){const g=fa(y,!1).get(p),b=yield new Ps(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Bo(y,p){const g=fa(y,!0).delete(p);return new Ps(g).toPromise()}const xi=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield Ki()),g.db})()}_withRetries(g){var b=this;return(0,a.Z)(function*(){let x=0;for(;;)try{const P=yield b._openDb();return yield g(P)}catch(P){if(x++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return xr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=Za._getInstance(function Bl(){return xr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,a.Z)(function*(x,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(x,P){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,a.Z)(function*(x,P){return["keyChanged"]});return function(x,P){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var b,x;if(g.activeServiceWorker=yield function pt(){return lo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Pd(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(b=P[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=P[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,a.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function tg(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ki();return yield pa(g,eu,"1"),yield Bo(g,eu),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,a.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var x=this;return(0,a.Z)(function*(){return x._withPendingWrite((0,a.Z)(function*(){return yield x._withRetries(P=>pa(P,g,b)),x.localCache[g]=b,x.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,a.Z)(function*(){const x=yield b._withRetries(P=>function ma(y,p){return co.apply(this,arguments)}(P,g));return b.localCache[g]=x,x})()}_remove(g){var b=this;return(0,a.Z)(function*(){return b._withPendingWrite((0,a.Z)(function*(){return yield b._withRetries(x=>Bo(x,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const b=yield g._withRetries(re=>{const ve=fa(re,!1).getAll();return new Ps(ve).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const x=[],P=new Set;for(const{fbase_key:re,value:ve}of b)P.add(re),JSON.stringify(g.localCache[re])!==JSON.stringify(ve)&&(g.notifyListeners(re,ve),x.push(re));for(const re of Object.keys(g.localCache))g.localCache[re]&&!P.has(re)&&(g.notifyListeners(re,null),x.push(re));return x})()}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const P of Array.from(x))P(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Or(y,p){return en(y,"POST","/v2/accounts/mfaSignIn:start",sn(y,p))}function ps(){return(ps=(0,a.Z)(function*(y){return(yield en(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rn(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=x=>{const P=ye("internal-error");P.customData=x,g(P)},b.type="text/javascript",b.charset="UTF-8",function Nt(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function jr(y){return`__${y}${Math.floor(1e6*Math.random())}`}const En=1e12;class Fs{constructor(p){this.auth=p,this.counter=En,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new uo(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||En;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||En))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,a.Z)(function*(){var b;return null===(b=g._widgets.get(p||En))||void 0===b||b.execute(),""})()}}class uo{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;ue(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ho(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qa=jr("rcb"),ng=new Xt(3e4,6e4);class ig{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Cn().grecaptcha}load(p,g=""){return ue(function Ja(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Cn().grecaptcha):new Promise((b,x)=>{const P=Cn().setTimeout(()=>{x(ye(p,"network-request-failed"))},ng.get());Cn()[Qa]=()=>{Cn().clearTimeout(P),delete Cn()[Qa];const ve=Cn().grecaptcha;if(!ve)return void x(ye(p,"internal-error"));const Qe=ve.render;ve.render=(ht,It)=>{const Et=Qe(ht,It);return this.counter++,Et},this.hostLanguage=g,b(ve)},Rn(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Qa,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),x(ye(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Cn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ar{load(p){return(0,a.Z)(function*(){return new Fs(p)})()}clearedOneInstance(){}}const kn="recaptcha",Mf={theme:"light",type:"image"};class fo{constructor(p,g=Object.assign({},Mf),b){this.parameters=g,this.type=kn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ue(b),this.isInvisible="invisible"===this.parameters.size,ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;ue(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ar:new ig,this.validateStartingState()}verify(){var p=this;return(0,a.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(P=>{const re=ve=>{!ve||(p.tokenChangeListeners.delete(re),P(ve))};p.tokenChangeListeners.add(re),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Cn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.Z)(function*(){ue(Mt()&&!xr(),p.auth,"internal-error"),yield function Nd(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function ru(y){return ps.apply(this,arguments)}(p.auth);ue(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ts{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=ra._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Zn(){return(Zn=(0,a.Z)(function*(y,p,g){const b=Ue(y),x=yield Mi(b,p,(0,k.m9)(g));return new ts(x,P=>si(b,P))})).apply(this,arguments)}function Uo(){return(Uo=(0,a.Z)(function*(y,p,g){const b=(0,k.m9)(y);yield eo(!1,b,"phone");const x=yield Mi(b.auth,p,(0,k.m9)(g));return new ts(x,P=>Xr(b,P))})).apply(this,arguments)}function Xa(){return(Xa=(0,a.Z)(function*(y,p,g){const b=(0,k.m9)(y),x=yield Mi(b.auth,p,(0,k.m9)(g));return new ts(x,P=>to(b,P))})).apply(this,arguments)}function Mi(y,p,g){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,a.Z)(function*(y,p,g){var b;const x=yield g.verify();try{let P;if(ue("string"==typeof x,y,"argument-error"),ue(g.type===kn,y,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const re=P.session;if("phoneNumber"in P)return ue("enroll"===re.type,y,"internal-error"),(yield di(y,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{ue("signin"===re.type,y,"internal-error");const ve=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return ue(ve,y,"missing-multi-factor-info"),(yield Or(y,{mfaPendingCredential:re.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield Zm(y,{phoneNumber:P.phoneNumber,recaptchaToken:x});return re}}finally{g._reset()}})).apply(this,arguments)}function po(){return(po=(0,a.Z)(function*(y,p){yield In((0,k.m9)(y),p)})).apply(this,arguments)}let ns=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Ue(g)}verifyPhoneNumber(g,b){return Mi(this.auth,g,(0,k.m9)(b))}static credential(g,b){return ra._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:x}=g;return b&&x?ra._fromTokenResponse(b,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function jo(y,p){return p?de(p):(ue(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Vd extends pn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Bn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Bn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Bn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Rf(y){return ko(y.auth,new Vd(y),y.bypassAuthState)}function tn(y){const{auth:p,user:g}=y;return ue(g,p,"internal-error"),Dd(g,new Vd(y),y.bypassAuthState)}function rg(y){return lr.apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(y){const{auth:p,user:g}=y;return ue(g,p,"internal-error"),In(g,new Vd(y),y.bypassAuthState)})).apply(this,arguments)}class ji{constructor(p,g,b,x,P=!1){this.auth=p,this.resolver=b,this.user=x,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,a.Z)(function*(b,x){p.pendingPromise={resolve:b,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(b,x){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,a.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:P,tenantId:re,error:ve,type:Qe}=p;if(ve)return void g.reject(ve);const ht={auth:g.auth,requestUri:b,sessionId:x,tenantId:re||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Qe)(ht))}catch(It){g.reject(It)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Rf;case"linkViaPopup":case"linkViaRedirect":return rg;case"reauthViaPopup":case"reauthViaRedirect":return tn;default:Ie(this.auth,"internal-error")}}resolve(p){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tl=new Xt(2e3,1e4);function mo(){return(mo=(0,a.Z)(function*(y,p,g){const b=Ue(y);qe(y,p,Js);const x=jo(b,g);return new nl(b,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(y,p,g){const b=(0,k.m9)(y);qe(b.auth,p,Js);const x=jo(b.auth,g);return new nl(b.auth,"reauthViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}function ou(){return(ou=(0,a.Z)(function*(y,p,g){const b=(0,k.m9)(y);qe(b.auth,p,Js);const x=jo(b.auth,g);return new nl(b.auth,"linkViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}let nl=(()=>{class y extends ji{constructor(g,b,x,P,re){super(g,b,P,re),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const b=yield g.execute();return ue(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,a.Z)(function*(){le(1===g.filter.length,"Popup operations only handle one event");const b=da();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(ye(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,x;this.pollId=(null===(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,tl.get())};g()}}return y.currentPopupAction=null,y})();const Kn=new Map;class is extends ji{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,a.Z)(function*(){let b=Kn.get(g.auth._key());if(!b){try{const P=(yield function D(y,p){return I.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(P)}catch(x){b=()=>Promise.reject(x)}Kn.set(g.auth._key(),b)}return g.bypassAuthState||Kn.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,a.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const x=yield b.auth._redirectUserForId(p.eventId);if(x)return b.user=x,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function I(){return(I=(0,a.Z)(function*(y,p){const g=Be(p),b=me(y);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(g));return yield b._remove(g),x})).apply(this,arguments)}function R(y,p){return B.apply(this,arguments)}function B(){return(B=(0,a.Z)(function*(y,p){return me(y)._set(Be(p),"true")})).apply(this,arguments)}function me(y){return de(y._redirectPersistence)}function Be(y){return Ee("pendingRedirect",y.config.apiKey,y.name)}function At(){return(At=(0,a.Z)(function*(y,p,g){const b=Ue(y);qe(y,p,Js);const x=jo(b,g);return yield R(x,b),x._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function yi(){return(yi=(0,a.Z)(function*(y,p,g){const b=(0,k.m9)(y);qe(b.auth,p,Js);const x=jo(b.auth,g);yield R(x,b.auth);const P=yield Ul(b);return x._openRedirect(b.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function _a(){return(_a=(0,a.Z)(function*(y,p,g){const b=(0,k.m9)(y);qe(b.auth,p,Js);const x=jo(b.auth,g);yield eo(!1,b,p.providerId),yield R(x,b.auth);const P=yield Ul(b);return x._openRedirect(b.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(y,p){return yield Ue(y)._initializationPromise,Ns(y,p,!1)})).apply(this,arguments)}function Ns(y,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(y,p,g=!1){const b=Ue(y),x=jo(b,p),re=yield new is(b,x,g).execute();return re&&!g&&(delete re.user._redirectEventId,yield b._persistUserIfCurrent(re.user),yield b._setRedirectUser(null,p)),re})).apply(this,arguments)}function Ul(y){return il.apply(this,arguments)}function il(){return(il=(0,a.Z)(function*(y){const p=da(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Pf{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ff(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return au(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!au(p)){const x=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ye(this.auth,x))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(va(p))}saveEventToCache(p){this.cachedEventUids.add(va(p)),this.lastProcessedEventTime=Date.now()}}function va(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function au({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function lu(y){return jl.apply(this,arguments)}function jl(){return(jl=(0,a.Z)(function*(y,p={}){return en(y,"GET","/v1/projects",p)})).apply(this,arguments)}const og=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iy=/^https?/;function ba(){return(ba=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield lu(y);for(const g of p)try{if(cu(g))return}catch(b){}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function cu(y){const p=$e(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const re=new URL(y);return""===re.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&re.hostname===b}if(!Iy.test(g))return!1;if(og.test(y))return b===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const Ay=new Xt(3e4,6e4);function Sy(){const y=Cn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let uu=null;function lg(y){return uu=uu||function ag(y){return new Promise((p,g)=>{var b,x,P;function re(){Sy(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Sy(),g(ye(y,"network-request-failed"))},timeout:Ay.get()})}if(null===(x=null===(b=Cn().gapi)||void 0===b?void 0:b.iframes)||void 0===x?void 0:x.Iframe)p(gapi.iframes.getContext());else{if(!(null===(P=Cn().gapi)||void 0===P?void 0:P.load)){const ve=jr("iframefcb");return Cn()[ve]=()=>{gapi.load?re():g(ye(y,"network-request-failed"))},Rn(`https://apis.google.com/js/api.js?onload=${ve}`).catch(Qe=>g(Qe))}re()}}).catch(p=>{throw uu=null,p})}(y),uu}const Nf=new Xt(5e3,15e3),du={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gl(y){const p=y.config;ue(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?ei(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ee.SDK_VERSION},x=jd.get(y.config.apiHost);x&&(b.eid=x);const P=y._getFrameworks();return P.length&&(b.fw=P.join(",")),`${g}?${(0,k.xO)(b).slice(1)}`}function Hd(){return Hd=(0,a.Z)(function*(y){const p=yield lg(y),g=Cn().gapi;return ue(g,y,"internal-error"),p.open({where:document.body,url:Gl(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:du,dontclear:!0},b=>new Promise(function(){var x=(0,a.Z)(function*(P,re){yield b.restyle({setHideOnLeave:!1});const ve=ye(y,"network-request-failed"),Qe=Cn().setTimeout(()=>{re(ve)},Nf.get());function ht(){Cn().clearTimeout(Qe),P(b)}b.ping(ht).then(ht,()=>{re(ve)})});return function(P,re){return x.apply(this,arguments)}}()))}),Hd.apply(this,arguments)}const nw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Vf(y,p,g,b,x,P){ue(y.config.authDomain,y,"auth-domain-config-required"),ue(y.config.apiKey,y,"invalid-api-key");const re={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:ee.SDK_VERSION,eventId:x};if(p instanceof Js){p.setDefaultLanguage(y.languageCode),re.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(re.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Qe,ht]of Object.entries(P||{}))re[Qe]=ht}if(p instanceof Tr){const Qe=p.getScopes().filter(ht=>""!==ht);Qe.length>0&&(re.scopes=Qe.join(","))}y.tenantId&&(re.tid=y.tenantId);const ve=re;for(const Qe of Object.keys(ve))void 0===ve[Qe]&&delete ve[Qe];return`${function Oy({config:y}){return y.emulator?ei(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(ve).slice(1)}`}const Hr="webStorageSupport";class zd extends class cg{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return nt("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new zd(p)}_finalizeEnroll(p,g,b){return function Od(y,p){return en(y,"POST","/v2/accounts/mfaEnrollment:finalize",sn(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Rr(y,p){return en(y,"POST","/v2/accounts/mfaSignIn:finalize",sn(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ry=(()=>{class y{constructor(){}static assertion(g){return zd._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Wd="@firebase/auth",ug="0.19.12";class dg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var x;p((null===(x=b)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sl(){return window}function wa(){return(wa=(0,a.Z)(function*(y,p,g){var b;const{BuildInfo:x}=sl();le(p.sessionId,"AuthEvent did not contain a session ID");const P=yield iw(p.sessionId),re={};return Gn()?re.ibi=x.packageName:Pn()?re.apn=x.packageName:Ie(y,"operation-not-supported-in-this-environment"),x.displayName&&(re.appDisplayName=x.displayName),re.sessionId=P,Vf(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,re)})).apply(this,arguments)}function gs(){return(gs=(0,a.Z)(function*(y){const{BuildInfo:p}=sl(),g={};Gn()?g.iosBundleId=p.packageName:Pn()?g.androidPackageName=p.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield lu(y,g)})).apply(this,arguments)}function zl(){return(zl=(0,a.Z)(function*(y,p,g){const{cordova:b}=sl();let x=()=>{};try{yield new Promise((P,re)=>{let ve=null;function Qe(){var Et;P();const Yn=null===(Et=b.plugins.browsertab)||void 0===Et?void 0:Et.close;"function"==typeof Yn&&Yn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function ht(){ve||(ve=window.setTimeout(()=>{re(ye(y,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===(null==document?void 0:document.visibilityState)&&ht()}p.addPassiveListener(Qe),document.addEventListener("resume",ht,!1),Pn()&&document.addEventListener("visibilitychange",It,!1),x=()=>{p.removePassiveListener(Qe),document.removeEventListener("resume",ht,!1),document.removeEventListener("visibilitychange",It,!1),ve&&window.clearTimeout(ve)}})}finally{x()}})).apply(this,arguments)}function iw(y){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(y){const p=rw(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function rw(y){if(le(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function hg(y){(0,ee._registerComponent)(new q.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),{apiKey:P,authDomain:re}=b.options;return((ve,Qe)=>{ue(P&&!P.includes(":"),"invalid-api-key",{appName:ve.name}),ue(!(null==re?void 0:re.includes(":")),"argument-error",{appName:ve.name});const ht={apiKey:P,authDomain:re,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ao(y)},It=new sr(ve,Qe,ht);return function Ce(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(de);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(It,g),It})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new q.wA("auth-internal",p=>{const g=Ue(p.getProvider("auth").getImmediate());return new dg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Wd,ug,function ky(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ee.registerVersion)(Wd,ug,"esm2017")}("Browser");class Hf extends Pf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,a.Z)(function*(){yield p.initPromise})()}}function gu(y){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,a.Z)(function*(y){const p=yield $f()._get(Kd(y));return p&&(yield $f()._remove(Kd(y))),p})).apply(this,arguments)}function Wl(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function $f(){return de(lt)}function Kd(y){return Ee("authEvent",y.config.apiKey,y.name)}function yu(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,k.zd)(g.join("?"))}function Qd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function Xd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function bu(y=(0,k.z$)()){return!("file:"!==Xd()&&"ionic:"!==Xd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function vi(){try{const y=self.localStorage,p=da();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Zl(y=(0,k.z$)()){return function Ly(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Wf(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch(y){return Kl()&&(0,k.hl)()}return!1}function Kl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function eh(){return(function Ny(){return"http:"===Xd()||"https:"===Xd()}()||(0,k.ru)()||bu())&&!function gg(){return(0,k.b$)()||(0,k.UG)()}()&&vi()&&!Kl()}function qf(){return bu()&&"undefined"!=typeof document}function ol(){return(ol=(0,a.Z)(function*(){return!!qf()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const kr={LOCAL:"local",NONE:"none",SESSION:"session"},wu=ue,th="persistence";function ih(y){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,a.Z)(function*(y){yield y._initializationPromise;const p=_g(),g=Ee(th,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function _g(){var y;try{return(null===(y=function Zf(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Cu=ue;class yo{constructor(){this.browserResolver=de(class _o{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jn,this._completeRedirectFn=Ns}_openPopup(p,g,b,x){var P=this;return(0,a.Z)(function*(){var re;le(null===(re=P.eventManagers[p._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const ve=Vf(p,g,b,$e(),x);return function $o(y,p,g,b=500,x=600){const P=Math.max((window.screen.availHeight-x)/2,0).toString(),re=Math.max((window.screen.availWidth-b)/2,0).toString();let ve="";const Qe=Object.assign(Object.assign({},nw),{width:b.toString(),height:x.toString(),top:P,left:re}),ht=(0,k.z$)().toLowerCase();g&&(ve=Ai(ht)?"_blank":g),Tt(ht)&&(p=p||"http://localhost",Qe.scrollbars="yes");const It=Object.entries(Qe).reduce((Yn,[ys,al])=>`${Yn}${ys}=${al},`,"");if(function Ks(y=(0,k.z$)()){var p;return Gn(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ht)&&"_self"!==ve)return function xy(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ve),new hu(null);const Et=window.open(p||"",ve,It);ue(Et,y,"popup-blocked");try{Et.focus()}catch(Yn){}return new hu(Et)}(p,ve,da())})()}_openRedirect(p,g,b,x){var P=this;return(0,a.Z)(function*(){return yield P._originValidation(p),function xf(y){Cn().location.href=y}(Vf(p,g,b,$e(),x)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:x,promise:P}=this.eventManagers[g];return x?Promise.resolve(x):(le(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,a.Z)(function*(){const b=yield function $l(y){return Hd.apply(this,arguments)}(p),x=new Pf(p);return b.register("authEvent",P=>(ue(null==P?void 0:P.authEvent,p,"invalid-auth-event"),{status:x.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:x},g.iframes[p._key()]=b,x})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Hr,{type:Hr},x=>{var P;const re=null===(P=null==x?void 0:x[0])||void 0===P?void 0:P[Hr];void 0!==re&&g(!!re),Ie(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ud(y){return ba.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Yr()||an()||Gn()}}),this.cordovaResolver=de(class _s{constructor(){this._redirectPersistence=jn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ns}_initialize(p){var g=this;return(0,a.Z)(function*(){const b=p._key();let x=g.eventManagers.get(b);return x||(x=new Hf(p),g.eventManagers.set(b,x),g.attachCallbackListeners(p,x)),x})()}_openPopup(p){Ie(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,x){var P=this;return(0,a.Z)(function*(){!function zo(y){var p,g,b,x,P,re,ve,Qe,ht,It;const Et=sl();ue("function"==typeof(null===(p=null==Et?void 0:Et.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ue(void 0!==(null===(g=null==Et?void 0:Et.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ue("function"==typeof(null===(P=null===(x=null===(b=null==Et?void 0:Et.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue("function"==typeof(null===(Qe=null===(ve=null===(re=null==Et?void 0:Et.cordova)||void 0===re?void 0:re.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===Qe?void 0:Qe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue("function"==typeof(null===(It=null===(ht=null==Et?void 0:Et.cordova)||void 0===ht?void 0:ht.InAppBrowser)||void 0===It?void 0:It.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const re=yield P._initialize(p);yield re.initialized(),re.resetRedirect(),function se(){Kn.clear()}(),yield P._originValidation(p);const ve=function Gf(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Wl(),postBody:null,tenantId:y.tenantId,error:ye(y,"no-auth-event")}}(p,b,x);yield function qd(y,p){return $f()._set(Kd(y),p)}(p,ve);const Qe=yield function Py(y,p,g){return wa.apply(this,arguments)}(p,ve,g),ht=yield function mu(y){const{cordova:p}=sl();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let x=null;b?p.plugins.browsertab.openUrl(y):x=p.InAppBrowser.open(y,function Is(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(x)})})}(Qe);return function pg(y,p,g){return zl.apply(this,arguments)}(p,re,ht)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Uf(y){return gs.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:x,BuildInfo:P}=sl(),re=setTimeout((0,a.Z)(function*(){yield gu(p),g.onEvent(Qd())}),500),ve=function(){var It=(0,a.Z)(function*(Et){clearTimeout(re);const Yn=yield gu(p);let ys=null;Yn&&(null==Et?void 0:Et.url)&&(ys=function _u(y,p){var g,b;const x=function Yd(y){const p=yu(y),g=p.link?decodeURIComponent(p.link):void 0,b=yu(g).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return yu(x).link||x||b||g||y}(p);if(x.includes("/__/auth/callback")){const P=yu(x),re=P.firebaseError?function zf(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(P.firebaseError)):null,ve=null===(b=null===(g=null==re?void 0:re.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Qe=ve?ye(ve):null;return Qe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Qe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(Yn,Et.url)),g.onEvent(ys||Qd())});return function(Yn){return It.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ve);const Qe=x,ht=`${P.packageName.toLowerCase()}://`;sl().handleOpenURL=function(){var It=(0,a.Z)(function*(Et){if(Et.toLowerCase().startsWith(ht)&&ve({url:Et}),"function"==typeof Qe)try{Qe(Et)}catch(Yn){console.error(Yn)}});return function(Et){return It.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=jn,this._completeRedirectFn=Ns}_initialize(p){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,x){var P=this;return(0,a.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(p,g,b,x)})()}_openRedirect(p,g,b,x){var P=this;return(0,a.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(p,g,b,x)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return qf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Cu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,a.Z)(function*(){if(p.underlyingResolver)return;const g=yield function ur(){return ol.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function yg(y){return y.unwrap()}function Yf(y){return vg(y)}function vg(y){const{_tokenResponse:p}=y instanceof k.ZR?y.customData:y;if(!p)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ns.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Ha;break;case"facebook.com":b=Oo;break;case"github.com":b=Ed;break;case"twitter.com":b=Dl;break;default:const{oauthIdToken:x,oauthAccessToken:P,oauthTokenSecret:re,pendingToken:ve,nonce:Qe}=p;return P||re||x||ve?ve?g.startsWith("saml.")?Ir._create(g,ve):Ss._fromParams({providerId:g,signInMethod:g,pendingToken:ve,idToken:x,accessToken:P}):new sa(g).credential({idToken:x,accessToken:P,rawNonce:Qe}):null}return y instanceof k.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Qi(y,p){return p.catch(g=>{throw g instanceof k.ZR&&function Vy(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new By(y,function Vl(y,p){var g;const b=(0,k.m9)(y),x=p;return ue(p.customData.operationType,b,"argument-error"),ue(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),qa._fromError(b,x)}(y,p));else if(b){const x=vg(p),P=p;x&&(P.credential=x,P.tenantId=b.tenantId||void 0,P.email=b.email||void 0,P.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const x=g.user;return{operationType:g.operationType,credential:Yf(g),additionalUserInfo:Zi(g),user:Wo.getOrCreate(x)}})}function Qf(y,p){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,a.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Qi(y,g.confirm(b))}})).apply(this,arguments)}class By{constructor(p,g){this.resolver=g,this.auth=function Du(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Qi(yg(this.auth),this.resolver.resolveSignIn(p))}}class Wo{constructor(p){this._delegate=p,this.multiFactor=function Rd(y){const p=(0,k.m9)(y);return ua.has(p)||ua.set(p,Rs._fromUser(p)),ua.get(p)}(p)}static getOrCreate(p){return Wo.USER_MAP.has(p)||Wo.USER_MAP.set(p,new Wo(p)),Wo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,a.Z)(function*(){return Qi(g.auth,Xr(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,a.Z)(function*(){return Qf(b.auth,function su(y,p,g){return Uo.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,a.Z)(function*(){return Qi(g.auth,function kf(y,p,g){return ou.apply(this,arguments)}(g._delegate,p,yo))})()}linkWithRedirect(p){var g=this;return(0,a.Z)(function*(){return yield ih(Ue(g.auth)),function ln(y,p,g){return function rs(y,p,g){return _a.apply(this,arguments)}(y,p,g)}(g._delegate,p,yo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,a.Z)(function*(){return Qi(g.auth,to(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Qf(this.auth,function Ld(y,p,g){return Xa.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Qi(this.auth,function Bd(y,p,g){return _i.apply(this,arguments)}(this._delegate,p,yo))}reauthenticateWithRedirect(p){var g=this;return(0,a.Z)(function*(){return yield ih(Ue(g.auth)),function Vt(y,p,g){return function Je(y,p,g){return yi.apply(this,arguments)}(y,p,g)}(g._delegate,p,yo)})()}sendEmailVerification(p){return function es(y,p){return Wc.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,a.Z)(function*(){return yield function Ga(y,p){return Bc.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Kc(y,p){return Yc((0,k.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Id(y,p){return Yc((0,k.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function el(y,p){return po.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ca(y,p){return Zc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Nl(y,p,g){return Ll.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wo.USER_MAP=new WeakMap;const Tu=ue;let rh=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=g.options;Tu(x,"invalid-api-key",{appName:g.name}),Tu(x,"invalid-api-key",{appName:g.name});const P="undefined"!=typeof window?yo:void 0;this._delegate=b.initialize({options:{persistence:Uy(x,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function bn(y,p,g){const b=Ue(y);ue(b._canInitEmulator,b,"emulator-config-failed"),ue(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const x=!!(null==g?void 0:g.disableWarnings),P=ui(p),{host:re,port:ve}=function us(y){const p=ui(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const P=x[1];return{host:P,port:$n(b.substr(P.length+1))}}{const[P,re]=b.split(":");return{host:P,port:$n(re)}}}(p);b.config.emulator={url:`${P}//${re}${null===ve?"":`:${ve}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:re,port:ve,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Cr(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function jc(y,p){return Pe.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Qt(this._delegate,g)}confirmPasswordReset(g,b){return function kl(y,p,g){return Uc.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var x=this;return(0,a.Z)(function*(){return Qi(x._delegate,function la(y,p,g){return Sr.apply(this,arguments)}(x._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Fl(y,p){return so.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function zc(y,p){const g=Mo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){Tu(eh(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function go(y,p){return cr.apply(this,arguments)}(g._delegate,yo);return b?Qi(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Jd(y,p){Ue(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,x){const{next:P,error:re,complete:ve}=bg(g,b,x);return this._delegate.onAuthStateChanged(P,re,ve)}onIdTokenChanged(g,b,x){const{next:P,error:re,complete:ve}=bg(g,b,x);return this._delegate.onIdTokenChanged(P,re,ve)}sendSignInLinkToEmail(g,b){return function $c(y,p,g){return Td.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Ol(y,p,g){return Rl.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,a.Z)(function*(){let x;switch(function nh(y,p){wu(Object.values(kr).includes(p),y,"invalid-persistence-type"),(0,k.b$)()?wu(p!==kr.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?wu(p===kr.NONE,y,"unsupported-persistence-type"):Kl()?wu(p===kr.NONE||p===kr.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):wu(p===kr.NONE||vi(),y,"unsupported-persistence-type")}(b._delegate,g),g){case kr.SESSION:x=jn;break;case kr.LOCAL:x=(yield de(xi)._isAvailable())?xi:lt;break;case kr.NONE:x=X;break;default:return Ie("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Qi(this._delegate,function Il(y){return Cd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Qi(this._delegate,si(this._delegate,g))}signInWithCustomToken(g){return Qi(this._delegate,function no(y,p){return io.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Qi(this._delegate,function Gc(y,p,g){return si((0,k.m9)(y),Vc.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Qi(this._delegate,function Pl(y,p,g){return ro.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Qf(this._delegate,function Of(y,p,g){return Zn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,a.Z)(function*(){return Tu(eh(),b._delegate,"operation-not-supported-in-this-environment"),Qi(b._delegate,function ga(y,p,g){return mo.apply(this,arguments)}(b._delegate,g,yo))})()}signInWithRedirect(g){var b=this;return(0,a.Z)(function*(){return Tu(eh(),b._delegate,"operation-not-supported-in-this-environment"),yield ih(b._delegate),function ct(y,p,g){return function kt(y,p,g){return At.apply(this,arguments)}(y,p,g)}(b._delegate,g,yo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function On(y,p){return aa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=kr,y})();function bg(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const x=b;return{next:re=>x(re&&Wo.getOrCreate(re)),error:p,complete:g}}function Uy(y,p){const g=function Eu(y,p){const g=_g();if(!g)return[];const b=Ee(th,y,p);switch(g.getItem(b)){case kr.NONE:return[X];case kr.LOCAL:return[xi,jn];case kr.SESSION:return[jn];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(xi)&&g.push(xi),"undefined"!=typeof window)for(const b of[lt,jn])g.includes(b)||g.push(b);return g.includes(X)||g.push(X),g}class Xf{constructor(){this.providerId="phone",this._delegate=new ns(yg($.Z.auth()))}static credential(p,g){return ns.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Xf.PHONE_SIGN_IN_METHOD=ns.PHONE_SIGN_IN_METHOD,Xf.PROVIDER_ID=ns.PROVIDER_ID;const jy=ue;class Hy{constructor(p,g,b=$.Z.app()){var x;jy(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new fo(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function sw(y){y.INTERNAL.registerComponent(new q.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new rh(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Vc,FacebookAuthProvider:Oo,GithubAuthProvider:Ed,GoogleAuthProvider:Ha,OAuthProvider:sa,SAMLAuthProvider:Br,PhoneAuthProvider:Xf,PhoneMultiFactorGenerator:Ry,RecaptchaVerifier:Hy,TwitterAuthProvider:Dl,Auth:rh,AuthCredential:pn,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}($.Z)},1135:(ne,z,A)=>{A.d(z,{X:()=>$});var a=A(7579);class $ extends a.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const U=super._subscribe(ee);return!U.closed&&ee.next(this._value),U}getValue(){const{hasError:ee,thrownError:U,_value:te}=this;if(ee)throw U;return this._throwIfClosed(),te}next(ee){super.next(this._value=ee)}}},8306:(ne,z,A)=>{A.d(z,{y:()=>L});var a=A(930),$=A(727),k=A(8822),ee=A(4671);var q=A(2416),J=A(576),W=A(2806);let L=(()=>{class be{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const he=new be;return he.source=this,he.operator=ke,he}subscribe(ke,he,fe){const He=function De(be){return be&&be instanceof a.Lv||function K(be){return be&&(0,J.m)(be.next)&&(0,J.m)(be.error)&&(0,J.m)(be.complete)}(be)&&(0,$.Nn)(be)}(ke)?ke:new a.Hp(ke,he,fe);return(0,W.x)(()=>{const{operator:Le,source:Ie}=this;He.add(Le?Le.call(He,Ie):Ie?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(ke){try{return this._subscribe(ke)}catch(he){ke.error(he)}}forEach(ke,he){return new(he=V(he))((fe,He)=>{const Le=new a.Hp({next:Ie=>{try{ke(Ie)}catch(ye){He(ye),Le.unsubscribe()}},error:He,complete:fe});this.subscribe(Le)})}_subscribe(ke){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(ke)}[k.L](){return this}pipe(...ke){return function te(be){return 0===be.length?ee.y:1===be.length?be[0]:function(ke){return be.reduce((he,fe)=>fe(he),ke)}}(ke)(this)}toPromise(ke){return new(ke=V(ke))((he,fe)=>{let He;this.subscribe(Le=>He=Le,Le=>fe(Le),()=>he(He))})}}return be.create=xe=>new be(xe),be})();function V(be){var xe;return null!==(xe=null!=be?be:q.v.Promise)&&void 0!==xe?xe:Promise}},4707:(ne,z,A)=>{A.d(z,{t:()=>k});var a=A(7579),$=A(6063);class k extends a.x{constructor(U=1/0,te=1/0,q=$.l){super(),this._bufferSize=U,this._windowTime=te,this._timestampProvider=q,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=te===1/0,this._bufferSize=Math.max(1,U),this._windowTime=Math.max(1,te)}next(U){const{isStopped:te,_buffer:q,_infiniteTimeWindow:J,_timestampProvider:W,_windowTime:L}=this;te||(q.push(U),!J&&q.push(W.now()+L)),this._trimBuffer(),super.next(U)}_subscribe(U){this._throwIfClosed(),this._trimBuffer();const te=this._innerSubscribe(U),{_infiniteTimeWindow:q,_buffer:J}=this,W=J.slice();for(let L=0;L<W.length&&!U.closed;L+=q?1:2)U.next(W[L]);return this._checkFinalizedStatuses(U),te}_trimBuffer(){const{_bufferSize:U,_timestampProvider:te,_buffer:q,_infiniteTimeWindow:J}=this,W=(J?1:2)*U;if(U<1/0&&W<q.length&&q.splice(0,q.length-W),!J){const L=te.now();let V=0;for(let K=1;K<q.length&&q[K]<=L;K+=2)V=K;V&&q.splice(0,V+1)}}}},7579:(ne,z,A)=>{A.d(z,{x:()=>q});var a=A(8306),$=A(727);const ee=(0,A(3888).d)(W=>function(){W(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var U=A(8737),te=A(2806);let q=(()=>{class W extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const K=new J(this,this);return K.operator=V,K}_throwIfClosed(){if(this.closed)throw new ee}next(V){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(V)}})}error(V){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:K}=this;for(;K.length;)K.shift().error(V)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:K,isStopped:De,observers:be}=this;return K||De?$.Lc:(this.currentObservers=null,be.push(V),new $.w0(()=>{this.currentObservers=null,(0,U.P)(be,V)}))}_checkFinalizedStatuses(V){const{hasError:K,thrownError:De,isStopped:be}=this;K?V.error(De):be&&V.complete()}asObservable(){const V=new a.y;return V.source=this,V}}return W.create=(L,V)=>new J(L,V),W})();class J extends q{constructor(L,V){super(),this.destination=L,this.source=V}next(L){var V,K;null===(K=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===K||K.call(V,L)}error(L){var V,K;null===(K=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===K||K.call(V,L)}complete(){var L,V;null===(V=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===V||V.call(L)}_subscribe(L){var V,K;return null!==(K=null===(V=this.source)||void 0===V?void 0:V.subscribe(L))&&void 0!==K?K:$.Lc}}},930:(ne,z,A)=>{A.d(z,{Hp:()=>ke,Lv:()=>K});var a=A(576),$=A(727),k=A(2416),ee=A(7849),U=A(5032);const te=W("C",void 0,void 0);function W(Ie,ye,Ae){return{kind:Ie,value:ye,error:Ae}}var L=A(3410),V=A(2806);class K extends $.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,$.Nn)(ye)&&ye.add(this)):this.destination=Le}static create(ye,Ae,qe){return new ke(ye,Ae,qe)}next(ye){this.isStopped?He(function J(Ie){return W("N",Ie,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?He(function q(Ie){return W("E",void 0,Ie)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?He(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const De=Function.prototype.bind;function be(Ie,ye){return De.call(Ie,ye)}class xe{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(ye)}catch(qe){he(qe)}}error(ye){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(ye)}catch(qe){he(qe)}else he(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(Ae){he(Ae)}}}class ke extends K{constructor(ye,Ae,qe){let Ke;if(super(),(0,a.m)(ye)||!ye)Ke={next:null!=ye?ye:void 0,error:null!=Ae?Ae:void 0,complete:null!=qe?qe:void 0};else{let ue;this&&k.v.useDeprecatedNextContext?(ue=Object.create(ye),ue.unsubscribe=()=>this.unsubscribe(),Ke={next:ye.next&&be(ye.next,ue),error:ye.error&&be(ye.error,ue),complete:ye.complete&&be(ye.complete,ue)}):Ke=ye}this.destination=new xe(Ke)}}function he(Ie){k.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(Ie):(0,ee.h)(Ie)}function He(Ie,ye){const{onStoppedNotification:Ae}=k.v;Ae&&L.z.setTimeout(()=>Ae(Ie,ye))}const Le={closed:!0,next:U.Z,error:function fe(Ie){throw Ie},complete:U.Z}},727:(ne,z,A)=>{A.d(z,{Lc:()=>te,w0:()=>U,Nn:()=>q});var a=A(576);const k=(0,A(3888).d)(W=>function(V){W(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((K,De)=>`${De+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var ee=A(8737);class U{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const be of V)be.remove(this);else V.remove(this);const{initialTeardown:K}=this;if((0,a.m)(K))try{K()}catch(be){L=be instanceof k?be.errors:[be]}const{_finalizers:De}=this;if(De){this._finalizers=null;for(const be of De)try{J(be)}catch(xe){L=null!=L?L:[],xe instanceof k?L=[...L,...xe.errors]:L.push(xe)}}if(L)throw new k(L)}}add(L){var V;if(L&&L!==this)if(this.closed)J(L);else{if(L instanceof U){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push(L)}}_hasParent(L){const{_parentage:V}=this;return V===L||Array.isArray(V)&&V.includes(L)}_addParent(L){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(L),V):V?[V,L]:L}_removeParent(L){const{_parentage:V}=this;V===L?this._parentage=null:Array.isArray(V)&&(0,ee.P)(V,L)}remove(L){const{_finalizers:V}=this;V&&(0,ee.P)(V,L),L instanceof U&&L._removeParent(this)}}U.EMPTY=(()=>{const W=new U;return W.closed=!0,W})();const te=U.EMPTY;function q(W){return W instanceof U||W&&"closed"in W&&(0,a.m)(W.remove)&&(0,a.m)(W.add)&&(0,a.m)(W.unsubscribe)}function J(W){(0,a.m)(W)?W():W.unsubscribe()}},2416:(ne,z,A)=>{A.d(z,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ne,z,A)=>{A.d(z,{E:()=>$});const $=new(A(8306).y)(U=>U.complete())},8996:(ne,z,A)=>{A.d(z,{D:()=>ye});var a=A(8421),$=A(5363),k=A(9468),te=A(8306),J=A(2202),W=A(576),L=A(9672);function K(Ae,qe){if(!Ae)throw new Error("Iterable cannot be null");return new te.y(Ke=>{(0,L.f)(Ke,qe,()=>{const ue=Ae[Symbol.asyncIterator]();(0,L.f)(Ke,qe,()=>{ue.next().then(nt=>{nt.done?Ke.complete():Ke.next(nt.value)})},0,!0)})})}var De=A(3670),be=A(8239),xe=A(1144),ke=A(6495),he=A(2206),fe=A(4532),He=A(3260);function ye(Ae,qe){return qe?function Ie(Ae,qe){if(null!=Ae){if((0,De.c)(Ae))return function ee(Ae,qe){return(0,a.Xf)(Ae).pipe((0,k.R)(qe),(0,$.Q)(qe))}(Ae,qe);if((0,xe.z)(Ae))return function q(Ae,qe){return new te.y(Ke=>{let ue=0;return qe.schedule(function(){ue===Ae.length?Ke.complete():(Ke.next(Ae[ue++]),Ke.closed||this.schedule())})})}(Ae,qe);if((0,be.t)(Ae))return function U(Ae,qe){return(0,a.Xf)(Ae).pipe((0,k.R)(qe),(0,$.Q)(qe))}(Ae,qe);if((0,he.D)(Ae))return K(Ae,qe);if((0,ke.T)(Ae))return function V(Ae,qe){return new te.y(Ke=>{let ue;return(0,L.f)(Ke,qe,()=>{ue=Ae[J.h](),(0,L.f)(Ke,qe,()=>{let nt,le;try{({value:nt,done:le}=ue.next())}catch(_e){return void Ke.error(_e)}le?Ke.complete():Ke.next(nt)},0,!0)}),()=>(0,W.m)(null==ue?void 0:ue.return)&&ue.return()})}(Ae,qe);if((0,He.L)(Ae))return function Le(Ae,qe){return K((0,He.Q)(Ae),qe)}(Ae,qe)}throw(0,fe.z)(Ae)}(Ae,qe):(0,a.Xf)(Ae)}},8421:(ne,z,A)=>{A.d(z,{Xf:()=>De});var a=A(655),$=A(1144),k=A(8239),ee=A(8306),U=A(3670),te=A(2206),q=A(4532),J=A(6495),W=A(3260),L=A(576),V=A(7849),K=A(8822);function De(Ie){if(Ie instanceof ee.y)return Ie;if(null!=Ie){if((0,U.c)(Ie))return function be(Ie){return new ee.y(ye=>{const Ae=Ie[K.L]();if((0,L.m)(Ae.subscribe))return Ae.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,$.z)(Ie))return function xe(Ie){return new ee.y(ye=>{for(let Ae=0;Ae<Ie.length&&!ye.closed;Ae++)ye.next(Ie[Ae]);ye.complete()})}(Ie);if((0,k.t)(Ie))return function ke(Ie){return new ee.y(ye=>{Ie.then(Ae=>{ye.closed||(ye.next(Ae),ye.complete())},Ae=>ye.error(Ae)).then(null,V.h)})}(Ie);if((0,te.D)(Ie))return fe(Ie);if((0,J.T)(Ie))return function he(Ie){return new ee.y(ye=>{for(const Ae of Ie)if(ye.next(Ae),ye.closed)return;ye.complete()})}(Ie);if((0,W.L)(Ie))return function He(Ie){return fe((0,W.Q)(Ie))}(Ie)}throw(0,q.z)(Ie)}function fe(Ie){return new ee.y(ye=>{(function Le(Ie,ye){var Ae,qe,Ke,ue;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,a.KL)(Ie);!(qe=yield Ae.next()).done;)if(ye.next(qe.value),ye.closed)return}catch(nt){Ke={error:nt}}finally{try{qe&&!qe.done&&(ue=Ae.return)&&(yield ue.call(Ae))}finally{if(Ke)throw Ke.error}}ye.complete()})})(Ie,ye).catch(Ae=>ye.error(Ae))})}},6451:(ne,z,A)=>{A.d(z,{T:()=>te});var a=A(8189),$=A(8421),k=A(515),ee=A(3269),U=A(8996);function te(...q){const J=(0,ee.yG)(q),W=(0,ee._6)(q,1/0),L=q;return L.length?1===L.length?(0,$.Xf)(L[0]):(0,a.J)(W)((0,U.D)(L,J)):k.E}},9646:(ne,z,A)=>{A.d(z,{of:()=>k});var a=A(3269),$=A(8996);function k(...ee){const U=(0,a.yG)(ee);return(0,$.D)(ee,U)}},5403:(ne,z,A)=>{A.d(z,{x:()=>$});var a=A(930);function $(ee,U,te,q,J){return new k(ee,U,te,q,J)}class k extends a.Lv{constructor(U,te,q,J,W,L){super(U),this.onFinalize=W,this.shouldUnsubscribe=L,this._next=te?function(V){try{te(V)}catch(K){U.error(K)}}:super._next,this._error=J?function(V){try{J(V)}catch(K){U.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(V){U.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var U;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(U=this.onFinalize)||void 0===U||U.call(this))}}}},262:(ne,z,A)=>{A.d(z,{K:()=>ee});var a=A(8421),$=A(5403),k=A(4482);function ee(U){return(0,k.e)((te,q)=>{let L,J=null,W=!1;J=te.subscribe((0,$.x)(q,void 0,void 0,V=>{L=(0,a.Xf)(U(V,ee(U)(te))),J?(J.unsubscribe(),J=null,L.subscribe(q)):W=!0})),W&&(J.unsubscribe(),J=null,L.subscribe(q))})}},4351:(ne,z,A)=>{A.d(z,{b:()=>k});var a=A(5577),$=A(576);function k(ee,U){return(0,$.m)(U)?(0,a.z)(ee,U,1):(0,a.z)(ee,1)}},8372:(ne,z,A)=>{A.d(z,{b:()=>ee});var a=A(4986),$=A(4482),k=A(5403);function ee(U,te=a.z){return(0,$.e)((q,J)=>{let W=null,L=null,V=null;const K=()=>{if(W){W.unsubscribe(),W=null;const be=L;L=null,J.next(be)}};function De(){const be=V+U,xe=te.now();if(xe<be)return W=this.schedule(void 0,be-xe),void J.add(W);K()}q.subscribe((0,k.x)(J,be=>{L=be,V=te.now(),W||(W=te.schedule(De,U),J.add(W))},()=>{K(),J.complete()},void 0,()=>{L=W=null}))})}},1884:(ne,z,A)=>{A.d(z,{x:()=>ee});var a=A(4671),$=A(4482),k=A(5403);function ee(te,q=a.y){return te=null!=te?te:U,(0,$.e)((J,W)=>{let L,V=!0;J.subscribe((0,k.x)(W,K=>{const De=q(K);(V||!te(L,De))&&(V=!1,L=De,W.next(K))}))})}function U(te,q){return te===q}},9300:(ne,z,A)=>{A.d(z,{h:()=>k});var a=A(4482),$=A(5403);function k(ee,U){return(0,a.e)((te,q)=>{let J=0;te.subscribe((0,$.x)(q,W=>ee.call(U,W,J++)&&q.next(W)))})}},4004:(ne,z,A)=>{A.d(z,{U:()=>k});var a=A(4482),$=A(5403);function k(ee,U){return(0,a.e)((te,q)=>{let J=0;te.subscribe((0,$.x)(q,W=>{q.next(ee.call(U,W,J++))}))})}},8189:(ne,z,A)=>{A.d(z,{J:()=>k});var a=A(5577),$=A(4671);function k(ee=1/0){return(0,a.z)($.y,ee)}},5577:(ne,z,A)=>{A.d(z,{z:()=>J});var a=A(4004),$=A(8421),k=A(4482),ee=A(9672),U=A(5403),q=A(576);function J(W,L,V=1/0){return(0,q.m)(L)?J((K,De)=>(0,a.U)((be,xe)=>L(K,be,De,xe))((0,$.Xf)(W(K,De))),V):("number"==typeof L&&(V=L),(0,k.e)((K,De)=>function te(W,L,V,K,De,be,xe,ke){const he=[];let fe=0,He=0,Le=!1;const Ie=()=>{Le&&!he.length&&!fe&&L.complete()},ye=qe=>fe<K?Ae(qe):he.push(qe),Ae=qe=>{be&&L.next(qe),fe++;let Ke=!1;(0,$.Xf)(V(qe,He++)).subscribe((0,U.x)(L,ue=>{null==De||De(ue),be?ye(ue):L.next(ue)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(fe--;he.length&&fe<K;){const ue=he.shift();xe?(0,ee.f)(L,xe,()=>Ae(ue)):Ae(ue)}Ie()}catch(ue){L.error(ue)}}))};return W.subscribe((0,U.x)(L,ye,()=>{Le=!0,Ie()})),()=>{null==ke||ke()}}(K,De,W,V)))}},5363:(ne,z,A)=>{A.d(z,{Q:()=>ee});var a=A(9672),$=A(4482),k=A(5403);function ee(U,te=0){return(0,$.e)((q,J)=>{q.subscribe((0,k.x)(J,W=>(0,a.f)(J,U,()=>J.next(W),te),()=>(0,a.f)(J,U,()=>J.complete(),te),W=>(0,a.f)(J,U,()=>J.error(W),te)))})}},5026:(ne,z,A)=>{A.d(z,{R:()=>ee});var a=A(4482),$=A(5403);function k(U,te,q,J,W){return(L,V)=>{let K=q,De=te,be=0;L.subscribe((0,$.x)(V,xe=>{const ke=be++;De=K?U(De,xe,ke):(K=!0,xe),J&&V.next(De)},W&&(()=>{K&&V.next(De),V.complete()})))}}function ee(U,te){return(0,a.e)(k(U,te,arguments.length>=2,!0))}},3099:(ne,z,A)=>{A.d(z,{B:()=>te});var a=A(8996),$=A(5698),k=A(7579),ee=A(930),U=A(4482);function te(J={}){const{connector:W=(()=>new k.x),resetOnError:L=!0,resetOnComplete:V=!0,resetOnRefCountZero:K=!0}=J;return De=>{let be=null,xe=null,ke=null,he=0,fe=!1,He=!1;const Le=()=>{null==xe||xe.unsubscribe(),xe=null},Ie=()=>{Le(),be=ke=null,fe=He=!1},ye=()=>{const Ae=be;Ie(),null==Ae||Ae.unsubscribe()};return(0,U.e)((Ae,qe)=>{he++,!He&&!fe&&Le();const Ke=ke=null!=ke?ke:W();qe.add(()=>{he--,0===he&&!He&&!fe&&(xe=q(ye,K))}),Ke.subscribe(qe),be||(be=new ee.Hp({next:ue=>Ke.next(ue),error:ue=>{He=!0,Le(),xe=q(Ie,L,ue),Ke.error(ue)},complete:()=>{fe=!0,Le(),xe=q(Ie,V),Ke.complete()}}),(0,a.D)(Ae).subscribe(be))})(De)}}function q(J,W,...L){return!0===W?(J(),null):!1===W?null:W(...L).pipe((0,$.q)(1)).subscribe(()=>J())}},5684:(ne,z,A)=>{A.d(z,{T:()=>$});var a=A(9300);function $(k){return(0,a.h)((ee,U)=>k<=U)}},9468:(ne,z,A)=>{A.d(z,{R:()=>$});var a=A(4482);function $(k,ee=0){return(0,a.e)((U,te)=>{te.add(k.schedule(()=>U.subscribe(te),ee))})}},3900:(ne,z,A)=>{A.d(z,{w:()=>ee});var a=A(8421),$=A(4482),k=A(5403);function ee(U,te){return(0,$.e)((q,J)=>{let W=null,L=0,V=!1;const K=()=>V&&!W&&J.complete();q.subscribe((0,k.x)(J,De=>{null==W||W.unsubscribe();let be=0;const xe=L++;(0,a.Xf)(U(De,xe)).subscribe(W=(0,k.x)(J,ke=>J.next(te?te(De,ke,xe,be++):ke),()=>{W=null,K()}))},()=>{V=!0,K()}))})}},5698:(ne,z,A)=>{A.d(z,{q:()=>ee});var a=A(515),$=A(4482),k=A(5403);function ee(U){return U<=0?()=>a.E:(0,$.e)((te,q)=>{let J=0;te.subscribe((0,k.x)(q,W=>{++J<=U&&(q.next(W),U<=J&&q.complete())}))})}},2722:(ne,z,A)=>{A.d(z,{R:()=>U});var a=A(4482),$=A(5403),k=A(8421),ee=A(5032);function U(te){return(0,a.e)((q,J)=>{(0,k.Xf)(te).subscribe((0,$.x)(J,()=>J.complete(),ee.Z)),!J.closed&&q.subscribe(J)})}},8505:(ne,z,A)=>{A.d(z,{b:()=>U});var a=A(576),$=A(4482),k=A(5403),ee=A(4671);function U(te,q,J){const W=(0,a.m)(te)||q||J?{next:te,error:q,complete:J}:te;return W?(0,$.e)((L,V)=>{var K;null===(K=W.subscribe)||void 0===K||K.call(W);let De=!0;L.subscribe((0,k.x)(V,be=>{var xe;null===(xe=W.next)||void 0===xe||xe.call(W,be),V.next(be)},()=>{var be;De=!1,null===(be=W.complete)||void 0===be||be.call(W),V.complete()},be=>{var xe;De=!1,null===(xe=W.error)||void 0===xe||xe.call(W,be),V.error(be)},()=>{var be,xe;De&&(null===(be=W.unsubscribe)||void 0===be||be.call(W)),null===(xe=W.finalize)||void 0===xe||xe.call(W)}))}):ee.y}},7414:(ne,z,A)=>{A.d(z,{V:()=>W});var a=A(4986),$=A(1165),k=A(4482),ee=A(8421),U=A(3888),te=A(5403),q=A(9672);const J=(0,U.d)(V=>function(De=null){V(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=De});function W(V,K){const{first:De,each:be,with:xe=L,scheduler:ke=(null!=K?K:a.z),meta:he=null}=(0,$.q)(V)?{first:V}:"number"==typeof V?{each:V}:V;if(null==De&&null==be)throw new TypeError("No timeout provided.");return(0,k.e)((fe,He)=>{let Le,Ie,ye=null,Ae=0;const qe=Ke=>{Ie=(0,q.f)(He,ke,()=>{try{Le.unsubscribe(),(0,ee.Xf)(xe({meta:he,lastValue:ye,seen:Ae})).subscribe(He)}catch(ue){He.error(ue)}},Ke)};Le=fe.subscribe((0,te.x)(He,Ke=>{null==Ie||Ie.unsubscribe(),Ae++,He.next(ye=Ke),be>0&&qe(be)},void 0,void 0,()=>{(null==Ie?void 0:Ie.closed)||null==Ie||Ie.unsubscribe(),ye=null})),!Ae&&qe(null!=De?"number"==typeof De?De:+De-ke.now():be)})}function L(V){throw new J(V)}},1365:(ne,z,A)=>{A.d(z,{M:()=>q});var a=A(4482),$=A(5403),k=A(8421),ee=A(4671),U=A(5032),te=A(3269);function q(...J){const W=(0,te.jO)(J);return(0,a.e)((L,V)=>{const K=J.length,De=new Array(K);let be=J.map(()=>!1),xe=!1;for(let ke=0;ke<K;ke++)(0,k.Xf)(J[ke]).subscribe((0,$.x)(V,he=>{De[ke]=he,!xe&&!be[ke]&&(be[ke]=!0,(xe=be.every(ee.y))&&(be=null))},U.Z));L.subscribe((0,$.x)(V,ke=>{if(xe){const he=[ke,...De];V.next(W?W(...he):he)}}))})}},4408:(ne,z,A)=>{A.d(z,{o:()=>U});var a=A(727);class $ extends a.w0{constructor(q,J){super()}schedule(q,J=0){return this}}const k={setInterval(te,q,...J){const{delegate:W}=k;return(null==W?void 0:W.setInterval)?W.setInterval(te,q,...J):setInterval(te,q,...J)},clearInterval(te){const{delegate:q}=k;return((null==q?void 0:q.clearInterval)||clearInterval)(te)},delegate:void 0};var ee=A(8737);class U extends ${constructor(q,J){super(q,J),this.scheduler=q,this.work=J,this.pending=!1}schedule(q,J=0){if(this.closed)return this;this.state=q;const W=this.id,L=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(L,W,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(L,this.id,J),this}requestAsyncId(q,J,W=0){return k.setInterval(q.flush.bind(q,this),W)}recycleAsyncId(q,J,W=0){if(null!=W&&this.delay===W&&!1===this.pending)return J;k.clearInterval(J)}execute(q,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const W=this._execute(q,J);if(W)return W;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(q,J){let L,W=!1;try{this.work(q)}catch(V){W=!0,L=V||new Error("Scheduled action threw falsy error")}if(W)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:q,scheduler:J}=this,{actions:W}=J;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(W,this),null!=q&&(this.id=this.recycleAsyncId(J,q,null)),this.delay=null,super.unsubscribe()}}}},7565:(ne,z,A)=>{A.d(z,{v:()=>k});var a=A(6063);class ${constructor(U,te=$.now){this.schedulerActionCtor=U,this.now=te}schedule(U,te=0,q){return new this.schedulerActionCtor(this,U).schedule(q,te)}}$.now=a.l.now;class k extends ${constructor(U,te=$.now){super(U,te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(U){const{actions:te}=this;if(this._active)return void te.push(U);let q;this._active=!0;do{if(q=U.execute(U.state,U.delay))break}while(U=te.shift());if(this._active=!1,q){for(;U=te.shift();)U.unsubscribe();throw q}}}},4986:(ne,z,A)=>{A.d(z,{z:()=>k,P:()=>ee});var a=A(4408);const k=new(A(7565).v)(a.o),ee=k},6063:(ne,z,A)=>{A.d(z,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},233:(ne,z,A)=>{A.d(z,{N:()=>U});var a=A(4408),k=A(7565);const U=new class ee extends k.v{}(class $ extends a.o{constructor(J,W){super(J,W),this.scheduler=J,this.work=W}schedule(J,W=0){return W>0?super.schedule(J,W):(this.delay=W,this.state=J,this.scheduler.flush(this),this)}execute(J,W){return W>0||this.closed?super.execute(J,W):this._execute(J,W)}requestAsyncId(J,W,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(J,W,L):J.flush(this)}})},3410:(ne,z,A)=>{A.d(z,{z:()=>a});const a={setTimeout($,k,...ee){const{delegate:U}=a;return(null==U?void 0:U.setTimeout)?U.setTimeout($,k,...ee):setTimeout($,k,...ee)},clearTimeout($){const{delegate:k}=a;return((null==k?void 0:k.clearTimeout)||clearTimeout)($)},delegate:void 0}},2202:(ne,z,A)=>{A.d(z,{h:()=>$});const $=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ne,z,A)=>{A.d(z,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ne,z,A)=>{A.d(z,{jO:()=>ee,yG:()=>U,_6:()=>te});var a=A(576),$=A(3532);function k(q){return q[q.length-1]}function ee(q){return(0,a.m)(k(q))?q.pop():void 0}function U(q){return(0,$.K)(k(q))?q.pop():void 0}function te(q,J){return"number"==typeof k(q)?q.pop():J}},8737:(ne,z,A)=>{function a($,k){if($){const ee=$.indexOf(k);0<=ee&&$.splice(ee,1)}}A.d(z,{P:()=>a})},3888:(ne,z,A)=>{function a($){const ee=$(U=>{Error.call(U),U.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}A.d(z,{d:()=>a})},2806:(ne,z,A)=>{A.d(z,{x:()=>k,O:()=>ee});var a=A(2416);let $=null;function k(U){if(a.v.useDeprecatedSynchronousErrorHandling){const te=!$;if(te&&($={errorThrown:!1,error:null}),U(),te){const{errorThrown:q,error:J}=$;if($=null,q)throw J}}else U()}function ee(U){a.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=U)}},9672:(ne,z,A)=>{function a($,k,ee,U=0,te=!1){const q=k.schedule(function(){ee(),te?$.add(this.schedule(null,U)):this.unsubscribe()},U);if($.add(q),!te)return q}A.d(z,{f:()=>a})},4671:(ne,z,A)=>{function a($){return $}A.d(z,{y:()=>a})},1144:(ne,z,A)=>{A.d(z,{z:()=>a});const a=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(ne,z,A)=>{A.d(z,{D:()=>$});var a=A(576);function $(k){return Symbol.asyncIterator&&(0,a.m)(null==k?void 0:k[Symbol.asyncIterator])}},1165:(ne,z,A)=>{function a($){return $ instanceof Date&&!isNaN($)}A.d(z,{q:()=>a})},576:(ne,z,A)=>{function a($){return"function"==typeof $}A.d(z,{m:()=>a})},3670:(ne,z,A)=>{A.d(z,{c:()=>k});var a=A(8822),$=A(576);function k(ee){return(0,$.m)(ee[a.L])}},6495:(ne,z,A)=>{A.d(z,{T:()=>k});var a=A(2202),$=A(576);function k(ee){return(0,$.m)(null==ee?void 0:ee[a.h])}},8239:(ne,z,A)=>{A.d(z,{t:()=>$});var a=A(576);function $(k){return(0,a.m)(null==k?void 0:k.then)}},3260:(ne,z,A)=>{A.d(z,{Q:()=>k,L:()=>ee});var a=A(655),$=A(576);function k(U){return(0,a.FC)(this,arguments,function*(){const q=U.getReader();try{for(;;){const{value:J,done:W}=yield(0,a.qq)(q.read());if(W)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(J)}}finally{q.releaseLock()}})}function ee(U){return(0,$.m)(null==U?void 0:U.getReader)}},3532:(ne,z,A)=>{A.d(z,{K:()=>$});var a=A(576);function $(k){return k&&(0,a.m)(k.schedule)}},4482:(ne,z,A)=>{A.d(z,{A:()=>$,e:()=>k});var a=A(576);function $(ee){return(0,a.m)(null==ee?void 0:ee.lift)}function k(ee){return U=>{if($(U))return U.lift(function(te){try{return ee(te,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ne,z,A)=>{function a(){}A.d(z,{Z:()=>a})},7849:(ne,z,A)=>{A.d(z,{h:()=>k});var a=A(2416),$=A(3410);function k(ee){$.z.setTimeout(()=>{const{onUnhandledError:U}=a.v;if(!U)throw ee;U(ee)})}},4532:(ne,z,A)=>{function a($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(z,{z:()=>a})},655:(ne,z,A)=>{function ee(le,_e){var de={};for(var Oe in le)Object.prototype.hasOwnProperty.call(le,Oe)&&_e.indexOf(Oe)<0&&(de[Oe]=le[Oe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(Oe=Object.getOwnPropertySymbols(le);Ce<Oe.length;Ce++)_e.indexOf(Oe[Ce])<0&&Object.prototype.propertyIsEnumerable.call(le,Oe[Ce])&&(de[Oe[Ce]]=le[Oe[Ce]])}return de}function J(le,_e,de,Oe){return new(de||(de=Promise))(function($e,Mt){function Jt(Xt){try{tt(Oe.next(Xt))}catch(ei){Mt(ei)}}function dn(Xt){try{tt(Oe.throw(Xt))}catch(ei){Mt(ei)}}function tt(Xt){Xt.done?$e(Xt.value):function Ce($e){return $e instanceof de?$e:new de(function(Mt){Mt($e)})}(Xt.value).then(Jt,dn)}tt((Oe=Oe.apply(le,_e||[])).next())})}function he(le){return this instanceof he?(this.v=le,this):new he(le)}function fe(le,_e,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,Oe=de.apply(le,_e||[]),$e=[];return Ce={},Mt("next"),Mt("throw"),Mt("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function Mt(xn){Oe[xn]&&(Ce[xn]=function(nn){return new Promise(function(ir,sn){$e.push([xn,nn,ir,sn])>1||Jt(xn,nn)})})}function Jt(xn,nn){try{!function dn(xn){xn.value instanceof he?Promise.resolve(xn.value.v).then(tt,Xt):ei($e[0][2],xn)}(Oe[xn](nn))}catch(ir){ei($e[0][3],ir)}}function tt(xn){Jt("next",xn)}function Xt(xn){Jt("throw",xn)}function ei(xn,nn){xn(nn),$e.shift(),$e.length&&Jt($e[0][0],$e[0][1])}}function Le(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,_e=le[Symbol.asyncIterator];return _e?_e.call(le):(le=function K(le){var _e="function"==typeof Symbol&&Symbol.iterator,de=_e&&le[_e],Oe=0;if(de)return de.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Oe>=le.length&&(le=void 0),{value:le&&le[Oe++],done:!le}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),de={},Oe("next"),Oe("throw"),Oe("return"),de[Symbol.asyncIterator]=function(){return this},de);function Oe($e){de[$e]=le[$e]&&function(Mt){return new Promise(function(Jt,dn){!function Ce($e,Mt,Jt,dn){Promise.resolve(dn).then(function(tt){$e({value:tt,done:Jt})},Mt)}(Jt,dn,(Mt=le[$e](Mt)).done,Mt.value)})}}}A.d(z,{_T:()=>ee,mG:()=>J,qq:()=>he,FC:()=>fe,KL:()=>Le})},5e3:(ne,z,A)=>{A.d(z,{deG:()=>ig,tb:()=>wc,AFp:()=>Yb,ip1:()=>bc,CZH:()=>Kb,hGG:()=>UA,z2F:()=>ld,sBO:()=>oD,Sil:()=>U_,_Vd:()=>Zp,EJc:()=>sf,SBq:()=>Kp,qLn:()=>Qi,vpe:()=>Na,tBr:()=>il,XFs:()=>yt,OlP:()=>qn,zs3:()=>Ls,ZZ4:()=>g0,aQg:()=>_0,soG:()=>um,YKP:()=>Ob,h0i:()=>Ju,PXZ:()=>OA,R0b:()=>Do,FiY:()=>ya,Lbi:()=>yl,g9A:()=>rf,n_E:()=>gc,Qsj:()=>fC,FYo:()=>mc,JOm:()=>ve,q3G:()=>ai,tp0:()=>va,Rgc:()=>Jh,dDg:()=>Tc,q4F:()=>Sb,GfV:()=>Ab,s_b:()=>_c,ifc:()=>Gt,eFA:()=>Ic,G48:()=>iD,Gpc:()=>V,f3M:()=>_a,X6Q:()=>PA,_c5:()=>gD,VLi:()=>xA,c2e:()=>qC,zSh:()=>dt,wAp:()=>Ot,vHH:()=>xe,EiD:()=>yu,mCW:()=>wa,qzn:()=>_o,JVY:()=>cg,pB0:()=>ug,eBb:()=>Ry,L6k:()=>zd,LAX:()=>Wd,cg1:()=>mb,kL8:()=>UE,yhl:()=>pu,dqk:()=>Yt,sIi:()=>_h,CqO:()=>yE,QGY:()=>Hn,F4k:()=>Ip,RDi:()=>xs,AaK:()=>J,z3N:()=>Hr,qOj:()=>fr,TTD:()=>Oo,_Bn:()=>D_,xp6:()=>HT,uIk:()=>gp,Tol:()=>rb,Gre:()=>Lp,ekj:()=>ib,Suo:()=>MC,Xpm:()=>Wt,lG2:()=>an,Yz7:()=>nn,cJS:()=>sn,oAB:()=>ae,Yjl:()=>Ai,Y36:()=>Vu,_UZ:()=>Gv,BQk:()=>Uu,ynx:()=>Bu,qZA:()=>Dp,TgZ:()=>Ma,EpF:()=>$v,n5z:()=>Nt,Ikx:()=>it,LFG:()=>ln,$8M:()=>jr,$Z:()=>_E,NdJ:()=>zv,CRH:()=>OC,O4$:()=>Md,oxw:()=>bE,ALo:()=>Yh,lcZ:()=>rm,Hsn:()=>Rh,F$t:()=>wE,Q6J:()=>Cp,VKq:()=>tm,iGM:()=>td,MAs:()=>Pv,CHM:()=>Hc,oJD:()=>Qd,LSH:()=>ql,Udp:()=>nb,d8E:()=>we,YNc:()=>cE,W1O:()=>Bb,_uU:()=>p_,Oqu:()=>Fp,hij:()=>Np,AsE:()=>kh,HOy:()=>m_,Gf:()=>xC});var a=A(7579),$=A(727),k=A(8306),ee=A(6451),U=A(3099);function te(s){for(let o in s)if(s[o]===te)return o;throw Error("Could not find renamed property on target object.")}function q(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function J(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(J).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function W(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const L=te({__forward_ref__:te});function V(s){return s.__forward_ref__=V,s.toString=function(){return J(this())},s}function K(s){return De(s)?s():s}function De(s){return"function"==typeof s&&s.hasOwnProperty(L)&&s.__forward_ref__===V}class xe extends Error{constructor(o,c){super(function ke(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,c)),this.code=o}}function he(s){return"string"==typeof s?s:null==s?"":String(s)}function fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():he(s)}function ye(s,o){const c=o?` in ${o}`:"";throw new xe(-201,`No provider for ${fe(s)} found${c}`)}function dn(s,o){null==s&&function tt(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function nn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function sn(s){return{providers:s.providers||[],imports:s.imports||[]}}function en(s){return Nn(s,wr)||Nn(s,Kr)}function Nn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ni(s){return s&&(s.hasOwnProperty(Di)||s.hasOwnProperty(rr))?s[Di]:null}const wr=te({\u0275prov:te}),Di=te({\u0275inj:te}),Kr=te({ngInjectableDef:te}),rr=te({ngInjectorDef:te});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Li;function ti(s){const o=Li;return Li=s,o}function Ti(s,o,c){const d=en(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&yt.Optional?null:void 0!==o?o:void ye(J(s),"Injector")}function yn(s){return{toString:s}.toString()}var ni=(()=>((ni=ni||{})[ni.OnPush=0]="OnPush",ni[ni.Default=1]="Default",ni))(),Gt=(()=>{return(s=Gt||(Gt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Gt;var s})();const _t="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,ii="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=_t||"undefined"!=typeof global&&global||St||ii,pi={},bt=[],mi=te({\u0275cmp:te}),$t=te({\u0275dir:te}),rt=te({\u0275pipe:te}),Re=te({\u0275mod:te}),at=te({\u0275fac:te}),wt=te({__NG_ELEMENT_ID__:te});let zt=0;function Wt(s){return yn(()=>{const c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ni.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||bt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Gt.Emulated,id:"c",styles:s.styles||bt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return d.id+=zt++,d.inputs=Tt(s.inputs,c),d.outputs=Tt(s.outputs),m&&m.forEach(E=>E(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(j):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(X):null,d})}function j(s){return on(s)||function Pn(s){return s[$t]||null}(s)}function X(s){return function Lt(s){return s[rt]||null}(s)}const Ee={};function ae(s){return yn(()=>{const o={type:s.type,bootstrap:s.bootstrap||bt,declarations:s.declarations||bt,imports:s.imports||bt,exports:s.exports||bt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ee[s.id]=s.type),o})}function Tt(s,o){if(null==s)return pi;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=d,o&&(o[h]=m)}return c}const an=Wt;function Ai(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function on(s){return s[mi]||null}function vn(s,o){const c=s[Re]||null;if(!c&&!0===o)throw new Error(`Type ${J(s)} does not have '\u0275mod' property.`);return c}const G=18;function Ge(s){return Array.isArray(s)&&"object"==typeof s[1]}function xt(s){return Array.isArray(s)&&!0===s[1]}function zn(s){return 0!=(8&s.flags)}function mn(s){return 2==(2&s.flags)}function Si(s){return 1==(1&s.flags)}function qt(s){return null!==s.template}function Dr(s){return 0!=(512&s[2])}function Tr(s,o){return s.hasOwnProperty(at)?s[at]:null}class sa{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Oo(){return Ha}function Ha(s){return s.type.prototype.ngOnChanges&&(s.setInput=Jm),Ed}function Ed(){const s=Xs(this),o=null==s?void 0:s.current;if(o){const c=s.previous;if(c===pi)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Jm(s,o,c,d){const h=Xs(s)||function Br(s,o){return s[Ir]=o}(s,{previous:pi,current:null}),m=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[c],C=v[E];m[E]=new sa(C&&C.currentValue,o,v===pi),s[d]=o}Oo.ngInherit=!0;const Ir="__ngSimpleChanges__";function Xs(s){return s[Ir]||null}let Sl;function xs(s){Sl=s}function Ga(){return void 0!==Sl?Sl:"undefined"!=typeof document?document:void 0}function In(s){return!!s.listen}const oa={createRenderer:(s,o)=>Ga()};function wn(s){for(;Array.isArray(s);)s=s[0];return s}function ko(s,o){return wn(o[s])}function Wi(s,o){return wn(o[s.index])}function $a(s,o){return s.data[o]}function Xr(s,o){return s[o]}function qi(s,o){const c=o[s];return Ge(c)?c:c[0]}function to(s){return 4==(4&s[2])}function Ms(s){return 128==(128&s[2])}function Ar(s,o){return null==o?null:s[o]}function no(s){s[G]=0}function io(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Ct={lFrame:Fo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kl(){return Ct.bindingsEnabled}function Pe(){return Ct.lFrame.lView}function Qt(){return Ct.lFrame.tView}function Hc(s){return Ct.lFrame.contextLView=s,s[8]}function On(){let s=aa();for(;null!==s&&64===s.type;)s=s.parent;return s}function aa(){return Ct.lFrame.currentTNode}function Sr(s,o){const c=Ct.lFrame;c.currentTNode=s,c.isParent=o}function Gc(){return Ct.lFrame.isParent}function $c(){Ct.lFrame.isParent=!1}function Pl(){return Ct.isInCheckNoChangesMode}function ro(s){Ct.isInCheckNoChangesMode=s}function Bi(){const s=Ct.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ur(){return Ct.lFrame.bindingIndex}function so(){return Ct.lFrame.bindingIndex++}function es(s){const o=Ct.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Ll(s,o){const c=Ct.lFrame;c.bindingIndex=c.bindingRootIndex=s,Wa(o)}function Wa(s){Ct.lFrame.currentDirectiveIndex=s}function ca(s){const o=Ct.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Zc(){return Ct.lFrame.currentQueryIndex}function Kc(s){Ct.lFrame.currentQueryIndex=s}function Id(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Yc(s,o,c){if(c&yt.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||c&yt.Host||(h=Id(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=Ct.lFrame=Ad();return d.currentTNode=o,d.lView=s,!0}function Po(s){const o=Ad(),c=s[1];Ct.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Ad(){const s=Ct.lFrame,o=null===s?null:s.child;return null===o?Fo(s):o}function Fo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Sd(){const s=Ct.lFrame;return Ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const xd=Sd;function No(){const s=Sd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Zi(){return Ct.lFrame.selectedIndex}function ao(s){Ct.lFrame.selectedIndex=s}function Wn(){const s=Ct.lFrame;return $a(s.tView,s.selectedIndex)}function Md(){Ct.lFrame.currentNamespace="svg"}function Os(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:O}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),E&&((s.contentHooks||(s.contentHooks=[])).push(c,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-c,C),S&&((s.viewHooks||(s.viewHooks=[])).push(c,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,S)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(c,O)}}function qa(s,o,c){Od(s,o,3,c)}function Vl(s,o,c,d){(3&s[2])===c&&Od(s,o,c,d)}function di(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Od(s,o,c,d){const m=null!=d?d:-1,v=o.length-1;let E=0;for(let C=void 0!==d?65535&s[G]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=d&&E>=d)break}else o[C]<0&&(s[G]+=65536),(E<m||-1==m)&&(Xm(s,c,o,C),s[G]=(4294901760&s[G])+C+2),C++}function Xm(s,o,c,d){const h=c[d]<0,m=c[d+1],E=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[G]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class ua{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function gi(s,o,c){const d=In(s);let h=0;for(;h<c.length;){const m=c[h];if("number"==typeof m){if(0!==m)break;h++;const v=c[h++],E=c[h++],C=c[h++];d?s.setAttribute(o,E,C,v):o.setAttributeNS(v,E,C)}else{const v=m,E=c[++h];nu(v)?d&&s.setProperty(o,v,E):d?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function jn(s){return 3===s||4===s||6===s}function nu(s){return 64===s.charCodeAt(0)}function Za(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||da(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function da(s,o,c,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const E=s[m++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=m-1;break}}}for(;m<s.length;){const E=s[m];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,c),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function Pd(s){return-1!==s}function Cn(s){return 32767&s}function xr(s,o){let c=function xf(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let pt=!0;function lo(s){const o=pt;return pt=s,o}let Fd=0;function ha(s,o){const c=fa(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Ps(d.data,s),Ps(o,null),Ps(d.blueprint,null));const h=Mr(s,o),m=s.injectorIndex;if(Pd(h)){const v=Cn(h),E=xr(h,o),C=E[1].data;for(let S=0;S<8;S++)o[m+S]=E[v+S]|C[v+S]}return o[m+8]=h,m}function Ps(s,o){s.push(0,0,0,0,0,0,0,0,o)}function fa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Mr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(d=2===v?m.declTNode:1===v?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Ki(s,o,c){!function Ui(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(wt)&&(d=c[wt]),null==d&&(d=c[wt]=Fd++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function Vo(s,o,c){if(c&yt.Optional)return s;ye(o,"NodeInjector")}function ma(s,o,c,d){if(c&yt.Optional&&void 0===d&&(d=null),0==(c&(yt.Self|yt.Host))){const h=s[9],m=ti(void 0);try{return h?h.get(o,d,c&yt.Optional):Ti(o,d,c&yt.Optional)}finally{ti(m)}}return Vo(d,o,c)}function co(s,o,c,d=yt.Default,h){if(null!==s){const m=function Or(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(wt)?s[wt]:void 0;return"number"==typeof o?o>=0?255&o:Ka:o}(c);if("function"==typeof m){if(!Yc(o,s,d))return d&yt.Host?Vo(h,c,d):ma(o,c,d,h);try{const v=m(d);if(null!=v||d&yt.Optional)return v;ye(c)}finally{xd()}}else if("number"==typeof m){let v=null,E=fa(s,o),C=-1,S=d&yt.Host?o[16][6]:null;for((-1===E||d&yt.SkipSelf)&&(C=-1===E?Mr(s,o):o[E+8],-1!==C&&ru(d,!1)?(v=o[1],E=Cn(C),o=xr(C,o)):E=-1);-1!==E;){const O=o[1];if(Rr(m,E,O.data)){const F=iu(E,o,c,v,d,S);if(F!==Bo)return F}C=o[E+8],-1!==C&&ru(d,o[1].data[E+8]===S)&&Rr(m,E,o)?(v=O,E=Cn(C),o=xr(C,o)):E=-1}}}return ma(o,c,d,h)}const Bo={};function Ka(){return new ps(On(),Pe())}function iu(s,o,c,d,h,m){const v=o[1],E=v.data[s+8],O=Ya(E,v,c,null==d?mn(E)&&pt:d!=v&&0!=(3&E.type),h&yt.Host&&m===E);return null!==O?xi(o,v,O,E):Bo}function Ya(s,o,c,d,h){const m=s.providerIndexes,v=o.data,E=1048575&m,C=s.directiveStart,O=m>>20,Y=h?E+O:s.directiveEnd;for(let oe=d?E:E+O;oe<Y;oe++){const Se=v[oe];if(oe<C&&c===Se||oe>=C&&Se.type===c)return oe}if(h){const oe=v[C];if(oe&&qt(oe)&&oe.type===c)return C}return null}function xi(s,o,c,d){let h=s[c];const m=o.data;if(function Rd(s){return s instanceof ua}(h)){const v=h;v.resolving&&function He(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${c}`)}(fe(m[c]));const E=lo(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?ti(v.injectImpl):null;Yc(s,d,yt.Default);try{h=s[c]=v.factory(void 0,m,s,d),o.firstCreatePass&&c>=d.directiveStart&&function Xc(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=Ha(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,m))}(c,m[c],o)}finally{null!==C&&ti(C),lo(E),v.resolving=!1,xd()}}return h}function Rr(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function ru(s,o){return!(s&yt.Self||s&yt.Host&&o)}class ps{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return co(this._tNode,this._lView,o,d,c)}}function Nt(s){return yn(()=>{const o=s.prototype.constructor,c=o[at]||Rn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[at]||Rn(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Rn(s){return De(s)?()=>{const o=Rn(K(s));return o&&o()}:Tr(s)}function jr(s){return function pa(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const m=c[h];if(jn(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(m===o)return c[h+1];h+=2}}}return null}(On(),s)}const ms="__parameters__";function ho(s,o,c){return yn(()=>{const d=function uo(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return E.annotation=v,E;function E(C,S,O){const F=C.hasOwnProperty(ms)?C[ms]:Object.defineProperty(C,ms,{value:[]})[ms];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(v),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class qn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=nn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ig=new qn("AnalyzeForEntryComponents");function Mi(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),Mi(d,o)):o!==s&&o.push(d)}return o}function Yi(s,o){s.forEach(c=>Array.isArray(c)?Yi(c,o):o(c))}function el(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function po(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ns(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function ji(s,o,c){let d=ga(s,o);return d>=0?s[1|d]=c:(d=~d,function Rf(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function tl(s,o){const c=ga(s,o);if(c>=0)return s[1|c]}function ga(s,o){return function Bd(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<c];if(o===v)return m<<c;v>o?h=m:d=m+1}return~(h<<c)}(s,o,1)}const R={},B="__NG_DI_FLAG__",se="ngTempTokenPath",Be=/\n/gm,kt="__source",At=te({provide:String,useValue:te});let Vt;function Je(s){const o=Vt;return Vt=s,o}function yi(s,o=yt.Default){if(void 0===Vt)throw new xe(203,"");return null===Vt?Ti(s,void 0,o):Vt.get(s,o&yt.Optional?null:void 0,o)}function ln(s,o=yt.Default){return(function Ln(){return Li}()||yi)(K(s),o)}const _a=ln;function go(s){const o=[];for(let c=0;c<s.length;c++){const d=K(s[c]);if(Array.isArray(d)){if(0===d.length)throw new xe(900,"");let h,m=yt.Default;for(let v=0;v<d.length;v++){const E=d[v],C=Ns(E);"number"==typeof C?-1===C?h=E.token:m|=C:h=E}o.push(ln(h,m))}else o.push(ln(d))}return o}function cr(s,o){return s[B]=o,s.prototype[B]=o,s}function Ns(s){return s[B]}const il=cr(ho("Inject",s=>({token:s})),-1),ya=cr(ho("Optional"),8),va=cr(ho("SkipSelf"),4);let du,rl;function Gl(s){var o;return(null===(o=function jd(){if(void 0===du&&(du=null,Yt.trustedTypes))try{du=Yt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return du}())||void 0===o?void 0:o.createHTML(s))||s}function $d(s){var o;return(null===(o=function Gd(){if(void 0===rl&&(rl=null,Yt.trustedTypes))try{rl=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return rl}())||void 0===o?void 0:o.createHTML(s))||s}class $o{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xy extends $o{getTypeName(){return"HTML"}}class fu extends $o{getTypeName(){return"Style"}}class My extends $o{getTypeName(){return"Script"}}class Vf extends $o{getTypeName(){return"URL"}}class Oy extends $o{getTypeName(){return"ResourceURL"}}function Hr(s){return s instanceof $o?s.changingThisBreaksApplicationSecurity:s}function _o(s,o){const c=pu(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function pu(s){return s instanceof $o&&s.getTypeName()||null}function cg(s){return new xy(s)}function zd(s){return new fu(s)}function Ry(s){return new My(s)}function Wd(s){return new Vf(s)}function ug(s){return new Oy(s)}class ky{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Gl(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class hg{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Gl(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Gl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const sl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Py=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wa(s){return(s=String(s)).match(sl)||s.match(Py)?s:"unsafe:"+s}function gs(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function mu(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const pg=gs("area,br,col,hr,img,wbr"),zl=gs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zo=gs("rp,rt"),jf=mu(pg,mu(zl,gs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mu(zo,gs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mu(zo,zl)),Hf=gs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gf=gs("srcset"),Zd=mu(Hf,Gf,gs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_u=gs("script,style,template");class Wl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!jf.hasOwnProperty(c))return this.sanitizedSomething=!0,!_u.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),v=m.name,E=v.toLowerCase();if(!Zd.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=m.value;Hf[E]&&(C=wa(C)),Gf[E]&&(s=C,C=(s=String(s)).split(",").map(o=>wa(o.trim())).join(", ")),this.buf.push(" ",v,'="',zf(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();jf.hasOwnProperty(c)&&!pg.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(zf(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const $f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kd=/([^\#-~ |!])/g;function zf(s){return s.replace(/&/g,"&amp;").replace($f,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Kd,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yd;function yu(s,o){let c=null;try{Yd=Yd||function dg(s){const o=new hg(s);return function Bf(){try{return!!(new window.DOMParser).parseFromString(Gl(""),"text/html")}catch(s){return!1}}()?new ky(o):o}(s);let d=o?String(o):"";c=Yd.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=c.innerHTML,c=Yd.getInertBodyElement(d)}while(d!==m);return Gl((new Wl).sanitizeChildren(vu(c)||c))}finally{if(c){const d=vu(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function vu(s){return"content"in s&&function _s(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ai=(()=>((ai=ai||{})[ai.NONE=0]="NONE",ai[ai.HTML=1]="HTML",ai[ai.STYLE=2]="STYLE",ai[ai.SCRIPT=3]="SCRIPT",ai[ai.URL=4]="URL",ai[ai.RESOURCE_URL=5]="RESOURCE_URL",ai))();function Qd(s){const o=Zl();return o?$d(o.sanitize(ai.HTML,s)||""):_o(s,"HTML")?$d(Hr(s)):yu(Ga(),he(s))}function ql(s){const o=Zl();return o?o.sanitize(ai.URL,s)||"":_o(s,"URL")?Hr(s):wa(he(s))}function Zl(){const s=Pe();return s&&s[12]}const qf="__ngContext__";function ur(s,o){s[qf]=o}function Zf(s){const o=function ol(s){return s[qf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Yf(s){return s.ngOriginalError}function vg(s,...o){s.error(...o)}class Qi{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),d=function Vy(s){return s&&s.ngErrorLogger||vg}(o);d(this._console,"ERROR",o),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Yf(o);for(;c&&Yf(c);)c=Yf(c);return c||null}}const Hy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function g(s){return s instanceof Function?s():s}var ve=(()=>((ve=ve||{})[ve.Important=1]="Important",ve[ve.DashCase=2]="DashCase",ve))();function ht(s,o){return undefined(s,o)}function Yn(s){const o=s[3];return xt(o)?o[3]:o}function Iu(s){return ep(s[13])}function Au(s){return ep(s[4])}function ep(s){for(;null!==s&&!xt(s);)s=s[4];return s}function Ca(s,o,c,d,h){if(null!=d){let m,v=!1;xt(d)?m=d:Ge(d)&&(v=!0,d=d[0]);const E=wn(d);0===s&&null!==c?null==h?uw(o,c,E):Ql(o,c,E,h||null,!0):1===s&&null!==c?Ql(o,c,E,h||null,!0):2===s?function _w(s,o,c){const d=Tg(s,o);d&&function hw(s,o,c,d){In(s)?s.removeChild(o,c,d):o.removeChild(c)}(s,d,o,c)}(o,E,v):3===s&&o.destroyNode(E),null!=m&&function xg(s,o,c,d,h){const m=c[7];m!==wn(c)&&Ca(o,s,d,m,h);for(let E=10;E<c.length;E++){const C=c[E];rp(C[1],C,s,o,d,m)}}(o,s,m,c,h)}}function Qn(s,o,c){if(In(s))return s.createElement(o,c);{const d=null!==c?function Al(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function aw(s,o){const c=s[9],d=c.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,io(h,-1)),c.splice(d,1)}function Cg(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&aw(h,d),o>0&&(s[c-1][4]=d[4]);const m=po(s,10+o);!function $y(s,o){rp(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function lw(s,o){if(!(256&o[2])){const c=o[11];In(c)&&c.destroyNode&&rp(s,o,c,3,null,null),function Eg(s){let o=s[13];if(!o)return Dg(s[1],s);for(;o;){let c=null;if(Ge(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Ge(o)&&Dg(o[1],o),o=o[3];null===o&&(o=s),Ge(o)&&Dg(o[1],o),c=o&&o[4]}o=c}}(o)}}function Dg(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function zy(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof ua)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=h[m[v]],C=m[v+1];try{C.call(E)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function cw(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],E="function"==typeof v?v(o):wn(o[v]),C=d[h=c[m+2]],S=c[m+3];"boolean"==typeof S?E.removeEventListener(c[m],C,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),m+=2}else{const v=d[h=c[m+1]];c[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();o[7]=null}}(s,o),1===o[1].type&&In(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&xt(o[3])){c!==o[3]&&aw(c,o);const d=o[19];null!==d&&d.detachView(s)}}}function PT(s,o,c){return function Yl(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Gt.None||h===Gt.Emulated)return null}return Wi(d,c)}(s,o.parent,c)}function Ql(s,o,c,d,h){In(s)?s.insertBefore(o,c,d,h):o.insertBefore(c,d,h)}function uw(s,o,c){In(s)?s.appendChild(o,c):o.appendChild(c)}function dw(s,o,c,d,h){null!==d?Ql(s,o,c,d,h):uw(s,o,c)}function Tg(s,o){return In(s)?s.parentNode(o):o.parentNode}function fw(s,o,c){return pw(s,o,c)}let pw=function Wy(s,o,c){return 40&s.type?Wi(s,c):null};function ah(s,o,c,d){const h=PT(s,d,o),m=o[11],E=fw(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)dw(m,h,c[C],E,!1);else dw(m,h,c,E,!1)}function Ig(s,o){if(null!==o){const c=o.type;if(3&c)return Wi(o,s);if(4&c)return Ag(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return Ig(s,d);{const h=s[o.index];return xt(h)?Ag(-1,h):wn(h)}}if(32&c)return ht(o,s)()||wn(s[o.index]);{const d=gw(s,o);return null!==d?Array.isArray(d)?d[0]:Ig(Yn(s[16]),d):Ig(s,o.next)}}return null}function gw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Ag(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return Ig(d,h)}return o[7]}function yw(s,o,c,d,h,m,v){for(;null!=c;){const E=d[c.index],C=c.type;if(v&&0===o&&(E&&ur(wn(E),d),c.flags|=4),64!=(64&c.flags))if(8&C)yw(s,o,c.child,d,h,m,!1),Ca(o,s,h,E,m);else if(32&C){const S=ht(c,d);let O;for(;O=S();)Ca(o,s,h,O,m);Ca(o,s,h,E,m)}else 16&C?Jl(s,o,d,c,h,m):Ca(o,s,h,E,m);c=v?c.projectionNext:c.next}}function rp(s,o,c,d,h,m){yw(c,d,s.firstChild,o,h,m,!1)}function Jl(s,o,c,d,h,m){const v=c[16],C=v[6].projection[d.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Ca(o,s,h,C[S],m);else yw(s,o,C,v[3],h,m,!0)}function vw(s,o,c){In(s)?s.setAttribute(o,"style",c):o.style.cssText=c}function Mg(s,o,c){In(s)?""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c):o.className=c}function Zy(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}c=h+1}}const Ji="ng-template";function qo(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==Zy(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function sp(s){return 4===s.type&&s.value!==Ji}function Og(s,o,c){return o===(4!==s.type||c?s.value:Ji)}function LT(s,o,c){let d=4;const h=s.attrs||[],m=function hM(s){for(let o=0;o<s.length;o++)if(jn(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!Og(s,C,c)||""===C&&1===o.length){if(Da(d))return!1;v=!0}}else{const S=8&d?C:o[++E];if(8&d&&null!==s.attrs){if(!qo(s.attrs,S,c)){if(Da(d))return!1;v=!0}continue}const F=VT(8&d?"class":C,h,sp(s),c);if(-1===F){if(Da(d))return!1;v=!0;continue}if(""!==S){let Y;Y=F>m?"":h[F+1].toLowerCase();const oe=8&d?Y:null;if(oe&&-1!==Zy(oe,S,0)||2&d&&S!==Y){if(Da(d))return!1;v=!0}}}}else{if(!v&&!Da(d)&&!Da(C))return!1;if(v&&Da(C))continue;v=!1,d=C|1&d}}return Da(d)||v}function Da(s){return 0==(1&s)}function VT(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function BT(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function Rg(s,o,c=!1){for(let d=0;d<o.length;d++)if(LT(s,o[d],c))return!0;return!1}function UT(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function jT(s,o){return s?":not("+o.trim()+")":o}function fM(s){let o=s[0],c=1,d=2,h="",m=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const E=s[++c];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Da(v)&&(o+=jT(m,h),h=""),d=v,m=m||!Da(d);c++}return""!==h&&(o+=jT(m,h)),o}const Zt={};function HT(s){GT(Qt(),Pe(),Zi()+s,Pl())}function GT(s,o,c,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&qa(o,m,c)}else{const m=s.preOrderHooks;null!==m&&Vl(o,m,0,c)}ao(c)}function Me(s,o){return s<<17|o<<2}function Pr(s){return s>>17&32767}function Ta(s){return 2|s}function Ia(s){return(131068&s)>>2}function Ky(s,o){return-131069&s|o<<2}function Hi(s){return 1|s}function av(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],m=c[d+1];if(-1!==m){const v=s.data[m];Kc(h),v.contentQueries(2,o[m],m)}}}function up(s,o,c,d,h,m,v,E,C,S){const O=o.blueprint.slice();return O[0]=h,O[2]=140|d,no(O),O[3]=O[15]=s,O[8]=c,O[10]=v||s&&s[10],O[11]=E||s&&s[11],O[12]=C||s&&s[12]||null,O[9]=S||s&&s[9]||null,O[6]=m,O[16]=2==o.type?s[16]:O,O}function lh(s,o,c,d,h){let m=s.data[o];if(null===m)m=function ch(s,o,c,d,h){const m=aa(),v=Gc(),C=s.data[o]=function eI(s,o,c,d,h,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,c,d,h),function Wc(){return Ct.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=h;const v=function la(){const s=Ct.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Sr(m,!0),m}function ec(s,o,c,d){if(0===c)return-1;const h=o.length;for(let m=0;m<c;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Mu(s,o,c){Po(o);try{const d=s.viewQuery;null!==d&&zg(1,d,c);const h=s.template;null!==h&&Tw(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&av(s,o),s.staticViewQueries&&zg(2,s.viewQuery,c);const m=s.components;null!==m&&function JT(s,o){for(let c=0;c<o.length;c++)uI(s,o[c])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,No()}}function tc(s,o,c,d){const h=o[2];if(256==(256&h))return;Po(o);const m=Pl();try{no(o),function Fl(s){return Ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Tw(s,o,c,2,d);const v=3==(3&h);if(!m)if(v){const S=s.preOrderCheckHooks;null!==S&&qa(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Vl(o,S,0,null),di(o,0)}if(function cI(s){for(let o=Iu(s);null!==o;o=Au(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],m=h[3];0==(1024&h[2])&&io(m,1),h[2]|=1024}}}(o),function lI(s){for(let o=Iu(s);null!==o;o=Au(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];Ms(d)&&tc(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&av(s,o),!m)if(v){const S=s.contentCheckHooks;null!==S&&qa(o,S)}else{const S=s.contentHooks;null!==S&&Vl(o,S,1),di(o,1)}!function Cw(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)ao(~h);else{const m=h,v=c[++d],E=c[++d];Ll(v,m),E(2,o[m])}}}finally{ao(-1)}}(s,o);const E=s.components;null!==E&&function lv(s,o){for(let c=0;c<o.length;c++)OM(s,o[c])}(o,E);const C=s.viewQuery;if(null!==C&&zg(2,C,d),!m)if(v){const S=s.viewCheckHooks;null!==S&&qa(o,S)}else{const S=s.viewHooks;null!==S&&Vl(o,S,2),di(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,io(o[3],-1))}finally{No()}}function Dw(s,o,c,d){const h=o[10],m=!Pl(),v=to(o);try{m&&!v&&h.begin&&h.begin(),v&&Mu(s,o,d),tc(s,o,c,d)}finally{m&&!v&&h.end&&h.end()}}function Tw(s,o,c,d,h){const m=Zi(),v=2&d;try{ao(-1),v&&o.length>20&&GT(s,o,20,Pl()),c(d,h)}finally{ao(m)}}function cv(s,o,c){if(zn(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function uh(s,o,c){!kl()||(function iI(s,o,c,d){const h=c.directiveStart,m=c.directiveEnd;s.firstCreatePass||ha(c,o),ur(d,o);const v=c.initialInputs;for(let E=h;E<m;E++){const C=s.data[E],S=qt(C);S&&gv(o,c,C);const O=xi(o,s,E,c);ur(O,o),null!==v&&_v(0,E-h,O,C,0,v),S&&(qi(c.index,o)[8]=O)}}(s,o,c,Wi(c,o)),128==(128&c.flags)&&function SM(s,o,c){const d=c.directiveStart,h=c.directiveEnd,v=c.index,E=function qc(){return Ct.lFrame.currentDirectiveIndex}();try{ao(v);for(let C=d;C<h;C++){const S=s.data[C],O=o[C];Wa(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&rI(S,O)}}finally{ao(-1),Wa(E)}}(s,o,c))}function uv(s,o,c=Wi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],E=-1===v?c(o,s):s[v];s[h++]=E}}}function Iw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=jg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function jg(s,o,c,d,h,m,v,E,C,S){const O=20+d,F=O+h,Y=function XT(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:Zt);return c}(O,F),oe="function"==typeof S?S():S;return Y[1]={type:s,blueprint:Y,template:c,queries:null,viewQuery:E,declTNode:o,data:Y.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:oe,incompleteFirstPass:!1}}function xw(s,o,c,d){const h=vv(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&bv(s).push(d,h.length-1))}function Mw(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function vs(s,o,c,d,h,m,v,E){const C=Wi(o,c);let O,S=o.inputs;!E&&null!=S&&(O=S[d])?(wv(s,c,O,d,h),mn(o)&&function dv(s,o){const c=qi(o,s);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(d=function Ow(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,In(m)?m.setProperty(C,d,h):nu(d)||(C.setProperty?C.setProperty(d,h):C[d]=h))}function Gg(s,o,c,d){let h=!1;if(kl()){const m=function pv(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];Rg(c,v.selectors,!1)&&(h||(h=[]),Ki(ha(c,o),s,v.type),qt(v)?(sI(s,c),h.unshift(v)):h.push(v))}return h}(s,o,c),v=null===d?null:{"":-1};if(null!==m){h=!0,Pw(c,s.data.length,m.length);for(let O=0;O<m.length;O++){const F=m[O];F.providersResolver&&F.providersResolver(F)}let E=!1,C=!1,S=ec(s,o,m.length,null);for(let O=0;O<m.length;O++){const F=m[O];c.mergedAttrs=Za(c.mergedAttrs,F.hostAttrs),mv(s,c,o,S,F),kw(S,F,v),null!==F.contentQueries&&(c.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=128);const Y=F.type.prototype;!E&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),E=!0),!C&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),C=!0),S++}!function Hg(s,o){const d=o.directiveEnd,h=s.data,m=o.attrs,v=[];let E=null,C=null;for(let S=o.directiveStart;S<d;S++){const O=h[S],F=O.inputs,Y=null===m||sp(o)?null:xM(F,m);v.push(Y),E=Mw(F,S,E),C=Mw(O.outputs,S,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=C}(s,c)}v&&function oI(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=c[o[h+1]];if(null==m)throw new xe(-301,!1);d.push(o[h],m)}}}(c,d,v)}return c.mergedAttrs=Za(c.mergedAttrs,c.attrs),h}function fv(s,o,c,d,h,m){const v=m.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function AM(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(E)!=C&&E.push(C),E.push(d,h,v)}}function rI(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function sI(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function kw(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;qt(o)&&(c[""]=s)}}function Pw(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function mv(s,o,c,d,h){s.data[d]=h;const m=h.factory||(h.factory=Tr(h.type)),v=new ua(m,qt(h),null);s.blueprint[d]=v,c[d]=v,fv(s,o,0,d,ec(s,c,h.hostVars,Zt),h)}function gv(s,o,c){const d=Wi(o,s),h=Iw(c),m=s[10],v=yv(s,up(s,h,null,c.onPush?64:16,d,o,m,m.createRenderer(d,c),null,null));s[o.index]=v}function vo(s,o,c,d,h,m){const v=Wi(s,o);!function Fw(s,o,c,d,h,m,v){if(null==m)In(s)?s.removeAttribute(o,h,c):o.removeAttribute(h);else{const E=null==v?he(m):v(m,d||"",h);In(s)?s.setAttribute(o,h,E,c):c?o.setAttributeNS(c,h,E):o.setAttribute(h,E)}}(o[11],v,m,s.value,c,d,h)}function _v(s,o,c,d,h,m){const v=m[o];if(null!==v){const E=d.setInput;for(let C=0;C<v.length;){const S=v[C++],O=v[C++],F=v[C++];null!==E?d.setInput(c,F,S,O):c[O]=F}}}function xM(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function aI(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function OM(s,o){const c=qi(o,s);if(Ms(c)){const d=c[1];80&c[2]?tc(d,c,d.template,c[8]):c[5]>0&&Nw(c)}}function Nw(s){for(let d=Iu(s);null!==d;d=Au(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const v=m[1];tc(v,m,v.template,m[8])}else m[5]>0&&Nw(m)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=qi(c[d],s);Ms(h)&&h[5]>0&&Nw(h)}}function uI(s,o){const c=qi(o,s),d=c[1];(function RM(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Mu(d,c,c[8])}function yv(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Lw(s){for(;s;){s[2]|=64;const o=Yn(s);if(Dr(s)&&!o)return s;s=o}return null}function $g(s,o,c){const d=o[10];d.begin&&d.begin();try{tc(s,o,s.template,c)}catch(h){throw Gw(o,h),h}finally{d.end&&d.end()}}function Bw(s){!function Vw(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],d=Zf(c),h=d[1];Dw(h,d,h.template,c)}}(s[8])}function zg(s,o,c){Kc(0),o(s,c)}const Hw=(()=>Promise.resolve(null))();function vv(s){return s[7]||(s[7]=[])}function bv(s){return s.cleanup||(s.cleanup=[])}function Gw(s,o){const c=s[9],d=c?c.get(Qi,null):null;d&&d.handleError(o)}function wv(s,o,c,d,h){for(let m=0;m<c.length;){const v=c[m++],E=c[m++],C=o[v],S=s.data[v];null!==S.setInput?S.setInput(C,h,d,E):C[E]=h}}function Zo(s,o,c){const d=ko(o,s);!function tp(s,o,c){In(s)?s.setValue(o,c):o.textContent=c}(s[11],d,c)}function dh(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?m=E:1==m?h=W(h,E):2==m&&(d=W(d,E+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}const Ev=new qn("INJECTOR",-1);class xa{get(o,c=R){if(c===R){const d=new Error(`NullInjectorError: No provider for ${J(o)}!`);throw d.name="NullInjectorError",d}return c}}const dt=new qn("Set Injector scope."),Ou={},jt={};let hh;function qg(){return void 0===hh&&(hh=new xa),hh}function fh(s,o=null,c=null,d){const h=$w(s,o,c,d);return h._resolveInjectorDefTypes(),h}function $w(s,o=null,c=null,d){return new Cv(s,c,o||qg(),d)}class Cv{constructor(o,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&Yi(c,E=>this.processProvider(E,o,c)),Yi([o],E=>this.processInjectorType(E,[],m)),this.records.set(Ev,ll(void 0,this));const v=this.records.get(dt);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:J(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=R,d=yt.Default){this.assertNotDestroyed();const h=Je(this),m=ti(void 0);try{if(!(d&yt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function qw(s){return"function"==typeof s||"object"==typeof s&&s instanceof qn}(o)&&en(o);E=C&&this.injectableDefInScope(C)?ll(Dv(o),Ou):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&yt.Self?qg():this.parent).get(o,c=d&yt.Optional&&c===R?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[se]=v[se]||[]).unshift(J(o)),h)throw v;return function Ho(s,o,c,d){const h=s[se];throw o[kt]&&h.unshift(o[kt]),s.message=function Ul(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=J(o);if(Array.isArray(o))h=o.map(J).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):J(E)))}h=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(Be,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[se]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{ti(m),Je(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(J(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processInjectorType(o,c,d){if(!(o=K(o)))return!1;let h=Ni(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,E=-1!==d.indexOf(v);if(void 0!==m&&(h=Ni(m)),null==h)return!1;if(null!=h.imports&&!E){let O;d.push(v);try{Yi(h.imports,F=>{this.processInjectorType(F,c,d)&&(void 0===O&&(O=[]),O.push(F))})}finally{}if(void 0!==O)for(let F=0;F<O.length;F++){const{ngModule:Y,providers:oe}=O[F];Yi(oe,Se=>this.processProvider(Se,Y,oe||bt))}}this.injectorDefTypes.add(v);const C=Tr(v)||(()=>new v);this.records.set(v,ll(C,Ou));const S=h.providers;if(null!=S&&!E){const O=o;Yi(S,F=>this.processProvider(F,O,S))}return void 0!==m&&void 0!==o.providers}processProvider(o,c,d){let h=ph(o=K(o))?o:K(o&&o.provide);const m=function fI(s,o,c){return hr(s)?ll(void 0,s.useValue):ll(dr(s),Ou)}(o);if(ph(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=ll(void 0,Ou,!0),v.factory=()=>go(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,c){return c.value===Ou&&(c.value=jt,c.value=c.factory()),"object"==typeof c.value&&c.value&&function mI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=K(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Dv(s){const o=en(s),c=null!==o?o.factory:Tr(s);if(null!==c)return c;if(s instanceof qn)throw new xe(204,!1);if(s instanceof Function)return function hI(s){const o=s.length;if(o>0)throw ns(o,"?"),new xe(204,!1);const c=function Fi(s){const o=s&&(s[wr]||s[Kr]);if(o){const c=function Vr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new xe(204,!1)}function dr(s,o,c){let d;if(ph(s)){const h=K(s);return Tr(h)||Dv(h)}if(hr(s))d=()=>K(s.useValue);else if(function pI(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...go(s.deps||[]));else if(function nc(s){return!(!s||!s.useExisting)}(s))d=()=>ln(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function Ww(s){return!!s.deps}(s))return Tr(h)||Dv(h);d=()=>new h(...go(s.deps))}return d}function ll(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function hr(s){return null!==s&&"object"==typeof s&&At in s}function ph(s){return"function"==typeof s}let Ls=(()=>{class s{static create(c,d){var h;if(Array.isArray(c))return fh({name:""},d,c,"");{const m=null!==(h=c.name)&&void 0!==h?h:"";return fh({name:m},c.parent,c.providers,m)}}}return s.THROW_IF_NOT_FOUND=R,s.NULL=new xa,s.\u0275prov=nn({token:s,providedIn:"any",factory:()=>ln(Ev)}),s.__NG_ELEMENT_ID__=-1,s})();function iE(s,o){Os(Zf(s)[1],On())}function fr(s){let o=function rE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(qt(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new xe(903,"");h=o.\u0275dir}if(h){if(c){d.push(h);const v=s;v.inputs=Mv(s.inputs),v.declaredInputs=Mv(s.declaredInputs),v.outputs=Mv(s.outputs);const E=h.hostBindings;E&&wI(s,E);const C=h.viewQuery,S=h.contentQueries;if(C&&mp(s,C),S&&bI(s,S),q(s.inputs,h.inputs),q(s.declaredInputs,h.declaredInputs),q(s.outputs,h.outputs),qt(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(s),E===fr&&(c=!1)}}o=Object.getPrototypeOf(o)}!function pp(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Za(h.hostAttrs,c=Za(c,h.hostAttrs))}}(d)}function Mv(s){return s===pi?{}:s===bt?[]:s}function mp(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function bI(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,m)=>{o(d,h,m),c(d,h,m)}:o}function wI(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let gh=null;function ic(){if(!gh){const s=Yt.Symbol;if(s&&s.iterator)gh=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(gh=d)}}}return gh}function _h(s){return!!Xg(s)&&(Array.isArray(s)||!(s instanceof Map)&&ic()in s)}function Xg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Fr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function ku(s,o,c,d){const h=Fr(s,o,c);return Fr(s,o+1,d)||h}function gp(s,o,c,d){const h=Pe();return Fr(h,so(),o)&&(Qt(),vo(Wn(),h,s,o,c,d)),gp}function bi(s,o,c,d){return Fr(s,so(),c)?o+he(c)+d:Zt}function vh(s,o,c,d,h,m,v,E,C,S){const F=function bs(s,o,c,d,h,m){const v=ku(s,o,c,d);return ku(s,o+2,h,m)||v}(s,Ur(),c,h,v,C);return es(4),F?o+he(c)+d+he(h)+m+he(v)+E+he(C)+S:Zt}function cE(s,o,c,d,h,m,v,E){const C=Pe(),S=Qt(),O=s+20,F=S.firstCreatePass?function lE(s,o,c,d,h,m,v,E,C){const S=o.consts,O=lh(o,s,4,v||null,Ar(S,E));Gg(o,c,O,Ar(S,C)),Os(o,O);const F=O.tViews=jg(2,O,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,O),F.queries=o.queries.embeddedTView(O)),O}(O,S,C,o,c,d,h,m,v):S.data[O];Sr(F,!1);const Y=C[11].createComment("");ah(S,C,Y,F),ur(Y,C),yv(C,C[O]=aI(Y,C,Y,F)),Si(F)&&uh(S,C,F),null!=v&&uv(C,F,E)}function Pv(s){return Xr(function zc(){return Ct.lFrame.contextLView}(),20+s)}function Vu(s,o=yt.Default){const c=Pe();return null===c?ln(s,o):co(On(),c,K(s),o)}function _E(){throw new Error("invalid")}function Cp(s,o,c){const d=Pe();return Fr(d,so(),o)&&vs(Qt(),Wn(),d,s,o,d[11],c,!1),Cp}function sc(s,o,c,d,h){const v=h?"class":"style";wv(s,c,o.inputs[v],v,d)}function Ma(s,o,c,d){const h=Pe(),m=Qt(),v=20+s,E=h[11],C=h[v]=Qn(E,o,function Ty(){return Ct.lFrame.currentNamespace}()),S=m.firstCreatePass?function Hv(s,o,c,d,h,m,v){const E=o.consts,S=lh(o,s,2,h,Ar(E,m));return Gg(o,c,S,Ar(E,v)),null!==S.attrs&&dh(S,S.attrs,!1),null!==S.mergedAttrs&&dh(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,m,h,0,o,c,d):m.data[v];Sr(S,!0);const O=S.mergedAttrs;null!==O&&gi(E,C,O);const F=S.classes;null!==F&&Mg(E,C,F);const Y=S.styles;return null!==Y&&vw(E,C,Y),64!=(64&S.flags)&&ah(m,h,C,S),0===function za(){return Ct.lFrame.elementDepthCount}()&&ur(C,h),function Ol(){Ct.lFrame.elementDepthCount++}(),Si(S)&&(uh(m,h,S),cv(m,S,h)),null!==d&&uv(h,S),Ma}function Dp(){let s=On();Gc()?$c():(s=s.parent,Sr(s,!1));const o=s;!function Rl(){Ct.lFrame.elementDepthCount--}();const c=Qt();return c.firstCreatePass&&(Os(c,s),zn(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function kd(s){return 0!=(16&s.flags)}(o)&&sc(c,o,Pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function eg(s){return 0!=(32&s.flags)}(o)&&sc(c,o,Pe(),o.stylesWithoutHost,!1),Dp}function Gv(s,o,c,d){return Ma(s,o,c,d),Dp(),Gv}function Bu(s,o,c){const d=Pe(),h=Qt(),m=s+20,v=h.firstCreatePass?function ul(s,o,c,d,h){const m=o.consts,v=Ar(m,d),E=lh(o,s,8,"ng-container",v);return null!==v&&dh(E,v,!0),Gg(o,c,E,Ar(m,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(m,h,d,o,c):h.data[m];Sr(v,!0);const E=d[m]=d[11].createComment("");return ah(h,d,E,v),ur(E,d),Si(v)&&(uh(h,d,v),cv(h,v,d)),null!=c&&uv(d,v),Bu}function Uu(){let s=On();const o=Qt();return Gc()?$c():(s=s.parent,Sr(s,!1)),o.firstCreatePass&&(Os(o,s),zn(s)&&o.queries.elementEnd(s)),Uu}function $v(){return Pe()}function Hn(s){return!!s&&"function"==typeof s.then}function Ip(s){return!!s&&"function"==typeof s.subscribe}const yE=Ip;function zv(s,o,c,d){const h=Pe(),m=Qt(),v=On();return function vE(s,o,c,d,h,m,v,E){const C=Si(d),O=s.firstCreatePass&&bv(s),F=o[8],Y=vv(o);let oe=!0;if(3&d.type||E){const Xe=Wi(d,o),ft=E?E(Xe):Xe,Fe=Y.length,Dt=E?un=>E(wn(un[d.index])):d.index;if(In(c)){let un=null;if(!E&&C&&(un=function Ap(s,o,c,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===c&&h[m+1]===d){const E=o[7],C=h[m+2];return E.length>C?E[C]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==un)(un.__ngLastListenerFn__||un).__ngNextListenerFn__=m,un.__ngLastListenerFn__=m,oe=!1;else{m=qv(d,o,F,m,!1);const An=c.listen(ft,h,m);Y.push(m,An),O&&O.push(h,Dt,Fe,Fe+1)}}else m=qv(d,o,F,m,!0),ft.addEventListener(h,m,v),Y.push(m),O&&O.push(h,Dt,Fe,v)}else m=qv(d,o,F,m,!1);const Se=d.outputs;let je;if(oe&&null!==Se&&(je=Se[h])){const Xe=je.length;if(Xe)for(let ft=0;ft<Xe;ft+=2){const os=o[je[ft]][je[ft+1]].subscribe(m),ud=Y.length;Y.push(m,os),O&&O.push(h,d.index,ud,-(ud+1))}}}(m,h,h[11],v,s,o,!!c,d),zv}function Wv(s,o,c,d){try{return!1!==c(d)}catch(h){return Gw(s,h),!1}}function qv(s,o,c,d,h){return function m(v){if(v===Function)return d;const E=2&s.flags?qi(s.index,o):o;0==(32&o[2])&&Lw(E);let C=Wv(o,0,d,v),S=m.__ngNextListenerFn__;for(;S;)C=Wv(o,0,S,v)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function bE(s=1){return function oo(s){return(Ct.lFrame.contextLView=function Qc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ct.lFrame.contextLView))[8]}(s)}function OI(s,o){let c=null;const d=function dM(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?Rg(s,m,!0):UT(d,m))return h}else c=h}return c}function wE(s){const o=Pe()[16][6];if(!o.projection){const d=o.projection=ns(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?OI(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function Rh(s,o=0,c){const d=Pe(),h=Qt(),m=lh(h,20+s,16,null,c||null);null===m.projection&&(m.projection=o),$c(),64!=(64&m.flags)&&function Sg(s,o,c){Jl(o[11],0,o,c,PT(s,c,o),fw(c.parent||o[6],c,o))}(h,d,m)}function eb(s,o,c,d,h){const m=s[c+1],v=null===o;let E=d?Pr(m):Ia(m),C=!1;for(;0!==E&&(!1===C||v);){const O=s[E+1];TE(s[E],o)&&(C=!0,s[E+1]=d?Hi(O):Ta(O)),E=d?Pr(O):Ia(O)}C&&(s[c+1]=d?Ta(m):Hi(m))}function TE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ga(s,o)>=0}const Oi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function IE(s){return s.substring(Oi.key,Oi.keyEnd)}function Sp(s,o){const c=Oi.textEnd;return c===o?-1:(o=Oi.keyEnd=function Op(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Oi.key=o,c),Hu(s,o,c))}function Hu(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function nb(s,o,c){return Es(s,o,c,!1),nb}function ib(s,o){return Es(s,o,null,!0),ib}function rb(s){bo(ji,Yo,s,!0)}function Yo(s,o){for(let c=function PI(s){return function d_(s){Oi.key=0,Oi.keyEnd=0,Oi.value=0,Oi.valueEnd=0,Oi.textEnd=s.length}(s),Sp(s,Hu(s,0,Oi.textEnd))}(o);c>=0;c=Sp(o,c))ji(s,IE(o),!0)}function Es(s,o,c,d){const h=Pe(),m=Qt(),v=es(2);m.firstUpdatePass&&sb(m,s,v,d),o!==Zt&&Fr(h,v,o)&&OE(m,m.data[Zi()],h,h[11],s,h[v+1]=function RE(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=J(Hr(s)))),s}(o,c),d,v)}function bo(s,o,c,d){const h=Qt(),m=es(2);h.firstUpdatePass&&sb(h,null,m,d);const v=Pe();if(c!==Zt&&Fr(v,m,c)){const E=h.data[Zi()];if(lb(E,d)&&!Ra(h,m)){let C=d?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(c=W(C,c||"")),sc(h,E,v,c,d)}else!function f_(s,o,c,d,h,m,v,E){h===Zt&&(h=bt);let C=0,S=0,O=0<h.length?h[0]:null,F=0<m.length?m[0]:null;for(;null!==O||null!==F;){const Y=C<h.length?h[C+1]:void 0,oe=S<m.length?m[S+1]:void 0;let je,Se=null;O===F?(C+=2,S+=2,Y!==oe&&(Se=F,je=oe)):null===F||null!==O&&O<F?(C+=2,Se=O):(S+=2,Se=F,je=oe),null!==Se&&OE(s,o,c,d,Se,je,v,E),O=C<h.length?h[C]:null,F=S<m.length?m[S]:null}}(h,E,v,v[11],v[m+1],v[m+1]=function ME(s,o,c){if(null==c||""===c)return bt;const d=[],h=Hr(c);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(s,o,c),d,m)}}function Ra(s,o){return o>=s.expandoStartIndex}function sb(s,o,c,d){const h=s.data;if(null===h[c+1]){const m=h[Zi()],v=Ra(s,c);lb(m,d)&&null===o&&!v&&(o=!1),o=function FI(s,o,c,d){const h=ca(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=oc(c=Pp(null,s,o,c,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=Pp(h,s,o,c,d),null===m){let C=function ob(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==Ia(d))return s[Pr(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=Pp(null,s,o,C[1],d),C=oc(C,o.attrs,d),function kp(s,o,c,d){s[Pr(c?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else m=function xE(s,o,c){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=oc(d,s[m].hostAttrs,c);return oc(d,o.attrs,c)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),c}(h,m,o,d),function Jv(s,o,c,d,h,m){let v=m?o.classBindings:o.styleBindings,E=Pr(v),C=Ia(v);s[d]=c;let O,S=!1;if(Array.isArray(c)){const F=c;O=F[1],(null===O||ga(F,O)>0)&&(S=!0)}else O=c;if(h)if(0!==C){const Y=Pr(s[E+1]);s[d+1]=Me(Y,E),0!==Y&&(s[Y+1]=Ky(s[Y+1],d)),s[E+1]=function cn(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=Me(E,0),0!==E&&(s[E+1]=Ky(s[E+1],d)),E=d;else s[d+1]=Me(C,0),0===E?E=d:s[C+1]=Ky(s[C+1],d),C=d;S&&(s[d+1]=Ta(s[d+1])),eb(s,O,d,!0),eb(s,O,d,!1),function Xv(s,o,c,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&ga(m,o)>=0&&(c[d+1]=Hi(c[d+1]))}(o,O,s,d,m),v=Me(E,C),m?o.classBindings=v:o.styleBindings=v}(h,m,o,c,v,d)}}function Pp(s,o,c,d,h){let m=null;const v=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<v&&(m=o[E],d=oc(d,m.hostAttrs,h),m!==s);)E++;return null!==s&&(c.directiveStylingLast=E),d}function oc(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ji(s,v,!!c||o[++m]))}return void 0===s?null:s}function OE(s,o,c,d,h,m,v,E){if(!(3&o.type))return;const C=s.data,S=C[E+1];ac(function ww(s){return 1==(1&s)}(S)?ab(C,o,c,h,Ia(S),v):void 0)||(ac(m)||function op(s){return 2==(2&s)}(S)&&(m=ab(C,null,c,h,E,v)),function NT(s,o,c,d,h){const m=In(s);if(o)h?m?s.addClass(c,d):c.classList.add(d):m?s.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:ve.DashCase;if(null==h)m?s.removeStyle(c,d,v):c.style.removeProperty(d);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=ve.Important),m?s.setStyle(c,d,h,v):c.style.setProperty(d,h,E?"important":"")}}}(d,v,ko(Zi(),c),h,m))}function ab(s,o,c,d,h,m){const v=null===o;let E;for(;h>0;){const C=s[h],S=Array.isArray(C),O=S?C[1]:C,F=null===O;let Y=c[h+1];Y===Zt&&(Y=F?bt:void 0);let oe=F?tl(Y,d):O===d?Y:void 0;if(S&&!ac(oe)&&(oe=tl(C,d)),ac(oe)&&(E=oe,v))return E;const Se=s[h+1];h=v?Pr(Se):Ia(Se)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(E=tl(C,d))}return E}function ac(s){return void 0!==s}function lb(s,o){return 0!=(s.flags&(o?16:32))}function p_(s,o=""){const c=Pe(),d=Qt(),h=s+20,m=d.firstCreatePass?lh(d,h,1,o,null):d.data[h],v=c[h]=function Su(s,o){return In(s)?s.createText(o):s.createTextNode(o)}(c[11],o);ah(d,c,v,m),Sr(m,!1)}function Fp(s){return Np("",s,""),Fp}function Np(s,o,c){const d=Pe(),h=bi(d,s,o,c);return h!==Zt&&Zo(d,Zi(),h),Np}function kh(s,o,c,d,h){const m=Pe(),v=function cl(s,o,c,d,h,m){const E=ku(s,Ur(),c,h);return es(2),E?o+he(c)+d+he(h)+m:Zt}(m,s,o,c,d,h);return v!==Zt&&Zo(m,Zi(),v),kh}function m_(s,o,c,d,h,m,v,E,C){const S=Pe(),O=vh(S,s,o,c,d,h,m,v,E,C);return O!==Zt&&Zo(S,Zi(),O),m_}function Lp(s,o,c){bo(ji,Yo,bi(Pe(),s,o,c),!0)}function it(s,o,c){const d=Pe();return Fr(d,so(),o)&&vs(Qt(),Wn(),d,s,o,d[11],c,!0),it}function we(s,o,c){const d=Pe();if(Fr(d,so(),o)){const m=Qt(),v=Wn();vs(m,v,d,s,o,function dp(s,o,c){return(null===s||qt(s))&&(c=function Dd(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}(ca(m.data),v,d),c,!0)}return we}const Ne=void 0;var BE=["en",[["a","p"],["AM","PM"],Ne],[["AM","PM"],Ne,Ne],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ne,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ne,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ne,"{1} 'at' {0}",Ne],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pr(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Lh={};function mb(s){const o=function Us(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=gb(o);if(c)return c;const d=o.split("-")[0];if(c=gb(d),c)return c;if("en"===d)return BE;throw new Error(`Missing locale data for the locale "${s}".`)}function UE(s){return mb(s)[Ot.PluralCase]}function gb(s){return s in Lh||(Lh[s]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[s]),Lh[s]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const Ht="en-US";let uc=Ht;function Wp(s,o,c,d,h){if(s=K(s),Array.isArray(s))for(let m=0;m<s.length;m++)Wp(s[m],o,c,d,h);else{const m=Qt(),v=Pe();let E=ph(s)?s:K(s.provide),C=dr(s);const S=On(),O=1048575&S.providerIndexes,F=S.directiveStart,Y=S.providerIndexes>>20;if(ph(s)||!s.multi){const oe=new ua(C,h,Vu),Se=pc(E,o,h?O:O+Y,F);-1===Se?(Ki(ha(S,v),m,E),qp(m,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),c.push(oe),v.push(oe)):(c[Se]=oe,v[Se]=oe)}else{const oe=pc(E,o,O+Y,F),Se=pc(E,o,O,O+Y),je=oe>=0&&c[oe],Xe=Se>=0&&c[Se];if(h&&!Xe||!h&&!je){Ki(ha(S,v),m,E);const ft=function lC(s,o,c,d,h){const m=new ua(s,c,Vu);return m.multi=[],m.index=o,m.componentProviders=0,C_(m,h,d&&!c),m}(h?aC:Eo,c.length,h,d,C);!h&&Xe&&(c[Se].providerFactory=ft),qp(m,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),c.push(ft),v.push(ft)}else qp(m,s,oe>-1?oe:Se,C_(c[h?Se:oe],C,!h&&d));!h&&d&&Xe&&c[Se].componentProviders++}}}function qp(s,o,c,d){const h=ph(o),m=function zw(s){return!!s.useClass}(o);if(h||m){const C=(m?K(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=S.indexOf(c);-1===O?S.push(c,[d,C]):S[O+1].push(d,C)}else S.push(c,C)}}}function C_(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function pc(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function Eo(s,o,c,d){return Zu(this.multi,[])}function aC(s,o,c,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=xi(c,c[1],this.providerFactory.index,d);m=E.slice(0,v),Zu(h,m);for(let C=v;C<E.length;C++)m.push(E[C])}else m=[],Zu(h,m);return m}function Zu(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function D_(s,o=[]){return c=>{c.providersResolver=(d,h)=>function E_(s,o,c){const d=Qt();if(d.firstCreatePass){const h=qt(s);Wp(c,d.data,d.blueprint,h,!0),Wp(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Ib{}class dC{resolveComponentFactory(o){throw function cC(s){const o=Error(`No component factory found for ${J(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Zp=(()=>{class s{}return s.NULL=new dC,s})();function T_(){return qh(On(),Pe())}function qh(s,o){return new Kp(Wi(s,o))}let Kp=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=T_,s})();function hC(s){return s instanceof Kp?s.nativeElement:s}class mc{}let fC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function pC(){const s=Pe(),c=qi(On().index,s);return function Ku(s){return s[11]}(Ge(c)?c:s)}(),s})(),Zh=(()=>{class s{}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>null}),s})();class Ab{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Sb=new Ab("13.2.7"),Yu={};function I_(s,o,c,d,h=!1){for(;null!==c;){const m=o[c.index];if(null!==m&&d.push(wn(m)),xt(m))for(let E=10;E<m.length;E++){const C=m[E],S=C[1].firstChild;null!==S&&I_(C[1],C,S,d)}const v=c.type;if(8&v)I_(s,o,c.child,d);else if(32&v){const E=ht(c,o);let C;for(;C=E();)d.push(C)}else if(16&v){const E=gw(o,c);if(Array.isArray(E))d.push(...E);else{const C=Yn(o[16]);I_(C[1],C,E,d,!0)}}c=h?c.projectionNext:c.next}return d}class Qp{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return I_(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(xt(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Cg(o,d),po(c,d))}this._attachedToViewContainer=!1}lw(this._lView[1],this._lView)}onDestroy(o){xw(this._lView[1],this._lView,null,o)}markForCheck(){Lw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$g(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Uw(s,o,c){ro(!0);try{$g(s,o,c)}finally{ro(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ip(s,o){rp(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=o}}class $i extends Qp{constructor(o){super(o),this._view=o}detectChanges(){Bw(this._view)}checkNoChanges(){!function jw(s){ro(!0);try{Bw(s)}finally{ro(!1)}}(this._view)}get context(){return null}}class Jp extends Zp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=on(o);return new Mb(c,this.ngModule)}}function Xp(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class Mb extends Ib{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function pM(s){return s.map(fM).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Xp(this.componentDef.inputs)}get outputs(){return Xp(this.componentDef.outputs)}create(o,c,d,h){const m=(h=h||this.ngModule)?function xb(s,o){return{get:(c,d,h)=>{const m=s.get(c,Yu,h);return m!==Yu||d===Yu?m:o.get(c,d,h)}}}(o,h.injector):o,v=m.get(mc,oa),E=m.get(Zh,null),C=v.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",O=d?function Sw(s,o,c){if(In(s))return s.selectRootElement(o,c===Gt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(C,d,this.componentDef.encapsulation):Qn(v.createRenderer(null,this.componentDef),S,function iA(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),F=this.componentDef.onPush?576:528,Y=function Yg(s,o){return{components:[],scheduler:s||Hy,clean:Hw,playerHandler:o||null,flags:0}}(),oe=jg(0,null,null,1,0,null,null,null,null,null),Se=up(null,oe,Y,F,null,null,v,C,E,m);let je,Xe;Po(Se);try{const ft=function tE(s,o,c,d,h,m){const v=c[1];c[20]=s;const C=lh(v,20,2,"#host",null),S=C.mergedAttrs=o.hostAttrs;null!==S&&(dh(C,S,!0),null!==s&&(gi(h,s,S),null!==C.classes&&Mg(h,s,C.classes),null!==C.styles&&vw(h,s,C.styles)));const O=d.createRenderer(s,o),F=up(c,Iw(o),null,o.onPush?64:16,c[20],C,d,O,m||null,null);return v.firstCreatePass&&(Ki(ha(C,c),v,o.type),sI(v,C),Pw(C,c.length,1)),yv(c,F),c[20]=F}(O,this.componentDef,Se,v,C);if(O)if(d)gi(C,O,["ng-version",Sb.full]);else{const{attrs:Fe,classes:Dt}=function mM(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&c.push(m);else{if(!Da(h))break;h=m}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Fe&&gi(C,O,Fe),Dt&&Dt.length>0&&Mg(C,O,Dt.join(" "))}if(Xe=$a(oe,20),void 0!==c){const Fe=Xe.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const un=c[Dt];Fe.push(null!=un?Array.from(un):null)}}je=function nE(s,o,c,d,h){const m=c[1],v=function Rw(s,o,c){const d=On();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),mv(s,d,o,ec(s,o,1,null),c));const h=xi(o,s,d.directiveStart,d);ur(h,o);const m=Wi(d,o);return m&&ur(m,o),h}(m,c,o);if(d.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=On();o.contentQueries(1,v,C.directiveStart)}const E=On();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ao(E.index),fv(c[1],E,0,E.directiveStart,E.directiveEnd,o),rI(o,v)),v}(ft,this.componentDef,Se,Y,[iE]),Mu(oe,Se,null)}finally{No()}return new em(this.componentType,je,qh(Xe,Se),Se,Xe)}}class em extends class Tb{}{constructor(o,c,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new $i(h),this.componentType=o}get injector(){return new ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Ju{}class Ob{}const Xu=new Map;class Rb extends Ju{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Jp(this);const d=vn(o);this._bootstrapComponents=g(d.bootstrap),this._r3Injector=$w(o,c,[{provide:Ju,useValue:this},{provide:Zp,useValue:this.componentFactoryResolver}],J(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=Ls.THROW_IF_NOT_FOUND,d=yt.Default){return o===Ls||o===Ju||o===Ev?this:this._r3Injector.get(o,c,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Fa extends Ob{constructor(o){super(),this.moduleType=o,null!==vn(o)&&function sA(s){const o=new Set;!function c(d){const h=vn(d,!0),m=h.id;null!==m&&(function S_(s,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${s} - ${J(o)} vs ${J(o.name)}`)}(m,Xu.get(m),d),Xu.set(m,d));const v=g(h.imports);for(const E of v)o.has(E)||(o.add(E),c(E))}(s)}(o)}create(o){return new Rb(this.moduleType,o)}}function tm(s,o,c,d){return _C(Pe(),Bi(),s,o,c,d)}function _C(s,o,c,d,h,m){const v=o+c;return Fr(s,v,h)?function Ko(s,o,c){return s[o]=c}(s,v+1,m?d.call(m,h):d(h)):function gl(s,o){const c=s[o];return c===Zt?void 0:c}(s,v+1)}function Yh(s,o){const c=Qt();let d;const h=s+20;c.firstCreatePass?(d=function im(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const m=d.factory||(d.factory=Tr(d.type)),v=ti(Vu);try{const E=lo(!1),C=m();return lo(E),function yp(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,Pe(),h,C),C}finally{ti(v)}}function rm(s,o,c){const d=s+20,h=Pe(),m=Xr(h,d);return function Qh(s,o){return s[1].data[o].pure}(h,d)?_C(h,Bi(),o,m.transform,c,m):m.transform(c)}function Pb(s){return o=>{setTimeout(s,void 0,o)}}const Na=class CC extends a.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){var h,m,v;let E=o,C=c||(()=>null),S=d;if(o&&"object"==typeof o){const F=o;E=null===(h=F.next)||void 0===h?void 0:h.bind(F),C=null===(m=F.error)||void 0===m?void 0:m.bind(F),S=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(C=Pb(C),E&&(E=Pb(E)),S&&(S=Pb(S)));const O=super.subscribe({next:E,error:C,complete:S});return o instanceof $.w0&&o.add(O),O}};function uA(){return this._results[ic()]()}class gc{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ic(),d=gc.prototype;d[c]||(d[c]=uA)}get changes(){return this._changes||(this._changes=new Na)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=Mi(o);(this._changesDetected=!function Xa(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Jh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Fb,s})();const dA=Jh,mr=class extends dA{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o){const c=this._declarationTContainer.tViews,d=up(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),Mu(c,d,o),new Qp(d)}};function Fb(){return sm(On(),Pe())}function sm(s,o){return 4&s.type?new mr(o,s,qh(s,o)):null}let _c=(()=>{class s{}return s.__NG_ELEMENT_ID__=La,s})();function La(){return Vb(On(),Pe())}const Nb=_c,Lb=class extends Nb{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return qh(this._hostTNode,this._hostLView)}get injector(){return new ps(this._hostTNode,this._hostLView)}get parentInjector(){const o=Mr(this._hostTNode,this._hostLView);if(Pd(o)){const c=xr(o,this._hostLView),d=Cn(o);return new ps(c[1].data[d+8],c)}return new ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=Xh(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){const h=o.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(o,c,d,h,m){const v=o&&!function Uo(s){return"function"==typeof s}(o);let E;if(v)E=c;else{const F=c||{};E=F.index,d=F.injector,h=F.projectableNodes,m=F.ngModuleRef}const C=v?o:new Mb(on(o)),S=d||this.parentInjector;if(!m&&null==C.ngModule){const Y=(v?S:this.parentInjector).get(Ju,null);Y&&(m=Y)}const O=C.create(S,h,void 0,m);return this.insert(O.hostView,E),O}insert(o,c){const d=o._lView,h=d[1];if(function xl(s){return xt(s[3])}(d)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const F=d[3],Y=new Lb(F,F[6],F[3]);Y.detach(Y.indexOf(o))}}const m=this._adjustIndex(c),v=this._lContainer;!function oh(s,o,c,d){const h=10+d,m=c.length;d>0&&(c[h-1][4]=o),d<m-10?(o[4]=c[h],el(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function ow(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,d,v,m);const E=Ag(m,v),C=d[11],S=Tg(C,v[7]);return null!==S&&function sh(s,o,c,d,h,m){d[0]=h,d[6]=o,rp(s,d,c,1,h,m)}(h,v[6],C,d,S,E),o.attachToViewContainerRef(),el(x_(v),m,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=Xh(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Cg(this._lContainer,c);d&&(po(x_(this._lContainer),c),lw(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Cg(this._lContainer,c);return d&&null!=po(x_(this._lContainer),c)?new Qp(d):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function Xh(s){return s[8]}function x_(s){return s[8]||(s[8]=[])}function Vb(s,o){let c;const d=o[s.index];if(xt(d))c=d;else{let h;if(8&s.type)h=wn(d);else{const m=o[11];h=m.createComment("");const v=Wi(s,o);Ql(m,Tg(m,v),h,function FT(s,o){return In(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=c=aI(d,o,h,s),yv(o,c)}return new Lb(c,s,o)}class ed{constructor(o){this.queryList=o,this.matches=null}clone(){return new ed(this.queryList)}setDirty(){this.queryList.setDirty()}}class om{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new om(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==Jo(o,c).matches&&this.queries[c].setDirty()}}class TC{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class M_{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new M_(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class O_{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new O_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,c,IC(c,m)),this.matchTNodeWithReadOption(o,c,Ya(c,o,m,!1,!1))}else d===Jh?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Ya(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Kp||h===_c||h===Jh&&4&c.type)this.addMatch(c.index,-2);else{const m=Ya(c,o,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function IC(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function AC(s,o,c,d){return-1===c?function fA(s,o){return 11&s.type?qh(s,o):4&s.type?sm(s,o):null}(o,s):-2===c?function pA(s,o,c){return c===Kp?qh(o,s):c===Jh?sm(o,s):c===_c?Vb(o,s):void 0}(s,o,d):xi(s,s[1],c,o)}function SC(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,v=c.matches,E=[];for(let C=0;C<v.length;C+=2){const S=v[C];E.push(S<0?null:AC(o,m[S],v[C+1],c.metadata.read))}h.matches=E}return h.matches}function yc(s,o,c,d){const h=s.queries.getByIndex(c),m=h.matches;if(null!==m){const v=SC(s,o,h,c);for(let E=0;E<m.length;E+=2){const C=m[E];if(C>0)d.push(v[E/2]);else{const S=m[E+1],O=o[-C];for(let F=10;F<O.length;F++){const Y=O[F];Y[17]===Y[3]&&yc(Y[1],Y,S,d)}if(null!==O[9]){const F=O[9];for(let Y=0;Y<F.length;Y++){const oe=F[Y];yc(oe[1],oe,S,d)}}}}}return d}function td(s){const o=Pe(),c=Qt(),d=Zc();Kc(d+1);const h=Jo(c,d);if(s.dirty&&to(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?yc(c,o,d,[]):SC(c,o,h,d);s.reset(m,hC),s.notifyOnChanges()}return!0}return!1}function xC(s,o,c){const d=Qt();d.firstCreatePass&&(kC(d,new TC(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),Wr(d,Pe(),o)}function MC(s,o,c,d){const h=Qt();if(h.firstCreatePass){const m=On();kC(h,new TC(o,c,d),m.index),function PC(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}Wr(h,Pe(),c)}function OC(){return function RC(s,o){return s[19].queries[o].queryList}(Pe(),Zc())}function Wr(s,o,c){const d=new gc(4==(4&c));xw(s,o,d,d.destroy),null===o[19]&&(o[19]=new om),o[19].queries.push(new ed(d))}function kC(s,o,c){null===s.queries&&(s.queries=new M_),s.queries.track(new O_(o,c))}function Jo(s,o){return s.queries.getByIndex(o)}function Bb(s,o){return sm(s,o)}function nf(...s){}const bc=new qn("Application Initializer");let Kb=(()=>{class s{constructor(c){this.appInits=c,this.resolve=nf,this.reject=nf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Hn(m))c.push(m);else if(yE(m)){const v=new Promise((E,C)=>{m.subscribe({complete:E,error:C})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(ln(bc,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Yb=new qn("AppId",{providedIn:"root",factory:function WC(){return`${Qb()}${Qb()}${Qb()}`}});function Qb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rf=new qn("Platform Initializer"),yl=new qn("Platform ID"),wc=new qn("appBootstrapListener");let qC=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();const um=new qn("LocaleId",{providedIn:"root",factory:()=>_a(um,yt.Optional|yt.SkipSelf)||function AA(){return"undefined"!=typeof $localize&&$localize.locale||Ht}()}),sf=new qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class B_{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let U_=(()=>{class s{compileModuleSync(c){return new Fa(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=g(vn(c).declarations).reduce((v,E)=>{const C=on(E);return C&&v.push(new Mb(C)),v},[]);return new B_(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const KC=(()=>Promise.resolve(0))();function af(s){"undefined"==typeof Zone?KC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Do{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Na(!1),this.onMicrotaskEmpty=new Na(!1),this.onStable=new Na(!1),this.onError=new Na(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Jb(){let s=Yt.requestAnimationFrame,o=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function od(s){const o=()=>{!function YC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Yt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Xb(s),s.isCheckStableRunning=!0,Cc(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Xb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,m,v,E)=>{try{return ad(s),c.invokeTask(h,m,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),e0(s)}},onInvoke:(c,d,h,m,v,E,C)=>{try{return ad(s),c.invoke(h,m,v,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),e0(s)}},onHasTask:(c,d,h,m)=>{c.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Xb(s),Cc(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,h,m)=>(c.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Do.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Do.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,Ec,nf,nf);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const Ec={};function Cc(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Xb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function ad(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function e0(s){s._nesting--,Cc(s)}class Dc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Na,this.onMicrotaskEmpty=new Na,this.onStable=new Na,this.onError=new Na}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}let Tc=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Do.assertNotInAngularZone(),af(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())af(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(ln(Do))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})(),j_=(()=>{class s{constructor(){this._applications=new Map,t0.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return t0.findTestabilityInTree(this,c,d)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();class QC{addToWindow(o){}findTestabilityInTree(o,c,d){return null}}function xA(s){t0=s}let Xo,t0=new QC;const XC=new qn("AllowMultipleToken");class OA{constructor(o,c){this.name=o,this.token=c}}function Ic(s,o,c=[]){const d=`Platform: ${o}`,h=new qn(d);return(m=[])=>{let v=r0();if(!v||v.injector.get(XC,!1))if(s)s(c.concat(m).concat({provide:h,useValue:!0}));else{const E=c.concat(m).concat({provide:h,useValue:!0},{provide:dt,useValue:"platform"});!function eD(s){if(Xo&&!Xo.destroyed&&!Xo.injector.get(XC,!1))throw new xe(400,"");Xo=s.get(tD);const o=s.get(rf,null);o&&o.forEach(c=>c())}(Ls.create({providers:E,name:d}))}return function dm(s){const o=r0();if(!o)throw new xe(401,"");return o}()}}function r0(){return Xo&&!Xo.destroyed?Xo:null}let tD=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const E=function nD(s,o){let c;return c="noop"===s?new Dc:("zone.js"===s?void 0:s)||new Do({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),C=[{provide:Do,useValue:E}];return E.run(()=>{const S=Ls.create({providers:C,parent:this.injector,name:c.moduleType.name}),O=c.create(S),F=O.injector.get(Qi,null);if(!F)throw new xe(402,"");return E.runOutsideAngular(()=>{const Y=E.onError.subscribe({next:oe=>{F.handleError(oe)}});O.onDestroy(()=>{lf(this._modules,O),Y.unsubscribe()})}),function s0(s,o,c){try{const d=c();return Hn(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(F,E,()=>{const Y=O.injector.get(Kb);return Y.runInitializers(),Y.donePromise.then(()=>(function HE(s){dn(s,"Expected localeId to be defined"),"string"==typeof s&&(uc=s.toLowerCase().replace(/_/g,"-"))}(O.injector.get(um,Ht)||Ht),this._moduleDoBootstrap(O),O))})})}bootstrapModule(c,d=[]){const h=H_({},d);return function MA(s,o,c){const d=new Fa(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const d=c.injector.get(ld);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new xe(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(ln(Ls))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();function H_(s,o){return Array.isArray(o)?o.reduce(H_,s):Object.assign(Object.assign({},s),o)}let ld=(()=>{class s{constructor(c,d,h,m,v){this._zone=c,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new k.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),C=new k.y(S=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Do.assertNotInAngularZone(),af(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{Do.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{O.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ee.T)(E,C.pipe((0,U.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new xe(405,"");let h;h=c instanceof Ib?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const m=function JC(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Ju),E=h.create(Ls.NULL,[],d||h.selector,m),C=E.location.nativeElement,S=E.injector.get(Tc,null),O=S&&E.injector.get(j_);return S&&O&&O.registerApplication(C,S),E.onDestroy(()=>{this.detachView(E.hostView),lf(this.components,E),O&&O.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;lf(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(wc,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(ln(Do),ln(Ls),ln(Qi),ln(Zp),ln(Kb))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function lf(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let $_=!0,o0=!1;function PA(){return o0=!0,$_}function iD(){if(o0)throw new Error("Cannot enable prod mode after platform setup.");$_=!1}let oD=(()=>{class s{}return s.__NG_ELEMENT_ID__=NA,s})();function NA(s){return function aD(s,o,c){if(mn(s)&&!c){const d=qi(s.index,o);return new Qp(d,d)}return 47&s.type?new Qp(o[16],o):null}(On(),Pe(),16==(16&s))}class Z_{constructor(){}supports(o){return _h(o)}create(o){return new hD(o)}}const dD=(s,o)=>o;class hD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||dD}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<mm(d,h,m)?c:d,E=mm(v,h,m),C=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{m||(m=[]);const S=E-h,O=C-h;if(S!=O){for(let Y=0;Y<S;Y++){const oe=Y<m.length?m[Y]:m[Y]=0,Se=oe+Y;O<=Se&&Se<S&&(m[Y]=oe+1)}m[v.previousIndex]=O-S}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!_h(o))throw new xe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)m=o[E],v=this._trackByFn(E,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,E)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,E),d=!0),c=c._next}else h=0,function EI(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[ic()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,E,v,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,m,h)):o=this._addAfter(new h0(c,d),m,h),o}_verifyReinsertion(o,c,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new cf),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cf),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class h0{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class K_{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class cf{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new K_,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mm(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class Y_{constructor(){}supports(o){return o instanceof Map||Xg(o)}create(){return new f0}}class f0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Xg(o)))throw new xe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new p0(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class p0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m0(){return new g0([new Z_])}let g0=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||m0()),deps:[[s,new va,new ya]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new xe(901,"")}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:m0}),s})();function fD(){return new _0([new Y_])}let _0=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||fD()),deps:[[s,new va,new ya]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(d)return d;throw new xe(901,"")}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:fD}),s})();const gD=Ic(null,"core",[{provide:yl,useValue:"unknown"},{provide:tD,deps:[Ls]},{provide:j_,deps:[]},{provide:qC,deps:[]}]);let UA=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(ln(ld))},s.\u0275mod=ae({type:s}),s.\u0275inj=sn({}),s})()},3942:(ne,z,A)=>{A.d(z,{Z:()=>xe});var a=A(2090),$=A(4859),k=A(9681),ee=A(1877);class U{constructor(he,fe){this._delegate=he,this.firebase=fe,(0,k._addComponent)(he,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(he,fe=k._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(he);return!Le.isInitialized()&&"EXPLICIT"===(null===(He=Le.getComponent())||void 0===He?void 0:He.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:fe})}_removeServiceInstance(he,fe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(fe)}_addComponent(he){(0,k._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,k._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function W(){const ke=function J(ke){const he={},fe={__esModule:!0,initializeApp:function Ie(Ke,ue={}){const nt=k.initializeApp(Ke,ue);if((0,a.r3)(he,nt.name))return he[nt.name];const le=new ke(nt,fe);return he[nt.name]=le,le},app:Le,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ae(Ke){const ue=Ke.name,nt=ue.replace("-compat","");if(k._registerComponent(Ke)&&"PUBLIC"===Ke.type){const le=(_e=Le())=>{if("function"!=typeof _e[nt])throw q.create("invalid-app-argument",{appName:ue});return _e[nt]()};void 0!==Ke.serviceProps&&(0,a.ZB)(le,Ke.serviceProps),fe[nt]=le,ke.prototype[nt]=function(..._e){return this._getService.bind(this,ue).apply(this,Ke.multipleInstances?_e:[])}}return"PUBLIC"===Ke.type?fe[nt]:null},removeApp:function He(Ke){delete he[Ke]},useAsService:function qe(Ke,ue){return"serverAuth"===ue?null:ue},modularAPIs:k}};function Le(Ke){if(!(0,a.r3)(he,Ke=Ke||k._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:Ke});return he[Ke]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function ye(){return Object.keys(he).map(Ke=>he[Ke])}}),Le.App=ke,fe}(U);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function he(fe){(0,a.ZB)(ke,fe)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ke}(),V=new ee.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=L;!function be(ke){(0,k.registerVersion)("@firebase/app-compat","0.1.23",ke)}()},9681:(ne,z,A)=>{A.r(z),A.d(z,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Ni,_DEFAULT_ENTRY_NAME:()=>Jt,_addComponent:()=>ei,_addOrOverwriteComponent:()=>xn,_apps:()=>tt,_clearComponents:()=>en,_components:()=>Xt,_getProvider:()=>ir,_registerComponent:()=>nn,_removeServiceInstance:()=>sn,deleteApp:()=>rr,getApp:()=>Di,getApps:()=>Kr,initializeApp:()=>wr,onLog:()=>Ln,registerVersion:()=>Li,setLogLevel:()=>ti});var a=A(5861),$=A(4859),k=A(1877),ee=A(2090);class U{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function te(rt){const Re=rt.getComponent();return"VERSION"===(null==Re?void 0:Re.type)}(at)){const wt=at.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(at=>at).join(" ")}}const q="@firebase/app",J="0.7.22",W=new k.Yd("@firebase/app"),Jt="[DEFAULT]",dn={[q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,Xt=new Map;function ei(rt,Re){try{rt.container.addComponent(Re)}catch(at){W.debug(`Component ${Re.name} failed to register with FirebaseApp ${rt.name}`,at)}}function xn(rt,Re){rt.container.addOrOverwriteComponent(Re)}function nn(rt){const Re=rt.name;if(Xt.has(Re))return W.debug(`There were multiple attempts to register component ${Re}.`),!1;Xt.set(Re,rt);for(const at of tt.values())ei(at,rt);return!0}function ir(rt,Re){const at=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),rt.container.getProvider(Re)}function sn(rt,Re,at=Jt){ir(rt,Re).clearInstance(at)}function en(){Xt.clear()}const Fi=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Vr{constructor(Re,at,wt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}const Ni="9.7.0";function wr(rt,Re={}){"object"!=typeof Re&&(Re={name:Re});const at=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},Re),wt=at.name;if("string"!=typeof wt||!wt)throw Fi.create("bad-app-name",{appName:String(wt)});const zt=tt.get(wt);if(zt){if((0,ee.vZ)(rt,zt.options)&&(0,ee.vZ)(at,zt.config))return zt;throw Fi.create("duplicate-app",{appName:wt})}const Wt=new $.H0(wt);for(const j of Xt.values())Wt.addComponent(j);const Q=new Vr(rt,at,Wt);return tt.set(wt,Q),Q}function Di(rt=Jt){const Re=tt.get(rt);if(!Re)throw Fi.create("no-app",{appName:rt});return Re}function Kr(){return Array.from(tt.values())}function rr(rt){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(rt){const Re=rt.name;tt.has(Re)&&(tt.delete(Re),yield Promise.all(rt.container.getProviders().map(at=>at.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function Li(rt,Re,at){var wt;let zt=null!==(wt=dn[rt])&&void 0!==wt?wt:rt;at&&(zt+=`-${at}`);const Wt=zt.match(/\s|\//),Q=Re.match(/\s|\//);if(Wt||Q){const j=[`Unable to register library "${zt}" with version "${Re}":`];return Wt&&j.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Wt&&Q&&j.push("and"),Q&&j.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void W.warn(j.join(" "))}nn(new $.wA(`${zt}-version`,()=>({library:zt,version:Re}),"VERSION"))}function Ln(rt,Re){if(null!==rt&&"function"!=typeof rt)throw Fi.create("invalid-log-argument");(0,k.Am)(rt,Re)}function ti(rt){(0,k.Ub)(rt)}const yn="firebase-heartbeat-store";let ni=null;function ls(){return ni||(ni=(0,ee.X3)("firebase-heartbeat-database",1,(rt,Re)=>{0===Re&&rt.createObjectStore(yn)}).catch(rt=>{throw Fi.create("storage-open",{originalErrorMessage:rt.message})})),ni}function Gt(){return(Gt=(0,a.Z)(function*(rt){try{return(yield ls()).transaction(yn).objectStore(yn).get(ii(rt))}catch(Re){throw Fi.create("storage-get",{originalErrorMessage:Re.message})}})).apply(this,arguments)}function _t(rt,Re){return St.apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(rt,Re){try{const wt=(yield ls()).transaction(yn,"readwrite");return yield wt.objectStore(yn).put(Re,ii(rt)),wt.complete}catch(at){throw Fi.create("storage-set",{originalErrorMessage:at.message})}})).apply(this,arguments)}function ii(rt){return`${rt.name}!${rt.options.appId}`}class cs{constructor(Re){this.container=Re,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new bt(at),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var Re=this;return(0,a.Z)(function*(){const wt=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=Ii();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==zt&&!Re._heartbeatsCache.heartbeats.some(Wt=>Wt.date===zt))return Re._heartbeatsCache.heartbeats.push({date:zt,agent:wt}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(Wt=>{const Q=new Date(Wt.date).valueOf();return Date.now()-Q<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,a.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const at=Ii(),{heartbeatsToSend:wt,unsentEntries:zt}=function pi(rt,Re=1024){const at=[];let wt=rt.slice();for(const zt of rt){const Wt=at.find(Q=>Q.agent===zt.agent);if(Wt){if(Wt.dates.push(zt.date),mi(at)>Re){Wt.dates.pop();break}}else if(at.push({agent:zt.agent,dates:[zt.date]}),mi(at)>Re){at.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:at,unsentEntries:wt}}(Re._heartbeatsCache.heartbeats),Wt=(0,ee.L)(JSON.stringify({version:2,heartbeats:wt}));return Re._heartbeatsCache.lastSentHeartbeatDate=at,zt.length>0?(Re._heartbeatsCache.heartbeats=zt,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),Wt})()}}function Ii(){return(new Date).toISOString().substring(0,10)}class bt{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,a.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function Io(rt){return Gt.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var at=this;return(0,a.Z)(function*(){var wt;if(yield at._canUseIndexedDBPromise){const Wt=yield at.read();return _t(at.app,{lastSentHeartbeatDate:null!==(wt=Re.lastSentHeartbeatDate)&&void 0!==wt?wt:Wt.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var at=this;return(0,a.Z)(function*(){var wt;if(yield at._canUseIndexedDBPromise){const Wt=yield at.read();return _t(at.app,{lastSentHeartbeatDate:null!==(wt=Re.lastSentHeartbeatDate)&&void 0!==wt?wt:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Re.heartbeats]})}})()}}function mi(rt){return(0,ee.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function $t(rt){nn(new $.wA("platform-logger",Re=>new U(Re),"PRIVATE")),nn(new $.wA("heartbeat",Re=>new cs(Re),"PRIVATE")),Li(q,J,rt),Li(q,J,"esm2017"),Li("fire-js","")}("")},4859:(ne,z,A)=>{A.d(z,{wA:()=>k,H0:()=>J});var a=A(5861),$=A(2090);class k{constructor(L,V,K){this.name=L,this.instanceFactory=V,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const ee="[DEFAULT]";class U{constructor(L,V){this.name=L,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const V=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(V)){const K=new $.BH;if(this.instancesDeferred.set(V,K),this.isInitialized(V)||this.shouldAutoInitialize())try{const De=this.getOrInitializeService({instanceIdentifier:V});De&&K.resolve(De)}catch(De){}}return this.instancesDeferred.get(V).promise}getImmediate(L){var V;const K=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),De=null!==(V=null==L?void 0:L.optional)&&void 0!==V&&V;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(De)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(be){if(De)return null;throw be}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function q(W){return"EAGER"===W.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(V){}for(const[V,K]of this.instancesDeferred.entries()){const De=this.normalizeInstanceIdentifier(V);try{const be=this.getOrInitializeService({instanceIdentifier:De});K.resolve(be)}catch(be){}}}}clearInstance(L=ee){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,a.Z)(function*(){const V=Array.from(L.instances.values());yield Promise.all([...V.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...V.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=ee){return this.instances.has(L)}getOptions(L=ee){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:V={}}=L,K=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const De=this.getOrInitializeService({instanceIdentifier:K,options:V});for(const[be,xe]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(be)&&xe.resolve(De);return De}onInit(L,V){var K;const De=this.normalizeInstanceIdentifier(V),be=null!==(K=this.onInitCallbacks.get(De))&&void 0!==K?K:new Set;be.add(L),this.onInitCallbacks.set(De,be);const xe=this.instances.get(De);return xe&&L(xe,De),()=>{be.delete(L)}}invokeOnInitCallbacks(L,V){const K=this.onInitCallbacks.get(V);if(K)for(const De of K)try{De(L,V)}catch(be){}}getOrInitializeService({instanceIdentifier:L,options:V={}}){let K=this.instances.get(L);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(W=L,W===ee?void 0:W),options:V}),this.instances.set(L,K),this.instancesOptions.set(L,V),this.invokeOnInitCallbacks(K,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,K)}catch(De){}var W;return K||null}normalizeInstanceIdentifier(L=ee){return this.component?this.component.multipleInstances?L:ee:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const V=this.getProvider(L.name);if(V.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);V.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const V=new U(L,this);return this.providers.set(L,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:(ne,z,A)=>{A.d(z,{in:()=>$,Yd:()=>q,Ub:()=>J,Am:()=>W});const a=[];var $=(()=>{return(L=$||($={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",$;var L})();const k={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ee=$.INFO,U={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},te=(L,V,...K)=>{if(V<L.logLevel)return;const De=(new Date).toISOString(),be=U[V];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[be](`[${De}]  ${L.name}:`,...K)};class q{constructor(V){this.name=V,this._logLevel=ee,this._logHandler=te,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in $))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?k[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...V),this._logHandler(this,$.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...V),this._logHandler(this,$.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,$.INFO,...V),this._logHandler(this,$.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,$.WARN,...V),this._logHandler(this,$.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...V),this._logHandler(this,$.ERROR,...V)}}function J(L){a.forEach(V=>{V.setLogLevel(L)})}function W(L,V){for(const K of a){let De=null;V&&V.level&&(De=k[V.level]),K.userLogHandler=null===L?null:(be,xe,...ke)=>{const he=ke.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch(He){return null}}).filter(fe=>fe).join(" ");xe>=(null!=De?De:be.logLevel)&&L({level:$[xe].toLowerCase(),message:he,args:ke,type:be.name})}}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(ne){const z={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},A="function"==typeof ne?ne():ne,k=Object.assign({},z,{features:A.features||!!A.logOnly&&{pause:!0,export:!0,test:!0}||z.features},A);if(k.maxAge&&k.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${k.maxAge}`);return k}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(z,A){if(this.action=z,this.timestamp=A,this.type=PERFORM_ACTION,void 0===z.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(z){this.timestamp=z,this.type=RESET}}class Rollback{constructor(z){this.timestamp=z,this.type=ROLLBACK}}class Commit{constructor(z){this.timestamp=z,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(z){this.id=z,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(z,A,a=!0){this.start=z,this.end=A,this.active=a,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(z){this.index=z,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(z){this.actionId=z,this.type=JUMP_TO_ACTION}}class ImportState{constructor(z){this.nextLiftedState=z,this.type=IMPORT_STATE}}class LockChanges{constructor(z){this.status=z,this.type=LOCK_CHANGES}}class PauseRecording{constructor(z){this.status=z,this.type=PAUSE_RECORDING}}function difference(ne,z){return ne.filter(A=>z.indexOf(A)<0)}function unliftState(ne){const{computedStates:z,currentStateIndex:A}=ne;if(A>=z.length){const{state:$}=z[z.length-1];return $}const{state:a}=z[A];return a}function unliftAction(ne){return ne.actionsById[ne.nextActionId-1]}function liftAction(ne){return new PerformAction(ne,+Date.now())}function sanitizeActions(ne,z){return Object.keys(z).reduce((A,a)=>{const $=Number(a);return A[$]=sanitizeAction(ne,z[$],$),A},{})}function sanitizeAction(ne,z,A){return Object.assign(Object.assign({},z),{action:ne(z.action,A)})}function sanitizeStates(ne,z){return z.map((A,a)=>({state:sanitizeState(ne,A.state,a),error:A.error}))}function sanitizeState(ne,z,A){return ne(z,A)}function shouldFilterActions(ne){return ne.predicate||ne.actionsSafelist||ne.actionsBlocklist}function filterLiftedState(ne,z,A,a){const $=[],k={},ee=[];return ne.stagedActionIds.forEach((U,te)=>{const q=ne.actionsById[U];!q||te&&isActionFiltered(ne.computedStates[te],q,z,A,a)||(k[U]=q,$.push(U),ee.push(ne.computedStates[te]))}),Object.assign(Object.assign({},ne),{stagedActionIds:$,actionsById:k,computedStates:ee})}function isActionFiltered(ne,z,A,a,$){const k=A&&!A(ne,z.action),ee=a&&!z.action.type.match(a.map(te=>escapeRegExp(te)).join("|")),U=$&&z.action.type.match($.map(te=>escapeRegExp(te)).join("|"));return k||ee||U}function escapeRegExp(ne){return ne.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(ne,z,A,a,$){if(a)return{state:A,error:"Interrupted by an error up the chain"};let ee,k=A;try{k=ne(A,z)}catch(U){ee=U.toString(),$.handleError(U)}return{state:k,error:ee}}function recomputeStates(ne,z,A,a,$,k,ee,U,te){if(z>=ne.length&&ne.length===k.length)return ne;const q=ne.slice(0,z),J=k.length-(te?1:0);for(let W=z;W<J;W++){const L=k[W],V=$[L].action,K=q[W-1],De=K?K.state:a,be=K?K.error:void 0,ke=ee.indexOf(L)>-1?K:computeNextEntry(A,V,De,be,U);q.push(ke)}return te&&q.push(ne[ne.length-1]),q}function liftInitialState(ne,z){return{monitorState:z(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:ne,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(ne,z,A,a,$={}){return k=>(ee,U)=>{let{monitorState:te,actionsById:q,nextActionId:J,stagedActionIds:W,skippedActionIds:L,committedState:V,currentStateIndex:K,computedStates:De,isLocked:be,isPaused:xe}=ee||z;function ke(He){let Le=He,Ie=W.slice(1,Le+1);for(let ye=0;ye<Ie.length;ye++){if(De[ye+1].error){Le=ye,Ie=W.slice(1,Le+1);break}delete q[Ie[ye]]}L=L.filter(ye=>-1===Ie.indexOf(ye)),W=[0,...W.slice(Le+1)],V=De[Le].state,De=De.slice(Le),K=K>Le?K-Le:0}function he(){q={0:liftAction(INIT_ACTION)},J=1,W=[0],L=[],V=De[K].state,K=0,De=[]}ee||(q=Object.create(q));let fe=0;switch(U.type){case LOCK_CHANGES:be=U.status,fe=1/0;break;case PAUSE_RECORDING:xe=U.status,xe?(W=[...W,J],q[J]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),J++,fe=W.length-1,De=De.concat(De[De.length-1]),K===W.length-2&&K++,fe=1/0):he();break;case RESET:q={0:liftAction(INIT_ACTION)},J=1,W=[0],L=[],V=ne,K=0,De=[];break;case COMMIT:he();break;case ROLLBACK:q={0:liftAction(INIT_ACTION)},J=1,W=[0],L=[],K=0,De=[];break;case TOGGLE_ACTION:{const{id:He}=U;L=-1===L.indexOf(He)?[He,...L]:L.filter(Ie=>Ie!==He),fe=W.indexOf(He);break}case SET_ACTIONS_ACTIVE:{const{start:He,end:Le,active:Ie}=U,ye=[];for(let Ae=He;Ae<Le;Ae++)ye.push(Ae);L=Ie?difference(L,ye):[...L,...ye],fe=W.indexOf(He);break}case JUMP_TO_STATE:K=U.index,fe=1/0;break;case JUMP_TO_ACTION:{const He=W.indexOf(U.actionId);-1!==He&&(K=He),fe=1/0;break}case SWEEP:W=difference(W,L),L=[],K=Math.min(K,W.length-1);break;case PERFORM_ACTION:{if(be)return ee||z;if(xe||ee&&isActionFiltered(ee.computedStates[K],U,$.predicate,$.actionsSafelist,$.actionsBlocklist)){const Le=De[De.length-1];De=[...De.slice(0,-1),computeNextEntry(k,U.action,Le.state,Le.error,A)],fe=1/0;break}$.maxAge&&W.length===$.maxAge&&ke(1),K===W.length-1&&K++;const He=J++;q[He]=U,W=[...W,He],fe=W.length-1;break}case IMPORT_STATE:({monitorState:te,actionsById:q,nextActionId:J,stagedActionIds:W,skippedActionIds:L,committedState:V,currentStateIndex:K,computedStates:De,isLocked:be,isPaused:xe}=U.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:fe=0,$.maxAge&&W.length>$.maxAge&&(De=recomputeStates(De,fe,k,V,q,W,L,A,xe),ke(W.length-$.maxAge),fe=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(De.filter(Le=>Le.error).length>0)fe=0,$.maxAge&&W.length>$.maxAge&&(De=recomputeStates(De,fe,k,V,q,W,L,A,xe),ke(W.length-$.maxAge),fe=1/0);else{if(!xe&&!be){K===W.length-1&&K++;const Le=J++;q[Le]=new PerformAction(U,+Date.now()),W=[...W,Le],fe=W.length-1,De=recomputeStates(De,fe,k,V,q,W,L,A,xe)}De=De.map(Le=>Object.assign(Object.assign({},Le),{state:k(Le.state,RECOMPUTE_ACTION)})),K=W.length-1,$.maxAge&&W.length>$.maxAge&&ke(W.length-$.maxAge),fe=1/0}break;default:fe=1/0}return De=recomputeStates(De,fe,k,V,q,W,L,A,xe),te=a(te,U),{monitorState:te,actionsById:q,nextActionId:J,stagedActionIds:W,skippedActionIds:L,committedState:V,currentStateIndex:K,computedStates:De,isLocked:be,isPaused:xe}}}let DevtoolsDispatcher=(()=>{class ne extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return ne.\u0275fac=function(){let z;return function(a){return(z||(z=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(ne)))(a||ne)}}(),ne.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(ne,z,A){this.config=z,this.dispatcher=A,this.devtoolsExtension=ne,this.createActionStreams()}notify(ne,z){if(this.devtoolsExtension)if(ne.type===PERFORM_ACTION){if(z.isLocked||z.isPaused)return;const A=unliftState(z);if(shouldFilterActions(this.config)&&isActionFiltered(A,ne,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const a=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,A,z.currentStateIndex):A,$=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,ne,z.nextActionId):ne;this.sendToReduxDevtools(()=>this.extensionConnection.send($,a))}else{const A=Object.assign(Object.assign({},z),{stagedActionIds:z.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,z.actionsById):z.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,z.computedStates):z.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,A,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(ne=>{const z=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=z,z.init(),z.subscribe(A=>ne.next(A)),z.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const ne=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),z=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.START)),A=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.STOP)),a=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(U=>this.unwrapAction(U.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(U=>U.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(te=>te.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>U),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(U)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(U))),k=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(U=>this.unwrapAction(U.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(A)),ee=a.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(A));this.start$=z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(A)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>k)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ee))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(ne){var z;const A={name:ne.name,features:ne.features,serialize:ne.serialize,autoPause:null!==(z=ne.autoPause)&&void 0!==z&&z};return!1!==ne.maxAge&&(A.maxAge=ne.maxAge),A}sendToReduxDevtools(ne){try{ne()}catch(z){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",z)}}}return DevtoolsExtension.\u0275fac=function ne(z){return new(z||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class ne{constructor(A,a,$,k,ee,U,te,q){const J=liftInitialState(te,q.monitor),W=liftReducerWith(te,J,U,q.monitor,q),L=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(a.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),k.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),A,k.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),V=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(W)),K=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),De=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(V),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:he},[fe,He])=>{let Le=He(he,fe);return fe.type!==PERFORM_ACTION&&shouldFilterActions(q)&&(Le=filterLiftedState(Le,q.predicate,q.actionsSafelist,q.actionsBlocklist)),k.notify(fe,Le),{state:Le,action:fe}},{state:J,action:null})).subscribe(({state:he,action:fe})=>{K.next(he),fe.type===PERFORM_ACTION&&ee.next(fe.action)}),be=k.start$.subscribe(()=>{this.refresh()}),xe=K.asObservable(),ke=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=be,this.stateSubscription=De,this.dispatcher=A,this.liftedState=xe,this.state=ke}dispatch(A){this.dispatcher.next(A)}next(A){this.dispatcher.next(A)}error(A){}complete(){}performAction(A){this.dispatch(new PerformAction(A,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(A){this.dispatch(new ToggleAction(A))}jumpToAction(A){this.dispatch(new JumpToAction(A))}jumpToState(A){this.dispatch(new JumpToState(A))}importState(A){this.dispatch(new ImportState(A))}lockChanges(A){this.dispatch(new LockChanges(A))}pauseRecording(A){this.dispatch(new PauseRecording(A))}}return ne.\u0275fac=function(A){return new(A||ne)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},ne.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(ne,z){return Boolean(ne)||z.monitor!==noMonitor}function createReduxDevtoolsExtension(){const ne="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[ne]?window[ne]:null}function createStateObservable(ne){return ne.state}let StoreDevtoolsModule=(()=>{class ne{static instrument(A={}){return{ngModule:ne,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:A},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return ne.\u0275fac=function(A){return new(A||ne)},ne.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ne}),ne.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),ne})()},5620:(ne,z,A)=>{A.d(z,{UO:()=>qe,qg:()=>Ae,Y6:()=>le,mK:()=>yt,n$:()=>rr,Y$:()=>Ti,FR:()=>yn,yh:()=>Gt,Aw:()=>Vn,wb:()=>Li,PH:()=>be,Lq:()=>Jr,on:()=>Mn,Ky:()=>xe});var a=A(5e3),$=A(1135),k=A(8306),ee=A(7579),U=A(233),te=A(4004),J=A(5363),W=A(1365),L=A(5026),V=A(1884);const K={};function be(G,pe){if(K[G]=(K[G]||0)+1,"function"==typeof pe)return he(G,(...ge)=>Object.assign(Object.assign({},pe(...ge)),{type:G}));switch(pe?pe._as:"empty"){case"empty":return he(G,()=>({type:G}));case"props":return he(G,ge=>Object.assign(Object.assign({},ge),{type:G}));default:throw new Error("Unexpected config.")}}function xe(){return{_as:"props",_p:void 0}}function he(G,pe){return Object.defineProperty(pe,"type",{value:G,writable:!1})}const Ae="@ngrx/store/init";let qe=(()=>{class G extends $.X{constructor(){super({type:Ae})}next(ie){if("function"==typeof ie)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===ie)throw new TypeError("Actions must be objects");if(void 0===ie.type)throw new TypeError("Actions must have a type property");super.next(ie)}complete(){}ngOnDestroy(){super.complete()}}return G.\u0275fac=function(ie){return new(ie||G)},G.\u0275prov=a.Yz7({token:G,factory:G.\u0275fac}),G})();const Ke=[qe],ue=new a.OlP("@ngrx/store Internal Root Guard"),nt=new a.OlP("@ngrx/store Internal Initial State"),le=new a.OlP("@ngrx/store Initial State"),_e=new a.OlP("@ngrx/store Reducer Factory"),de=new a.OlP("@ngrx/store Internal Reducer Factory Provider"),Oe=new a.OlP("@ngrx/store Initial Reducers"),Ce=new a.OlP("@ngrx/store Internal Initial Reducers"),$e=new a.OlP("@ngrx/store Store Features"),Mt=new a.OlP("@ngrx/store Internal Store Reducers"),Jt=new a.OlP("@ngrx/store Internal Feature Reducers"),dn=new a.OlP("@ngrx/store Internal Feature Configs"),tt=new a.OlP("@ngrx/store Internal Store Features"),Xt=new a.OlP("@ngrx/store Internal Feature Reducers Token"),ei=new a.OlP("@ngrx/store Feature Reducers"),xn=new a.OlP("@ngrx/store User Provided Meta Reducers"),nn=new a.OlP("@ngrx/store Meta Reducers"),ir=new a.OlP("@ngrx/store Internal Resolved Meta Reducers"),sn=new a.OlP("@ngrx/store User Runtime Checks Config"),en=new a.OlP("@ngrx/store Internal User Runtime Checks Config"),Nn=new a.OlP("@ngrx/store Internal Runtime Checks"),Fi=new a.OlP("@ngrx/store Check if Action types are unique");function Vr(G,pe={}){const ie=Object.keys(G),ge={};for(let Ge=0;Ge<ie.length;Ge++){const xt=ie[Ge];"function"==typeof G[xt]&&(ge[xt]=G[xt])}const We=Object.keys(ge);return function(xt,zn){xt=void 0===xt?pe:xt;let mn=!1;const Si={};for(let qt=0;qt<We.length;qt++){const Dr=We[qt],xo=xt[Dr],Bn=(0,ge[Dr])(xo,zn);Si[Dr]=Bn,mn=mn||Bn!==xo}return mn?Si:xt}}function wr(...G){return function(pe){if(0===G.length)return pe;const ie=G[G.length-1];return G.slice(0,-1).reduceRight((We,Ge)=>Ge(We),ie(pe))}}function Di(G,pe){return Array.isArray(pe)&&pe.length>0&&(G=wr.apply(null,[...pe,G])),(ie,ge)=>{const We=G(ie);return(Ge,xt)=>We(Ge=void 0===Ge?ge:Ge,xt)}}class rr extends k.y{}class yt extends qe{}const Li="@ngrx/store/update-reducers";let Ln=(()=>{class G extends $.X{constructor(ie,ge,We,Ge){super(Ge(We,ge)),this.dispatcher=ie,this.initialState=ge,this.reducers=We,this.reducerFactory=Ge}get currentReducers(){return this.reducers}addFeature(ie){this.addFeatures([ie])}addFeatures(ie){const ge=ie.reduce((We,{reducers:Ge,reducerFactory:xt,metaReducers:zn,initialState:mn,key:Si})=>{const qt="function"==typeof Ge?function Kr(G){const pe=Array.isArray(G)&&G.length>0?wr(...G):ie=>ie;return(ie,ge)=>(ie=pe(ie),(We,Ge)=>ie(We=void 0===We?ge:We,Ge))}(zn)(Ge,mn):Di(xt,zn)(Ge,mn);return We[Si]=qt,We},{});this.addReducers(ge)}removeFeature(ie){this.removeFeatures([ie])}removeFeatures(ie){this.removeReducers(ie.map(ge=>ge.key))}addReducer(ie,ge){this.addReducers({[ie]:ge})}addReducers(ie){this.reducers=Object.assign(Object.assign({},this.reducers),ie),this.updateReducers(Object.keys(ie))}removeReducer(ie){this.removeReducers([ie])}removeReducers(ie){ie.forEach(ge=>{this.reducers=function Ni(G,pe){return Object.keys(G).filter(ie=>ie!==pe).reduce((ie,ge)=>Object.assign(ie,{[ge]:G[ge]}),{})}(this.reducers,ge)}),this.updateReducers(ie)}updateReducers(ie){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Li,features:ie})}ngOnDestroy(){this.complete()}}return G.\u0275fac=function(ie){return new(ie||G)(a.LFG(yt),a.LFG(le),a.LFG(Oe),a.LFG(_e))},G.\u0275prov=a.Yz7({token:G,factory:G.\u0275fac}),G})();const ti=[Ln,{provide:rr,useExisting:Ln},{provide:yt,useExisting:qe}];let Ti=(()=>{class G extends ee.x{ngOnDestroy(){this.complete()}}return G.\u0275fac=function(){let pe;return function(ge){return(pe||(pe=a.n5z(G)))(ge||G)}}(),G.\u0275prov=a.Yz7({token:G,factory:G.\u0275fac}),G})();const Ts=[Ti];class yn extends k.y{}let ni=(()=>{class G extends $.X{constructor(ie,ge,We,Ge){super(Ge);const Si=ie.pipe((0,J.Q)(U.N)).pipe((0,W.M)(ge)).pipe((0,L.R)(ls,{state:Ge}));this.stateSubscription=Si.subscribe(({state:qt,action:Dr})=>{this.next(qt),We.next(Dr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return G.INIT=Ae,G.\u0275fac=function(ie){return new(ie||G)(a.LFG(qe),a.LFG(rr),a.LFG(Ti),a.LFG(le))},G.\u0275prov=a.Yz7({token:G,factory:G.\u0275fac}),G})();function ls(G={state:void 0},[pe,ie]){const{state:ge}=G;return{state:ie(ge,pe),action:pe}}const Io=[ni,{provide:yn,useExisting:ni}];let Gt=(()=>{class G extends k.y{constructor(ie,ge,We){super(),this.actionsObserver=ge,this.reducerManager=We,this.source=ie}select(ie,...ge){return St.call(null,ie,...ge)(this)}lift(ie){const ge=new G(this,this.actionsObserver,this.reducerManager);return ge.operator=ie,ge}dispatch(ie){this.actionsObserver.next(ie)}next(ie){this.actionsObserver.next(ie)}error(ie){this.actionsObserver.error(ie)}complete(){this.actionsObserver.complete()}addReducer(ie,ge){this.reducerManager.addReducer(ie,ge)}removeReducer(ie){this.reducerManager.removeReducer(ie)}}return G.\u0275fac=function(ie){return new(ie||G)(a.LFG(yn),a.LFG(qe),a.LFG(Ln))},G.\u0275prov=a.Yz7({token:G,factory:G.\u0275fac}),G})();const _t=[Gt];function St(G,pe,...ie){return function(We){let Ge;if("string"==typeof G){const xt=[pe,...ie].filter(Boolean);Ge=We.pipe(function q(...G){const pe=G.length;if(0===pe)throw new Error("list of properties cannot be empty.");return(0,te.U)(ie=>{let ge=ie;for(let We=0;We<pe;We++){const Ge=null==ge?void 0:ge[G[We]];if(void 0===Ge)return;ge=Ge}return ge})}(G,...xt))}else{if("function"!=typeof G)throw new TypeError(`Unexpected type '${typeof G}' in select operator, expected 'string' or 'function'`);Ge=We.pipe((0,te.U)(xt=>G(xt,pe)))}return Ge.pipe((0,V.x)())}}const ii="https://ngrx.io/guide/store/configuration/runtime-checks";function Er(G){return void 0===G}function Yt(G){return null===G}function cs(G){return Array.isArray(G)}function mi(G){return"object"==typeof G&&null!==G}function Re(G){return"function"==typeof G}function Gn(G){Object.freeze(G);const pe=Re(G);return Object.getOwnPropertyNames(G).forEach(ie=>{if(!ie.startsWith("\u0275")&&function wt(G,pe){return Object.prototype.hasOwnProperty.call(G,pe)}(G,ie)&&(!pe||"caller"!==ie&&"callee"!==ie&&"arguments"!==ie)){const ge=G[ie];(mi(ge)||Re(ge))&&!Object.isFrozen(ge)&&Gn(ge)}}),G}function Ks(G,pe=[]){return(Er(G)||Yt(G))&&0===pe.length?{path:["root"],value:G}:Object.keys(G).reduce((ge,We)=>{if(ge)return ge;const Ge=G[We];return function at(G){return Re(G)&&G.hasOwnProperty("\u0275cmp")}(Ge)?ge:!(Er(Ge)||Yt(Ge)||function bt(G){return"number"==typeof G}(Ge)||function pi(G){return"boolean"==typeof G}(Ge)||function Ii(G){return"string"==typeof G}(Ge)||cs(Ge))&&(function rt(G){if(!function $t(G){return mi(G)&&!cs(G)}(G))return!1;const pe=Object.getPrototypeOf(G);return pe===Object.prototype||null===pe}(Ge)?Ks(Ge,[...pe,We]):{path:[...pe,We],value:Ge})},!1)}function Ys(G,pe){if(!1===G)return;const ie=G.path.join("."),ge=new Error(`Detected unserializable ${pe} at "${ie}". ${ii}#strict${pe}serializability`);throw ge.value=G.value,ge.unserializablePath=ie,ge}function ri(G){return(0,a.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},G):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ao({strictActionSerializability:G,strictStateSerializability:pe}){return ie=>G||pe?function Is(G,pe){return function(ie,ge){pe.action(ge)&&Ys(Ks(ge),"action");const We=G(ie,ge);return pe.state()&&Ys(Ks(We),"state"),We}}(ie,{action:ge=>G&&!Ue(ge),state:()=>pe}):ie}function sr({strictActionImmutability:G,strictStateImmutability:pe}){return ie=>G||pe?function vn(G,pe){return function(ie,ge){const We=pe.action(ge)?Gn(ge):ge,Ge=G(ie,We);return pe.state()?Gn(Ge):Ge}}(ie,{action:ge=>G&&!Ue(ge),state:()=>pe}):ie}function Ue(G){return G.type.startsWith("@ngrx")}function Ut({strictActionWithinNgZone:G}){return pe=>G?function Yr(G,pe){return function(ie,ge){if(pe.action(ge)&&!a.R0b.isInAngularZone())throw new Error(`Action '${ge.type}' running outside NgZone. ${ii}#strictactionwithinngzone`);return G(ie,ge)}}(pe,{action:ie=>G&&!Ue(ie)}):pe}function bn(G){return[{provide:en,useValue:G},{provide:sn,useFactory:us,deps:[en]},{provide:Nn,deps:[sn],useFactory:ri},{provide:nn,multi:!0,deps:[Nn],useFactory:sr},{provide:nn,multi:!0,deps:[Nn],useFactory:Ao},{provide:nn,multi:!0,deps:[Nn],useFactory:Ut}]}function ui(){return[{provide:Fi,multi:!0,deps:[Nn],useFactory:$n}]}function us(G){return G}function $n(G){if(!G.strictActionTypeUniqueness)return;const pe=Object.entries(K).filter(([,ie])=>ie>1).map(([ie])=>ie);if(pe.length)throw new Error(`Action types are registered more than once, ${pe.map(ie=>`"${ie}"`).join(", ")}. ${ii}#strictactiontypeuniqueness`)}let Cr=(()=>{class G{constructor(ie,ge,We,Ge,xt,zn){}}return G.\u0275fac=function(ie){return new(ie||G)(a.LFG(qe),a.LFG(rr),a.LFG(Ti),a.LFG(Gt),a.LFG(ue,8),a.LFG(Fi,8))},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({}),G})(),pn=(()=>{class G{constructor(ie,ge,We,Ge,xt){this.features=ie,this.featureReducers=ge,this.reducerManager=We;const zn=ie.map((mn,Si)=>{const Dr=ge.shift()[Si];return Object.assign(Object.assign({},mn),{reducers:Dr,initialState:Qr(mn.initialState)})});We.addFeatures(zn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return G.\u0275fac=function(ie){return new(ie||G)(a.LFG(tt),a.LFG(ei),a.LFG(Ln),a.LFG(Cr),a.LFG(Fi,8))},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({}),G})(),Vn=(()=>{class G{static forRoot(ie,ge={}){return{ngModule:Cr,providers:[{provide:ue,useFactory:hs,deps:[[Gt,new a.FiY,new a.tp0]]},{provide:nt,useValue:ge.initialState},{provide:le,useFactory:Qr,deps:[nt]},{provide:Ce,useValue:ie},{provide:Mt,useExisting:ie instanceof a.OlP?ie:Ce},{provide:Oe,deps:[a.zs3,Ce,[new a.tBr(Mt)]],useFactory:ds},{provide:xn,useValue:ge.metaReducers?ge.metaReducers:[]},{provide:ir,deps:[nn,xn],useFactory:So},{provide:de,useValue:ge.reducerFactory?ge.reducerFactory:Vr},{provide:_e,deps:[de,ir],useFactory:Di},Ke,ti,Ts,Io,_t,bn(ge.runtimeChecks),ui()]}}static forFeature(ie,ge,We={}){return{ngModule:pn,providers:[{provide:dn,multi:!0,useValue:ie instanceof Object?{}:We},{provide:$e,multi:!0,useValue:{key:ie instanceof Object?ie.name:ie,reducerFactory:We instanceof a.OlP||!We.reducerFactory?Vr:We.reducerFactory,metaReducers:We instanceof a.OlP||!We.metaReducers?[]:We.metaReducers,initialState:We instanceof a.OlP||!We.initialState?void 0:We.initialState}},{provide:tt,deps:[a.zs3,dn,$e],useFactory:Ft},{provide:Jt,multi:!0,useValue:ie instanceof Object?ie.reducer:ge},{provide:Xt,multi:!0,useExisting:ge instanceof a.OlP?ge:Jt},{provide:ei,multi:!0,deps:[a.zs3,Jt,[new a.tBr(Xt)]],useFactory:As},ui()]}}}return G.\u0275fac=function(ie){return new(ie||G)},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({}),G})();function ds(G,pe){return pe instanceof a.OlP?G.get(pe):pe}function Ft(G,pe,ie){return ie.map((ge,We)=>{if(pe[We]instanceof a.OlP){const Ge=G.get(pe[We]);return{key:ge.key,reducerFactory:Ge.reducerFactory?Ge.reducerFactory:Vr,metaReducers:Ge.metaReducers?Ge.metaReducers:[],initialState:Ge.initialState}}return ge})}function As(G,pe){return pe.map(ge=>ge instanceof a.OlP?G.get(ge):ge)}function Qr(G){return"function"==typeof G?G():G}function So(G,pe){return G.concat(pe)}function hs(G){if(G)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Mn(...G){return{reducer:G.pop(),types:G.map(ge=>ge.type)}}function Jr(G,...pe){const ie=new Map;for(const ge of pe)for(const We of ge.types){const Ge=ie.get(We);ie.set(We,Ge?(zn,mn)=>ge.reducer(Ge(zn,mn),mn):ge.reducer)}return function(ge=G,We){const Ge=ie.get(We.type);return Ge?Ge(ge,We):ge}}},5861:(ne,z,A)=>{function a(k,ee,U,te,q,J,W){try{var L=k[J](W),V=L.value}catch(K){return void U(K)}L.done?ee(V):Promise.resolve(V).then(te,q)}function $(k){return function(){var ee=this,U=arguments;return new Promise(function(te,q){var J=k.apply(ee,U);function W(V){a(J,te,q,W,L,"next",V)}function L(V){a(J,te,q,W,L,"throw",V)}W(void 0)})}}A.d(z,{Z:()=>$})}},ne=>{ne(ne.s=271)}]);